From 12dc3b7541ba5bbe4ccb15679d2dcd4012ba589e Mon Sep 17 00:00:00 2001
From: Michael Klein <michael.klein@puffin.lb.shuttle.de>
Date: Sun, 23 Oct 2011 22:14:44 +0200
Subject: [PATCH] compile fixes for Xcode 3.1.3

---
 src/AppKiDo.xcodeproj/project.pbxproj |   12 +++++++++---
 src/AppKiDo_Prefix.pch                |    5 +++++
 2 files changed, 14 insertions(+), 3 deletions(-)

--- src/AppKiDo.xcodeproj/project.pbxproj.orig
+++ src/AppKiDo.xcodeproj/project.pbxproj
@@ -2415,6 +2415,8 @@
 				GCC_ENABLE_OBJC_EXCEPTIONS = YES;
 				GCC_GENERATE_DEBUGGING_SYMBOLS = YES;
 				GCC_OPTIMIZATION_LEVEL = 0;
+				GCC_PRECOMPILE_PREFIX_HEADER = YES;
+				GCC_PREFIX_HEADER = AppKiDo_Prefix.pch;
 				GCC_TREAT_WARNINGS_AS_ERRORS = NO;
 				GCC_VERSION = 4.0;
 				GCC_WARN_ABOUT_MISSING_NEWLINE = YES;
@@ -2434,7 +2436,7 @@
 				GCC_WARN_UNUSED_VALUE = YES;
 				GCC_WARN_UNUSED_VARIABLE = YES;
 				LINKER_DISPLAYS_FILES_FOR_UNDEFINED_SYMBOLS = YES;
-				MACOSX_DEPLOYMENT_TARGET = 10.3;
+				MACOSX_DEPLOYMENT_TARGET = 10.4;
 				PREBINDING = NO;
 				WARNING_CFLAGS = (
 					"-Wmost",
@@ -2459,6 +2461,8 @@
 				GCC_ENABLE_OBJC_EXCEPTIONS = YES;
 				GCC_GENERATE_DEBUGGING_SYMBOLS = YES;
 				GCC_OPTIMIZATION_LEVEL = 2;
+				GCC_PRECOMPILE_PREFIX_HEADER = YES;
+				GCC_PREFIX_HEADER = AppKiDo_Prefix.pch;
 				GCC_TREAT_WARNINGS_AS_ERRORS = NO;
 				GCC_VERSION = 4.0;
 				GCC_WARN_64_TO_32_BIT_CONVERSION = NO;
@@ -2503,8 +2507,10 @@
 		73DA1ED3089AEA560016F230 /* Default */ = {
 			isa = XCBuildConfiguration;
 			buildSettings = {
-				MACOSX_DEPLOYMENT_TARGET = 10.3;
-				SDKROOT = /Developer/SDKs/MacOSX10.3.9.sdk;
+				GCC_PRECOMPILE_PREFIX_HEADER = YES;
+				GCC_PREFIX_HEADER = AppKiDo_Prefix.pch;
+				MACOSX_DEPLOYMENT_TARGET = 10.4;
+				SDKROOT = /Developer/SDKs/MacOSX10.4u.sdk;
 			};
 			name = Default;
 		};
--- src/AppKiDo_Prefix.pch.orig
+++ src/AppKiDo_Prefix.pch
@@ -5,6 +5,11 @@
 #ifdef __OBJC__
     #import <Cocoa/Cocoa.h>
 
+    #if MAC_OS_X_VERSION_MAX_ALLOWED <= MAC_OS_X_VERSION_10_5
+    @protocol NSToolbarDelegate <NSObject> @end
+    @protocol NSTextViewDelegate <NSObject> @end
+    #endif
+
     #import "DIGSLog.h"
     #import <DIGSFileProcessor.h>
     #import <DIGSFindBuffer.h>
