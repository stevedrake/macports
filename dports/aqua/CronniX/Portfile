# $Id$

PortSystem              1.0
PortGroup               xcode 1.0

name                    CronniX
version                 3.0.1
categories              aqua
maintainers             ryandesign
homepage                http://www.abstracture.de/projects-en/cronnix/
master_sites            ${homepage}download/
distname                ${name}_${version}_src
use_zip                 yes
xcode.target            ${name}
universal_variant       no

description \
    graphical frontend for scheduling cronjobs

long_description \
    ${name} is a Mac OS X frontend to the Unix scheduler cron. Cron is a \
    system service that allows scheduled execution of scripts and programs.

checksums \
    md5 c0816320e9434a9147c72ba36db17b69 \
    sha1 818bbca981599846e2f6e4dba705328fb31e2280 \
    rmd160 c1a0eeaecdbf2d54a66518e05058937d825340a1

post-destroot {
    # CronniX creates the ${xcode.destroot.path} directory with 700 permissions
    # and the directories inside its application bundle with 555 permissions
    # which prevents MacPorts from being able to move them from the destroot
    # to the install area.
    fs-traverse dir ${destroot} {
        if {[file isdirectory ${dir}]} {
            file attributes ${dir} -permissions 0755
        }
    }
}

livecheck.check         regex
livecheck.url           [lindex ${master_sites} 0]
livecheck.regex         ${name}_(\[0-9.\]+)(_src)?\\.
