# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem	1.0

name			LyX
version			1.5.4
platforms		darwin
categories	aqua
maintainers	rsorasen@broadpark.no
description	WYSIWYM document processor

long_description	LyX is an advanced open source document processor \
				that encourages an approach to writing based on \
				the structure of your documents, not their \
				appearance. LyX lets you concentrate on writing, \
				leaving details of visual layout to the software.

homepage		http://www.lyx.org/
master_sites	http://lyx.cybermirror.org/stable/ \
				http://sunsite.icm.edu.pl/pub/unix/editors/lyx/stable/ \
				ftp://ftp.ntua.gr/pub/X11/LyX/stable/ \
				ftp://ftp.lyx.org/pub/lyx/stable/ \
				http://gd.tuwien.ac.at/publishing/tex/lyx/stable/
use_bzip2		yes
distname		lyx-${version}
checksums		md5 6f424dc23af78e1d39c6962101cde2e9 \
				sha1 75c2be653b64eedeb443caf2b0401fb74a15e908 \
				rmd160 fca3cb9c9c9437e879c8abea820fbd28a5d1d72d

depends_lib		port:qt4-mac \
				bin:tex:texlive \
				port:ImageMagick \
				port:python25

patchfiles	patch-ltmain.sh

use_parallel_build   yes
configure.python    ${prefix}/bin/python2.5
configure.pre_args  --prefix=/Applications/MacPorts/LyX.app
configure.args --with-frontend=qt4 --without-x --with-included-gettext \
    --enable-optimization=-Os --disable-concept-checks \
    --with-qt4-dir=${prefix}
