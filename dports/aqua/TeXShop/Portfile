# $Id: Portfile,v 1.14 2006/03/16 02:47:19 waqar Exp $

PortSystem    	1.0
name      	TeXShop
version       	2.09b
categories    	editors aqua
maintainers   	waqar@opendarwin.org
description   	TeX previewer for Mac OS X
long_description   \
	TeXShop is a TeX previewer for Mac OS X, written in Cocoa. 	\
	Since pdf is a native file format on OS X, TeXShop uses 	\
	"pdftex" and "pdflatex" rather than "tex" and "latex" to 	\
	typeset, these programs in the standard teTeX distribution 	\
	of TeX produce pdf output instead of dvi output.
homepage	http://www.uoregon.edu/~koch/texshop/texshop.html
platforms	macosx
master_sites	http://www.uoregon.edu/~koch/texshop
use_zip		yes
distname	texshopsource
checksums	md5 68087c377f200c8c2255952661b862bd			\
		sha1 1b52ff1207eb3780d83feb481a4616dbc653450b

use_configure   no
pre-build	{
# German.lproj has the help file with wrong case we have to move it to
# tmp and then correct the case.
	file rename ${worksrcpath}/German.lproj/TexShopHelp		\
		${worksrcpath}/German.lproj/TexShopHelp1
	file rename ${worksrcpath}/German.lproj/TexShopHelp1		\
		${worksrcpath}/German.lproj/TeXShopHelp
}

build.type	pbx
build.target	-target ${name}
build.args	build FRAMEWORK_SEARCH_PATHS=${worksrcpath}

destroot 	{ 
	cd ${worksrcpath}
	system "${build.cmd} DSTROOT=${destroot}			\
		INSTALL_PATH=/Applications/DarwinPorts -target ${name} 	\
		install	INSTALL_MODE_FLAG=755 				\
		FRAMEWORK_SEARCH_PATHS=${worksrcpath}"
}
