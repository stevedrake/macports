# $Id$

PortSystem      1.0

name            fltk
version         1.1.8
categories      aqua devel
platforms       macosx
maintainers     nomaintainer
description     Fast Light Tool Kit

long_description \
    FLTK (pronounced fulltick) \
    is a cross-platform C++ GUI toolkit for UNIX/Linux (X11), \
    Microsoft Windows, and Mac OS X. \
    FLTK provides modern GUI functionality without the bloat \
    and supports 3D graphics via OpenGL and \
    its built-in GLUT emulation. \
    \
    FLTK is designed to be small and modular enough to be \
    statically linked, but works fine as a shared library. \
    FLTK also includes an excellent UI builder called FLUID \
    that can be used to create applications in minutes.

homepage        http://www.fltk.org/
master_sites    http://ftp.easysw.com/pub/fltk/${version}/
worksrcdir      ${name}-${version}
distname        ${worksrcdir}-source
use_bzip2       yes

checksums       md5 0f272d7299778e42fcbedf3c01741f4f \
                sha1 ea2ba012025726f28f1b58451489f12c5bba42ac \
                rmd160 7ae097f78111c6ab577f184ac292912ff14c8416

depends_lib     port:jpeg \
                port:libpng \
                port:zlib

# Can be removed once MacPorts 1.7.0 is released
if {![info exists applications_dir]} {
    set applications_dir /Applications/MacPorts
}

post-patch {
    reinplace "s|/Applications|${applications_dir}/${name}|g" \
        ${worksrcpath}/fluid/Makefile \
        ${worksrcpath}/test/Makefile
}

configure.args  --enable-threads \
                --mandir=${prefix}/share/man

use_parallel_build  yes

destroot.target install \
                install-desktop

post-activate {
    system "${prefix}/bin/fltk-config --post fluid"
}

