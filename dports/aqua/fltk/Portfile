# $Id: Portfile 21859 2007-02-10 17:04:17Z rhwood@macports.org $

PortSystem 1.0
name            fltk
version         1.1.7
revision        2
categories      aqua devel
maintainers     nomaintainer@macports.org
description     Fast Light Tool Kit
homepage        http://www.fltk.org/
platforms       macosx

long_description \
    FLTK (pronounced fulltick) \
    is a cross-platform C++ GUI toolkit for UNIX/Linux (X11), \
    Microsoft Windows, and MacOS X. \
    FLTK provides modern GUI functionality without the bloat \
    and supports 3D graphics via OpenGL and \
    its built-in GLUT emulation. \
    \
    FLTK is designed to be small and modular enough to be \
    statically linked, but works fine as a shared library. \
    FLTK also includes an excellent UI builder called FLUID \
    that can be used to create applications in minutes.

master_sites    http://ftp.easysw.com/pub/fltk/1.1.7/
use_bzip2       yes
distfiles       ${name}-${version}-source${extract.suffix}
checksums       md5 2e29319119adc9d63b2f26b72cae0a88

depends_lib     port:jpeg port:libpng port:zlib

patchfiles      patch-fluid-Makefile \
                patch-makeinclude.in

post-patch {
    reinplace "s|/Applications|/Applications/MacPorts/${name}|g" \
        ${worksrcpath}/fluid/Makefile \
        ${worksrcpath}/test/Makefile
}

configure.args  --enable-threads \
                --mandir=${prefix}/share/man

destroot.target install install-desktop

post-activate {
    cd ${prefix}/bin
    system "./fltk-config --post fluid"
}
