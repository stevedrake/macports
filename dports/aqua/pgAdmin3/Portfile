# $Id: Portfile,v 1.1 2005/11/19 12:30:23 mww Exp $

PortSystem 1.0
name		pgAdmin3
version		1.4.0
categories	aqua
maintainers	jyrki.wahlstedt@hut.fi
description	"An administration program to PostgreSQL"
long_description "pgAdmin III is a powerful administration and development\
		platform for the PostgreSQL database, free for any use. The\
		application works on several platforms (GNU/Linux, FreeBSD\
		and Windows 2000/XP). This port is for OS X.\
		Variant pre is for those, who have for one reason or \
		another installed the database themselves. Variant\
		postgresql7 is for PostgreSQL 7."
platforms	macosx
homepage	http://www.pgadmin.org/

master_sites	http://developer.pgadmin.org/ftp/release/v${version}/src/ \
		http://www.postgresql.org/ftp/pgadmin3/release/v${version}/src/

distname	pgadmin3-${portversion}
checksums	md5 a0779079bf579b0cd5e132ac5372f7f3

depends_lib	port:postgresql8\
		port:wxWidgets\
		port:openssl

post-extract {
	file mkdir ${worksrcpath}/pgsql8
	file link ${worksrcpath}/pgsql8/lib ${prefix}/lib/pgsql8
	file link ${worksrcpath}/pgsql8/include ${prefix}/include/pgsql8
}

configure.args	--with-pgsql=${worksrcpath}/pgsql8 --with-wx=${prefix} --enable-appbundle

build.target	all install

destroot {
	xinstall -d -m 0755 ${destroot}/Applications/DarwinPorts
	file copy ${worksrcpath}/${name}.app ${destroot}/Applications/DarwinPorts/${name}.app
}

