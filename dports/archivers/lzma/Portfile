# $Id$

PortSystem      1.0

name            lzma
version         4.43
categories      archivers
platforms       darwin
maintainers     nomaintainer
description     high compression ratio archiver

long_description \
    LZMA is default and general compression method of 7z \
    format in 7-Zip program. LZMA provides high compression \
    ratio and very fast decompression.

homepage        http://www.7-zip.org/sdk.html
master_sites    sourceforge:sevenzip
distname        lzma443
checksums       md5 c4e1b467184c7cffd4371c74df2baf0f
use_bzip2       yes

worksrcdir      C/7zip/Compress/LZMA_Alone

use_configure   no
build.args      -f makefile.gcc

post-install {
    ui_msg "The LZMA SDK program is installed as \"lzma_alone\", to avoid conflict with LZMA Utils"
}

destroot {
    xinstall -m 755 -s ${worksrcpath}/lzma ${destroot}${prefix}/bin/lzma_alone
    xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 -W ${workpath} CPL.html LGPL.txt history.txt lzma.txt \
        ${destroot}${prefix}/share/doc/${name}
}
