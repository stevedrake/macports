# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:filetype=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0

name                paq8
version             8o10t
categories          archivers
platforms           darwin
maintainers         jmr openmaintainer
description         PAQ8, a tight but slow compressor
long_description    PAQ is a series of open source data compression \
                    archivers that have evolved through collaborative \
                    development to top rankings on several benchmarks \
                    measuring compression ratio (although at the expense \
                    of speed and memory usage).

homepage            http://cs.fit.edu/~mmahoney/compression/
master_sites        ${homepage}
use_zip             yes
distname            paq${version}
checksums           md5 12d82b90340f4bc7867d84e99991e800 \
                    sha1 3e26c1d7012b0b87cc2bea891b88b05980eb9098 \
                    rmd160 b03086002b420e0be7e4ed7814a9d61b2eea540d

worksrcdir          .
use_configure       no

build.cmd           g++
build.args          -O3 -DUNIX -DNOASM -o paq8
build.target        paq${version}.cpp

destroot.cmd        install
destroot.target     paq8
destroot.destdir    ${destroot}${prefix}/bin

variant universal description {Build for multiple architectures} {
    build.args-append   ${configure.universal_cflags}
}

livecheck.check     regex
livecheck.url       ${homepage}
livecheck.regex     "paq(8\[\\w\]+)${extract.suffix}"
