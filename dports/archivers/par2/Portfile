# $Id$

PortSystem        1.0
name              par2
version           0.4
revision          1
description       Parchive: Parity Archive Volume Set for data recovery
long_description  Parchive takes .par files and can regenerate missing data \
                  based upon a Reed-Soloman Code. This is useful for \
                  restoring missing pieces of a multi-part archive like the \
                  kinds used on Usenet. Version 2 does not require \
                  like-sized pieces, so it is useful for many more kinds of \
                  data recovery.
maintainers       julian@jabber.org
categories        archivers
platforms         darwin 
homepage          http://parchive.sourceforge.net/
master_sites      sourceforge:parchive
checksums         md5 1551b63e57e3c232254dc62073b723a9
distname          par2cmdline-${version}
configure.args    --mandir=${prefix}/share/man
configure.env     CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
                  CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress"

platform darwin 8 powerpc {
    configure.env-append    CC=/usr/bin/gcc-3.3 CXX=/usr/bin/g++-3.3
    patchfiles        patch-commandline_cpp patch-par2repairer_cpp
}

platform darwin 8 i386 {
    patchfiles        patch-commandline_cpp patch-par2repairer_cpp patch-reedsolomon_cpp
}

platform darwin 9 {
    patchfiles        patch-commandline_cpp patch-par2repairer_cpp patch-reedsolomon_cpp
}
