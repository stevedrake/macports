# $Id: Portfile,v 1.2 2005/01/21 17:48:30 toby Exp $

PortSystem 1.0
name             pbzip2
version          0.8.3
categories       archivers
maintainers      toby@opendarwin.org
description      parallel bzip2
long_description \
	PBZIP2 is a parallel implementation of the bzip2 \
	block-sorting file compressor that uses pthreads \
	and achieves near-linear speedup on SMP machines.
homepage         http://compression.ca/pbzip2/
platforms        darwin
master_sites     ${homepage}
checksums        md5 be019a4bbad3dca79ac12fbd90e2d745

patchfiles       patch-Makefile
post-patch {
	reinplace "s|__PREFIX__|${prefix}|" ${worksrcpath}/Makefile
}

depends_lib      lib:XXX:bzip2

configure        {}

destroot {
	xinstall -m 555 ${worksrcpath}/pbzip2 ${destroot}${prefix}/bin

	xinstall -d ${destroot}${prefix}/share/doc/pbzip2
	xinstall -m 444 ${worksrcpath}/LICENSE.txt \
		${destroot}${prefix}/share/doc/pbzip2
	xinstall -m 444 ${worksrcpath}/README.txt \
		${destroot}${prefix}/share/doc/pbzip2
}
