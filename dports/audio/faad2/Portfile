# $Id$

PortSystem 1.0
name		faad2
version		2.5
revision	1
categories	audio
maintainers	pguyot@kallisys.net
description	Fastest ISO AAC audio decoder.
long_description	FAAD2 is the fastest ISO AAC audio decoder available. \
			FAAD2 correctly decodes all MPEG-4 and MPEG-2 MAIN, LC \
			(Low Complexity), HE (High Efficiency), LTP (Long Term \
			Prediction), LD (Low Delay) and ER (Error Resiliency) \
			object type AAC files.
homepage	http://www.audiocoding.com/
platforms	darwin
master_sites	sourceforge:faac
checksums	md5 696490935bf65b2ace4aafaff79e2396 \
			sha1 3805d32c9d0033572eced93482f81c1dd198cd2c \
			rmd160 4031786df0aded272bc4603ef18e80128e5e9063
worksrcdir	${name}
patchfiles	patch-configure.in patch-Makefile.am patch-libfaad-common.h

depends_lib		port:libtool \
				port:autoconf \
				port:automake \
				port:perl5.8

pre-configure	{
	system "cd ${worksrcpath} && LIBTOOLIZE=${prefix}/bin/glibtoolize autoreconf -vif"
	reinplace "s|-flat_namespace -undefined suppress|-undefined error|g" "${worksrcpath}/aclocal.m4"
}

configure.args	--without-bmp --without-xmms --without-drm --without-mpeg4ip

platform darwin {
	configure.cflags-append  -DHAS_LRINTF
}

livecheck.version	${name}-${version}
livecheck.distname	faad2.src
