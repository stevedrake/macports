PortSystem 1.0
name		herrie
version		1.6
categories	audio
maintainers	ed@fxq.nl
description	Small command line interface music player
long_description \
	Herrie is a minimalistic music player that uses the command \
	line. It is written to support a variety of operating systems, \
	audio subsystems and file formats, including playlists. \
	\
	Herrie has a split-screen user interface, with a playlist at \
	the top of the screen and a file browser at the bottom. When \
	tracks are added to the playlist, Herrie automatically \
	consumes them one by one. It is thus an application that \
	allows you to batch music for playback. \
	\
	Herrie also has some more exotic features, including support \
	for AudioScrobbler and the ability to chroot() itself into a \
	directory.
homepage	http://herrie.info/
platforms	darwin
master_sites	http://herrie.info/distfiles/ \
		http://www.il.fontys.nl/~ed/projects/${name}/distfiles/ \
		http://www.stack.nl/~ed/projects/${name}/distfiles/
checksums	md5 4ce7ebeb10d21ec52cd7b1ca3158bbbb \
		rmd160 0f84baa8e35ed06c8e5744076f84a9800554b5c6 \
		sha1 7e49d091f049e2c118e4a0080b73dc303b4d4ac6
use_bzip2	yes

depends_lib	port:curl port:glib2 port:libao port:libid3tag port:libmad \
		port:libsndfile port:libvorbis port:ncurses port:libmodplug \
		port:libspiff
depends_build	port:gettext bin:pkg-config:pkgconfig

configure.pre_args
configure.env-append PREFIX=${prefix}

variant debug {
    configure.env-append    CFLAGS=-g
    # the line below requires the latest version from the trunk (1.5)
    # configure.cflags-append -g
    post-configure {
        cd ${worksrcpath}
        reinplace "s|install -s|install|g" Makefile
    }
}
