# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                libmusicbrainz
version             3.0.3
categories          audio devel
maintainers         nomaintainer
description         libmusicbrainz (also known as mb_client or MusicBrainz \
                    Client Library)
long_description    libmusicbrainz (also known as mb_client or \
                    MusicBrainz Client Library) is a development library \
                    geared towards developers who wish to add MusicBrainz \
                    lookup capabilities to their applications.
homepage            http://musicbrainz.org/doc/libmusicbrainz
platforms           darwin
master_sites        ftp://ftp.musicbrainz.org/pub/musicbrainz/

checksums           md5     f4824d0a75bdeeef1e45cc88de7bb58a \
                    sha1    630778a6b34daea73a1780096fde971c7e7964c1 \
                    rmd160  5eba6458a5b3ac28747b743787948ec781d2a998

depends_build       port:cmake
depends_lib         port:libdiscid \
                    port:neon

configure.cmd       cmake
configure.pre_args  -D CMAKE_INSTALL_PREFIX:PATH=${prefix} \
                    -D NEON_INCLUDE_DIR:PATH=${prefix}/include/neon \
                    -D NEON_LIBRARIES:FILEPATH=${prefix}/lib/libneon.dylib \
                    .

universal_variant no

livecheck.type  regex
livecheck.url   ${master_sites}
livecheck.regex "${name}-(\\d+(?:\\.\\d+)*)${extract.suffix}"
