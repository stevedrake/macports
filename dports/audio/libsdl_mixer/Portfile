# $Id: Portfile,v 1.8 2005/07/24 11:58:28 mww Exp $

PortSystem 1.0
name				libsdl_mixer
version				1.2.6
revision			3
categories			audio devel
maintainers			blb@pobox.com benwill@socrates.berkeley.edu
description			Audio mixer library for SDL
long_description \
	A sample multi-channel audio mixer library.  It supports any number of \
	simultaneously playing channels of 16 bit stereo audio, plus a single \
	channel of music.

platforms		darwin
homepage		http://www.libsdl.org/projects/SDL_mixer/
master_sites		${homepage}release/
distname		SDL_mixer-${version}

checksums		md5 2b8beffad9179d80e598c22c80efb135

depends_lib		port:libsdl port:smpeg port:libvorbis port:libogg port:libmikmod

configure.env		CPPFLAGS="-no-cpp-precomp -I${prefix}/include" \
					LDFLAGS="-L${prefix}/lib"
configure.args		--with-sdl-prefix=${prefix} --disable-sdltest \
		--enable-music-mp3 --with-smpeg-prefix=${prefix} --enable-music-ogg \
		--enable-music-libmikmod

post-destroot	{
	xinstall -m 0755 -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 0644 -W ${worksrcpath} CHANGES COPYING README \
		${destroot}${prefix}/share/doc/${name}
}

platform darwin 6 {
	depends_lib-append	lib:libdl:dlcompat
}
