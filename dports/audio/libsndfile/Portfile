# $Id$

PortSystem 1.0
name		libsndfile
version		1.0.17
revision	2
categories	audio
maintainers	nomaintainer
description	Library for reading and writing audio files
long_description	libsndfile is a C library for reading and writing \
	 		sound files such as AIFF, AU and WAV files through \
			one standard interface.  It can currently read/write \
			8, 16, 24 and 32-bit PCM files as well as 32-bit floating \
			point WAV files and a number of compressed formats.
homepage	http://www.mega-nerd.com/libsndfile/
platforms	darwin
master_sites	${homepage}
checksums	md5 2d126c35448503f6dbe33934d9581f6b
configure.args	--mandir=${prefix}/share/man --disable-flac --disable-sqlite

variant sqlite {
	depends_lib		port:sqlite3
	configure.args-delete	--disable-sqlite
	configure.args-append	--enable-sqlite
}

post-configure {
	system "ed - ${worksrcpath}/src/config.h < ${filespath}/src__config.h.ed"
}

variant flac {
	ui_error	"The libsndfile port is not compatible with the current version of flac."
#	depends_lib	port:flac
#	configure.args-delete	--disable-flac
#	configure.args-append	--enable-flac
}
