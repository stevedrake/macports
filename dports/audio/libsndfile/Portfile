# $Id$

PortSystem          1.0

name                libsndfile
version             1.0.17
revision            2
categories          audio
maintainers         perry
platforms           darwin

description         libsndfile is a C library for reading and writing files \
                    containing sampled sound (such as MS Windows WAV and the \
                    Apple/SGI AIFF format) through one standard library interface.
long_description    ${description}
homepage            http://www.mega-nerd.com/libsndfile/

master_sites        ${homepage}

checksums           rmd160 ae93822a4c587dcdd7c70d043d2a38ed2fe3a188

configure.args      --disable-alsa --disable-flac --disable-sqlite

post-configure {
    system "ed - ${worksrcpath}/src/config.h < ${filespath}/src__config.h.ed"
}

variant sqlite description {Enable support for SQLite} {
    depends_build-append port:pkgconfig
    depends_lib-append   port:sqlite3

    configure.args-append --enable-sqlite
    configure.args-delete --disable-sqlite
}
