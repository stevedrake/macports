# $Id$

PortSystem 1.0
name             mpd
version          0.12.2
revision         1
categories       audio
maintainers      ehainry@free.fr
description      Music Player Daemon
long_description \
	Music Player Daemon (MPD) allows remote access for playing music \
	(MP3, Ogg Vorbis, FLAC, AAC, Mod, and wave files) and managing \
	playlists. MPD is designed for integrating a computer into a stereo \
	system that provides control for music playback over a local network. \
	It also makes a great desktop music player, especially if you are a \
	console junkie, like frontend options, or restart X often.
homepage         http://www.musicpd.org/
platforms        darwin
master_sites     ${homepage}/uploads/files/
checksums        md5 6c724ed2efb70f8d2e3adfc370efe2ea \
                 sha1 7aa35a7c0c0e1251b191abd80ed7f884cb5218f8
depends_lib      lib:libmad.0:libmad \
                 lib:libid3tag.0:libid3tag \
                 port:libiconv port:pkgconfig port:zlib \
                 port:libogg port:libvorbis \
                 port:libao
configure.args   --mandir=${prefix}/share/man --enable-id3 --enable-ao \
                 --disable-flac --disable-aac
patchfiles       patch-flac
configure.env    CFLAGS="-I${prefix}/include" \
                 LDFLAGS="-L${prefix}/lib"
default_variants +aac
variant  aac {
        depends_lib-append    port:faad2
        configure.args-delete --disable-aac
        configure.args-append --enable-aac
}
variant flac {
# variant flac is broken: it does not compile with flac > 1.1.2
        depends_lib-append    port:flac
        configure.args-delete --disable-flac
        configure.args-append --enable-flac
}
platform macosx {
        configure.args-delete --enable-ao
        configure.args-append --disable-ao
        depends_lib-delete    port:libao
}


