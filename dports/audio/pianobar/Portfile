# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem                  1.0

name                        pianobar
version                     2011.09.22
categories                  audio
platforms                   darwin
maintainers                 gmail.com:aguynamedryan+pianobar
homepage                    http://6xq.net/html/00/17.html
master_sites                http://6xq.net/media/00/16/ 
use_bzip2                   yes 

description                 Console-based pandora.com player

long_description            pianobar is a console client for the \
                            personalized web radio pandora \
                            (http://www.pandora.com).\
                            Play and manage stations, rate songs and \
                            see why they were selected, show upcoming \
                            configure keybindings, last.fm scrobbling, \
                            proxy support for listening outside of USA.

depends_lib                 port:libao \
                            port:faad2 \
                            port:libmad

checksums                   sha256  6e54d4881e7ada6b0443611b0853215e9e54253667a58310d96dfe38be258ed3 \
                            rmd160  d69c4a94c59613fa6ca3e8ce2d9a6fe0878674a5

use_configure               no

variant universal {}

build.target                ${name}

build.args                  CC="${configure.cc} [get_canonical_archflags]" \
                            PREFIX=${prefix} \
                            CFLAGS=-std=c99 \
                            LIBAO_INCLUDE=${prefix}/include \
                            LIBFAAD_INCLUDE=${prefix}/include \
                            LIBMAD_INCLUDE=${prefix}/include

# On case-sensitive file systems, "make install" might
# think we mean make INSTALL and do nothing because
# INSTALL is always up to date.
pre-destroot    {
    file delete ${worksrcpath}/INSTALL
}
destroot.args               PREFIX=${prefix}

livecheck.type              regex
livecheck.regex             ${name}-(\[0-9.\]+)${extract.suffix}
