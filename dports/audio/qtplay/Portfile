# $Id: Portfile,v 1.2 2006/03/21 21:28:38 yves Exp $

PortSystem 1.0

name			qtplay
version			1.2
categories		audio
platforms		macosx
maintainers		yves@opendarwin.org
description		A command line utility to play Audio CDs and music files.
long_description \
    Quicktime player is a command line utility  \
    to play Audio CDs and music files. \
    Plays any audio file supported by Quicktime \
    Special flag for simply playing CDs, for lazy people. \
    Playlist features such as loop, shuffle, and random. \
    Special flag for reading playlist via standard input. \
    Support for process signals: SIGINT, SIGTSTP, and SIGCONT.

homepage		none
master_sites	opendarwin
distfiles       ${distname}${extract.suffix}
checksums		md5 3e396e05d0f3d2ce95ed86912ba7cf90

post-extract {
    file copy ${filespath}/${distname}.c ${workpath}
}

use_configure	no
build {
    cd ${workpath}
    system "gcc -o ${distname} \
        -framework Carbon -framework QuickTime ${distname}.c"
}

destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/bin
	xinstall -m 755 -d ${destroot}${prefix}/share/man/man1
	xinstall -m 755 ${workpath}/${distname} \
	   ${destroot}${prefix}/bin/${name}
	xinstall -m 644 ${workpath}/qtplay.1 \
	   ${destroot}${prefix}/share/man/man1
}
