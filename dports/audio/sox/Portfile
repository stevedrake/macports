# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0

name             sox
version          14.0.1
categories       audio
maintainers      nomaintainer
description      SOund eXchange - universal sound sample translator
long_description \
	SoX (also known as Sound eXchange) translates sound samples between \
	different file formats, and optionally applies various sound \
	effects. SoX is intended as the Swiss Army knife of sound processing \
	tools. It doesn't do anything very well, but sooner or later it \
	comes in very handy.
homepage         http://sox.sourceforge.net/
platforms        darwin

depends_lib      port:libao port:libsndfile port:libid3tag port:libsamplerate

master_sites     sourceforge
checksums        md5 6c95af60b20b9655531bf3162c0be937 \
                 sha1 b4b07e9905728209d3c97b9fb0fc65e75b4c45a1

configure.args   --mandir=\\\${prefix}/share/man \
                 --without-ogg \
                 --without-mad \
                 --without-lame \
                 --without-flac \
                 --without-ffmpeg \
                 --without-amr-wb \
                 --without-amr-nb

build.env        ${configure.env}

destroot.destdir prefix=${destroot}${prefix}

variant vorbis description {Enable Ogg Vorbis audio support} {
	configure.args-delete --without-ogg
	depends_lib-append    port:libvorbis
}

variant mad description {Enable MAD (MPEG audio decoder) support} {
	configure.args-delete --without-mad
	depends_lib-append    port:libmad
}

variant lame description {Enable LAME MP3 encoder support} {
	configure.args-delete --without-lame
	depends_lib-append    port:lame
}

variant flac description {Enable FLAC audio support} {
    configure.args-delete --without-flac
	depends_lib-append    port:flac
}

variant ffmpeg description {Enable ffmpeg support} {
    configure.args-delete --without-ffmpeg
	depends_lib-append    port:ffmpeg
}
