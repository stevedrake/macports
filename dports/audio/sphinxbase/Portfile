# $Id$

PortSystem          1.0
name                sphinxbase
version             0.6
description         Support library for CMU Sphinx
long_description \
    The CMU Sphinx toolkit is a group of speech recognition systems developed \
    at Carnegie Mellon University. This package is a support library that \
    is used by several elements of CMU Sphinx.
    
maintainers         singingwolfboy openmaintainer
categories          audio
platforms           darwin freebsd
homepage            http://www.speech.cs.cmu.edu/sphinx/
master_sites        sourceforge:cmusphinx
checksums           md5     5f89950966525b5f69a6ab36b3b817dd \
                    sha1    892d6785e298484d15d8873e1baf222364fea348 \
                    rmd160  86efb2d52dacdd33e64bfbef18af082cb2908ac4

depends_build       bin:doxygen:doxygen
depends_lib         port:python26

set python.branch   2.6
set python.prefix   ${frameworks_dir}/Python.framework/Versions/${python.branch}
set python.bin      ${python.prefix}/bin/python${python.branch}
set python.lib      ${python.prefix}/Python
set python.libdir   ${python.prefix}/lib/python${python.branch}
set python.pkgd     ${python.prefix}/lib/python${python.branch}/site-packages
set python.include  ${python.prefix}/include/python${python.branch}

patchfiles          Makefile.in.diff
pre-destroot {
    reinplace "s|@@PY_PREFIX@@|${python.prefix}|" ${worksrcpath}/python/Makefile
}
post-destroot {
    xinstall -d -m 755 ${destroot}${prefix}/share/doc/
    file copy ${worksrcpath}/doc ${destroot}${prefix}/share/doc/${name}
}
