# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:filetype=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0

name                    xmms
version                 1.2.10
set branch              [join [lrange [split ${version} .] 0 1] .]
revision                2
categories              audio
maintainers             nomaintainer
homepage                http://www.xmms.org/
master_sites            ${homepage}files/${branch}.x/ \
                        http://distfiles.macports.org/${name}/ \
                        http://trd.no.distfiles.macports.org/${name}
platforms               darwin

description \
    X11 MultiMedia System

long_description \
    XMMS is a multimedia audio and video player for X11.

use_bzip2               yes

depends_lib \
    lib:libglib.1:glib1 \
    lib:libgtk.1:gtk1 \
    lib:libesd.0:esound \
    lib:libintl:gettext \
    bin:bison:bison \
    lib:libiconv:libiconv \
    lib:libvorbis:libvorbis \
    lib:libmikmod:libmikmod \
    lib:libogg:libogg

checksums \
    md5 03a85cfc5e1877a2e1f7be4fa1d3f63c

patchfiles \
    patch-xmms \
    patch-General-ir-ir.c \
    patch-Intel-noasm.diff

configure.cflags-append \
    -I${prefix}/include

configure.args \
    --disable-alsatest \
    --with-gtk=${prefix}

# There is no oss interface on darwin/osx
platform darwin {
    configure.args-append --disable-oss
}

# Linux users might want alsa
platform linux {
    configure.args-remove --disable-alsatest
    configure.args-append --enable-alsatest
}

livecheck.check none
