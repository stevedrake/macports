# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=portfile:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0

name                    msp430mcu-devel
set name_package        [lindex [split ${name} -] 0]
version                 20111224

conflicts               ${name_package}

distname                ${name_package}-${version}

maintainers             g5pw

categories              cross devel
description             Device capabilites database for MSP430 toolchain. This is the development version.
long_description        ${description}

license                 GPL-3+
platforms               darwin

homepage                http://mspgcc.sourceforge.net/

master_sites            http://downloads.sourceforge.net/project/mspgcc/${name_package}/

use_bzip2               yes
checksums               ${name_package}-${version}${extract.suffix} \
                        rmd160  0e1bd62dc2b25976c7b638f5d60673a4ef235e24 \
                        sha256  ad7be9494641317ded768c5f607d1560a58d32952e4494b8b957839f498d90da

destroot.violate_mtree  yes

use_configure           no

build {}

destroot {
    system "env MSP430MCU_ROOT=\"${worksrcpath}\" \
            ${worksrcpath}/scripts/install.sh ${destroot}${prefix}"
}

livecheck.type          regex
livecheck.url           http://sourceforge.net/projects/mspgcc/files/msp430mcu/
livecheck.regex         "${name_package}-((?!.*${name_package}.*|\\${extract.suffix}).*)\\${extract.suffix}"
