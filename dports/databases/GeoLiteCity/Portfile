# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                GeoLiteCity
version             20110201
categories          databases devel net
maintainers         pixilla
platforms           darwin
supported_archs     noarch
description         GeoIP Lite City database (libgeoip)
long_description    ${description}
homepage            http://www.maxmind.com/app/geolitecity
master_sites        http://distfiles.macports.org/GeoLiteCity

checksums           sha1    aea7f8fff5d6d9a40c1c48fafcd3871ca017407f \
                    rmd160  e146e291f3b8bb3a120801096078844cd46f3a44

depends_lib         port:libgeoip

use_configure       no
build {}

destroot  {
    set datadir ${destroot}${prefix}/share/GeoIP
    set docdir ${destroot}${prefix}/share/doc/${name}
    xinstall -m 755 -d ${datadir}
    xinstall ${worksrcpath}/GeoLiteCity.dat ${datadir}/GeoIPCity.dat
    xinstall -m 755 -d ${docdir}
    xinstall ${worksrcpath}/LICENSE.txt ${docdir}/LICENSE.txt
}

livecheck.type      regex
livecheck.url       http://geolite.maxmind.com/download/geoip/database/GeoLiteCity_CSV/
livecheck.regex     "${name}_(\\d\{8\}).zip"
