# $Id: Portfile,v 1.1 2005/11/09 15:38:01 mww Exp $

PortSystem 1.0
name                gauche-dbd-pg
version             0.2.1
categories          databases scheme
maintainers         kogule@opendarwin.org
description         Gauche database driver for PostgreSQL
homepage            http://www.kahua.org/cgi-bin/kahua.fcgi/kahua-web/show/dev/DBI
master_sites        http://www.kahua.org/download/dbi/
distname            Gauche-dbd-pg-${version}
extract.suffix		.tgz
checksums           md5 453dc296365dfbc47d465f29e6552627
depends_build       bin:gauche-config:gauche bin:pg_config:postgresql8
depends_lib         lib:libgauche:gauche lib:libpq:postgresql8
configure.env-append PATH=${prefix}/lib/pgsql8/bin:\${PATH}
test.run            yes
test.target         check
destroot.destdir    prefix=${destroot}${prefix}

platform darwin 8 {
    configure.env-append    CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}

variant postgresql7 {
    configure.env-delete PATH=${prefix}/lib/pgsql8/bin:\${PATH}
    configure.env-append PATH=${prefix}/bin:\${PATH}
    depends_build-delete bin:pg_config:postgresql8
    depends_lib-delete lib:libpq:postgresql8
    depends_build   bin:pg_config:postgresql
    depends_lib     lib:libpq:postgresql
}
