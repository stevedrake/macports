# $Id$

PortSystem 1.0

name		mysqlxx
version		3.0.2
categories	databases
maintainers	kayos@genetikayos.com
platforms	darwin freebsd
description	C++ wrapper for MySQL's C API
long_description	MySQL++ is a C++ wrapper for MySQL's C API. It is \
			built around STL principles, to make dealing with \
			the database as easy as dealing with an STL container.
homepage	http://tangentsoft.net/mysql++/
master_sites	http://tangentsoft.net/mysql++/releases/
distname	mysql++-${version}
checksums	md5 3bbc4f005fb4e0447189d1c2be3f24ee \
		sha1 93ccb63dd61f441414242ac8a28eab9372318566 \
		rmd160 d1affcb845ebb101f0410f84b73b3f265beece4a

depends_lib	port:gettext \
		port:zlib

variant mysql3 description {Build with MySQL 3 support} {
	depends_lib-append	port:mysql3
	configure.args		--with-mysql=${prefix}
}

variant mysql4 description {Build with MySQL 4 support} {
	depends_lib-append	port:mysql4
	configure.args		--with-mysql=${prefix}
}

variant mysql5 description {Build with MySQL 5 support (default)} {
	depends_lib-append	port:mysql5
	configure.args		--with-mysql-lib=${prefix}/lib/mysql5/mysql \
				--with-mysql-include=${prefix}/include/mysql5/mysql
}

if { ![variant_isset mysql3] && ![variant_isset mysql4] } {
	default_variants +mysql5
}

livecheck.check	regex
livecheck.url	[lindex ${master_sites} 0]?C=M&O=D
livecheck.regex	mysql\\+\\+-(\[0-9.\]+)\\.tar
