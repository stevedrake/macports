# $Id: Portfile,v 1.1 2005/02/22 00:40:18 gwright Exp $

PortSystem	1.0
name		HaXml
version		1.12
categories	devel
maintainers	gwright@opendarwin.org
platforms	darwin

description	XML utilities for haskell
long_description	\
		HaXml is a collection of utilities for parsing,		\
		filtering, transforming, and generating XML documents	\
		using Haskell. Its basic facilities include:		\
									\
		    * a parser for XML,					\
		    * a separate error-correcting parser for HTML,	\
		    * an XML validator,					\
		    * pretty-printers for XML and HTML.

homepage	http://www.cs.york.ac.uk/fp/${name}
master_sites	http://www.haskell.org/${name}/

checksums	md5 b614a4a6bf8aec3938ae1b006ed30a13

depends_build	bin:ghc:ghc

patchfiles	patch-Makefile

configure.args	--prefix=${destroot}${prefix}/bin	\
		--buildwith=ghc

pre-destroot	{ reinplace "s|${prefix}|${destroot}${prefix}|" ${worksrcpath}/obj/ghc/ghclibdir
		  reinplace "s|${prefix}|${destroot}${prefix}|" ${worksrcpath}/obj/ghc/ghcincdir
		}

post-activate	{ system "ghc-pkg --remove-package=${name} || true"
		  system "ghc-pkg --add-package < ${worksrcpath}/obj/ghc/pkg.conf"
		}

