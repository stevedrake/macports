# $Id: Portfile,v 1.3 2005/08/11 21:33:17 rshaw Exp $
PortSystem		1.0
name			agprocess
version			0.2
categories		devel framework
platforms		darwin
maintainers		darwinports@opendarwin.org
description		framework class for reporting Unix process statistics
long_description	AGProcess is a class for reporting Unix process \
					statistics. It is similar to NSProcessInfo except \
					that it provides more information, and can represent \
					any process, not just the current process. \
					Additionally it provides methods for sending signals \
					to processes. 
homepage		http://agkit.sourceforge.net/
master_sites	sourceforge:agkit
set framework	AGProcess
distname		${framework}-${version}
extract.suffix	.tgz
checksums		md5 3b5eb270ba756a2d6f60e630d1882a84
worksrcdir		${framework}

use_configure	no

build.type		pbx
build.target	-target ${framework}
build.args		-buildstyle Deployment

set xcodebuilddir		build
platform darwin 8 {
	if {$xcodeversion == "2.1"} {
		set xcodebuilddir	build/Deployment
	}
}

post-build {
	system "install_name_tool \
		-id /Library/Frameworks/${framework}.framework/${framework} \
		${worksrcpath}/${xcodebuilddir}/${framework}.framework/${framework}"
}

destroot {
	xinstall -d -m 0755 ${destroot}/Library/Frameworks
	system "cp -R ${worksrcpath}/${xcodebuilddir}/${framework}.framework \
		${destroot}/Library/Frameworks"
}

