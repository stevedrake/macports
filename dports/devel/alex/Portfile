# $Id$

PortSystem 1.0
name		alex
version		2.3
categories	devel haskell
maintainers	gwright
platforms	darwin
description	A Lexical Analyzer Generator for Haskell
long_description	\
		Alex is a tool for generating lexical analysers		\
		in Haskell, given a description of the tokens to be	\
		recognised in the form of regular expressions.		\
		It is similar to the tools lex or flex for C/C++.       

homepage	http://www.haskell.org/alex/
master_sites	http://hackage.haskell.org/packages/archive/${name}/${version}

checksums       md5     d50ac9433ed299d2cea8ca9aebaf1660		\
                sha1    d97d7b61dfc7d7d9bcec843b95ebfe7f73cd2701	\
                rmd160  0f2d3cfeb3126abc6dda0db75125b88eec0c9e60

depends_build	port:ghc

patchfiles	patch-alex.cabal.diff

configure       {
                  system "cd ${worksrcpath} && runhaskell Setup configure --ghc --prefix=${prefix}"
                }

build           {
                  system "cd ${worksrcpath} && runhaskell Setup build"
                }

destroot        {
                  system "cd ${worksrcpath} && runhaskell Setup copy --copy-prefix=${destroot}${prefix}"
                }

livecheck.check regex
livecheck.regex "version (.+) released"
