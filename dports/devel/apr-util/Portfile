# $Id: Portfile,v 1.27 2006/01/18 21:44:31 dluke Exp $

PortSystem 1.0
name		apr-util
version		1.2.2
categories	devel
maintainers	dluke@geeklair.net
description	utilities built with the apache group's portability library

long_description	apr-util is a library of useful utilities built with \
			and intended to be used with the Apache Portable Runtime.

homepage	http://apr.apache.org/
master_sites	apache:apr
use_bzip2	yes
checksums	md5 694228b227e30cb9da3823514516e91c

depends_lib	lib:libapr-0.0:apr port:expat \
		port:libiconv port:db4

configure.env	CPPFLAGS=-I${prefix}/include LDFLAGS=-L${prefix}/lib
configure.args	--with-apr=${prefix}/bin/apr-1-config --with-expat=${prefix} \
		--with-iconv=${prefix} --with-berkeley-db=${prefix}

variant no_bdb	{
			depends_lib-delete port:db4
			configure.args-delete --with-berkeley-db=${prefix}
			configure.args-append --without-berkeley-db
		}

variant no_sqlite	{
				configure.args-append --without-sqlite2 \
					--without-sqlite3
			}
