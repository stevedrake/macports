# $Id: Portfile,v 1.26 2005/02/17 21:43:07 blb Exp $

PortSystem	1.0
name		apr
version		0.9.6
categories	devel
maintainers	dluke@geeklair.net
description	The apache group's portability library

long_description	The Apache Portable Runtime is a library of C data \
			structures and routines, forming a system portability \
			layer that covers as many operating systems as \
			possible, including Unices, Win32, BeOS, and OS/2.  

homepage	http://apr.apache.org/
master_sites	apache:httpd

distname	httpd-2.0.53
use_bzip2	yes
dist_subdir	apache2
checksums	md5 94f3a793fb1665365724943206cce23f
extract.post_args	| tar -f - -x ${distname}/srclib/apr

worksrcdir 	${distname}/srclib/apr
configure.args	--with-installbuilddir=${prefix}/share/apr-0/build

#change apr's rules.mk file to enable building of apr-util even
#after a port clean apr
post-destroot {	reinplace "s|^apr_builddir=.*|apr_builddir=${prefix}/share/apr-0/build|g" \
			${destroot}${prefix}/share/apr-0/build/apr_rules.mk
		reinplace "s|^apr_builders=.*|apr_builddir=${prefix}/share/apr-0/build|g" \
			${destroot}${prefix}/share/apr-0/build/apr_rules.mk }
