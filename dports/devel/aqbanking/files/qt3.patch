--- m4/os.m4	2006-04-03 21:29:43.000000000 +0200
+++ m4/os.m4	2006-08-08 21:46:25.000000000 +0200
@@ -42,6 +42,11 @@
 	AC_DEFINE(OS_BEOS,1,[if BeOS is used])
 	OS_TYPE="posix"
 	;;
+    *-darwin*)
+	OSYSTEM="darwin"
+	AC_DEFINE(OS_DARWIN,1,[if Darwin is used])
+	OS_TYPE="posix"
+	;;
     *-win32*)
     	OSYSTEM="windows"
 	AC_DEFINE(OS_WIN32,1,[if WIN32 is used])
diff -ruN aqbanking-2.2.0/m4/qt3.m4 aqbanking-2.2.0-new/m4/qt3.m4
--- m4/qt3.m4	2006-04-03 21:29:43.000000000 +0200
+++ m4/qt3.m4	2006-08-08 21:47:36.000000000 +0200
@@ -149,7 +149,11 @@
 fi
 
 # This is the name of the qt library to search for.
-qt_searchname="lib${qt_libname}${std_shrext}.3"
+if test `uname -s` = "Darwin"; then
+   qt_searchname="lib${qt_libname}.3.dylib"
+else
+   qt_searchname="lib${qt_libname}${std_shrext}.3"
+fi
 
 if test -z "$qt3_libs"; then
    AQ_SEARCH_FOR_PATH([$qt_searchname],[$local_qt3_libs])
