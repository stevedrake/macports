# $Id: Portfile,v 1.2 2004/04/21 20:38:44 toby Exp $

PortSystem 1.0
name             arch
version          1.2
revision         1
distname         tla-${version}
categories       devel
maintainers      toby@opendarwin.org
description      GNU arch - revision control system
long_description \
	GNU arch is a revision control system, similar in purpose to \
	tools such as CVS, SCCS, and Subversion. It is used to keep \
	track of the changes made to a source tree and to help \
	programmers combine and otherwise manipulate changes made by \
	multiple people or at different times.
homepage         http://www.gnu.org/software/gnu-arch/
platforms        darwin

depends_lib      bin:gdiff:diffutils

master_sites     gnu:gnu-arch
checksums        md5 1fbc9cd83c37ad6e88e9e6a5f0b62871

worksrcdir       ${distname}/src/=build

pre-patch {
	file mkdir ${worksrcpath}
}

patchfiles       patch-libneon-ne_207.c \
                 patch-libneon-ne_props.c \
                 patch-libneon-ne_auth.c \
                 patch-libneon-ne_xml.c \
                 patch-libneon-ne_locks.c

configure.cmd    ../configure
configure.args   --destdir=${destroot} \
                 --with-gnu-diff=${prefix}/bin/gdiff \
                 --with-gnu-diff3=${prefix}/bin/gdiff3

test.run         yes

destroot.destdir
