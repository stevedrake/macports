# $Id$

PortSystem       1.0

name             autoconf
version          2.65
revision         1
categories       devel
maintainers      ram openmaintainer
platforms        darwin

description      Automatically configures software for compilation
long_description \
  Autoconf is an extensible package of m4 macros that produce shell \
  scripts to automatically configure software source code packages. \
  These scripts can adapt the packages to many kinds of UNIX-like \
  systems without manual user intervention. Autoconf creates a \
  configuration script for a package from a template file that lists \
  the operating system features that the package can use, in the form \
  of m4 macro calls.

homepage         http://www.gnu.org/software/autoconf/
master_sites     gnu
use_bzip2        yes
if {[info exists supported_archs]} {
    supported_archs noarch
} else {
    universal_variant no
}

checksums        md5 a6de1cc6434cd64038b0a0ae4e252b33 \
                 sha1 9126ffb8d7d59f38f305ef53e208531d4b75bb87 \
                 rmd160 250b0f46ae6f81fe47f30ae61335a2291d736197

patchfiles       0001-Fix-AC_FUNC_MMAP-regression-with-C-compiler-in-2.65.patch \
                 0002-Fix-2.64-AC_TYPE_INT-_T-macro-body-text-regression.patch

depends_lib      path:bin/perl:perl5 \
                 port:m4 \
                 port:help2man

# If libtool is eventually installed, it will provide glibtoolize (not libtoolize)
post-patch {
  reinplace "s|'libtoolize'|'glibtoolize'|" ${worksrcpath}/bin/autoreconf.in
}

configure.perl   ${prefix}/bin/perl

livecheck.type   regex
livecheck.url    http://ftp.gnu.org/gnu/${name}/?C=M&O=D
livecheck.regex  ${name}-(\\d+\\.\\d+)
