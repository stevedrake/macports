# $Id$

PortSystem		1.0
PortGroup		python27 1.0

name			buildbot
version			0.8.4p2
categories		devel python
platforms		darwin
supported_archs	noarch
license			GPL-2
maintainers		nomaintainer	
description		compile/test cycle automation system
long_description	The BuildBot is a system to automate the \
			compile/test cycle required by most \
			software projects to validate code changes.

homepage		http://buildbot.net/
master_sites		googlecode:buildbot
dist_subdir			${name}

checksums           md5     7597d945724c80c0ab476e833a1026cb \
                    sha1    475a077133f3df37ccddc9275989a03c75f14229 \
                    rmd160  063855eef00fc91094d022f7e09681566e7bf75e

depends_lib-append	port:py27-twisted \
                    port:py27-jinja2 \
                    port:py27-sqlalchemy \
                    port:py27-sqlalchemy-migrate

python.link_binaries_suffix
post-destroot   {
        xinstall -m 644 ${worksrcpath}/README \
                ${destroot}${prefix}/share/doc/${name}
}

# note some tests need py27-mock
test.run		yes
test.env		PYTHONPATH=.
test.cmd		${prefix}/bin/trial-${python.branch}
test.target		buildbot.test
