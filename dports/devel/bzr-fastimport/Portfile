# $Id$

PortSystem      1.0
PortGroup       python26 1.0

name            bzr-fastimport
version         0.9.0~261
set debian_version [strsed ${version} "s/~/~bzr/"]-1
categories      devel python
platforms       darwin
maintainers     raimue

description     Fast-import/fast-export plugin
long_description \
    Bazaar Fast Import is a plugin providing fast loading \
    of revision control data into Bazaar. \
    It is designed to be used in combination with front-end programs that \
    generate a command/data stream for it to process. Front-ends are available \
    for a wide range of foreign VCS tools including Subversion, CVS, Git, \
    Mercurial, Darcs and Perforce. New front-ends are easy to develop in whatever \
    programming language you prefer, making Bazaar Fast Import useful for teams \
    needing a custom migration solution.
license       GPLv2

homepage        https://launchpad.net/bzr-fastimport
master_sites    https://launchpad.net/ubuntu/maverick/+source/${name}/${debian_version}/+files/
patch_sites     https://launchpad.net/ubuntu/maverick/+source/${name}/${debian_version}/+files/
distname        ${name}_[strsed ${version} "s/~/~bzr/"].orig
set debian_patch ${name}_${debian_version}.diff.gz

checksums       ${distname}${extract.suffix} \
                    md5     c3a2d5e1f45dccb3a2b76cf432bdcb39 \
                    sha1    08892265a9bef72de16236982f894058bf11055b \
                    rmd160  5171532cc9819d4ea48fc77637f74d35f9bd2034 \
                ${debian_patch} \
                    md5     21b7160288109f9c99c486ef434ca66c \
                    sha1    b9c0f2a1916372e9c74d62f8211bd95959f8ab31 \
                    rmd160  76b1ccd12fa7c810ae9637203fb6cb1fc295ccf2

depends_lib-append port:bzr

patchfiles      ${debian_patch}
patch.args	-p1

livecheck.type  regex
livecheck.url   https://launchpad.net/ubuntu/maverick/+source/${name}
livecheck.version [strsed ${version} "s/~/~bzr/"]
livecheck.regex {bzr-fastimport_(\d+(?:\.\d+)*~bzr\d+).orig.tar.gz}
