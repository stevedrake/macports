# $Id$

PortSystem    1.0
PortGroup     python26 1.0

name          bzr-gtk
version       0.98.0
set branch    [join [lrange [split ${version} .] 0 1] .]
categories    devel python
platforms     darwin
maintainers   raimue

description   Various GTK+ frontends for bzr
long_description  A bzr plugin that contains various GTK+ frontends to \
    different bzr commands.

homepage      http://bazaar-vcs.org/bzr-gtk
master_sites  http://launchpad.net/bzr-gtk/trunk/${version}/+download/

checksums     md5     a14ac163a88beb38106f6610a6441529 \
              sha1    3b1a2f3e5dbc45763ab4a69b4b4ca84bdc49a836 \
              rmd160  5a890f24a0de55092d6892872b5ae6fec3e68165

depends_lib-append  port:bzr \
                    port:py26-gtk

universal_variant no

post-destroot {
    fs-traverse f "${destroot}${python.prefix}/bin ${destroot}${python.prefix}/share" {
        set pfile [string range $f [string length ${destroot}${python.prefix}] end]
        if {[file isdirectory $f]} {
            xinstall -d -m 0755 ${destroot}${prefix}${pfile}
        } else {
            ln -s ${python.prefix}${pfile} ${destroot}${prefix}${pfile}
        }
    }
}

livecheck.type  regex
livecheck.url   ${homepage}
livecheck.regex {bzr-gtk-(\d+(?:\.\d+)*).tar.gz}
