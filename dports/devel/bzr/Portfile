# $Id$

PortSystem    1.0
PortGroup     python25 1.0

name          bzr
version       1.5
categories    devel python
platforms     darwin
maintainers   ram openmaintainer

description   The next-generation distributed version control system
long_description  Bazaar is an open source distributed version control \
    system that is powerful, friendly, and scalable. It manages trees of \
    files and subdirectories, In particular, it records revisions of trees, \
    representing their state at a particular point in time, and information \
    about those revisions and their relationships. Recording and retrieving \
    tree revisions is useful in several ways if you are writing software or \
    documents or doing similar creative work.

homepage      http://bazaar-vcs.org/
master_sites  https://launchpad.net/${name}/${version}/${version}/+download/

checksums     md5 fa82e556401802537eeb8e50ecc8b4e7 \
              sha1 24fa534e64d5a0060b38fb0a40d1752f50274a41 \
              rmd160 6a63e69f1d77ff389f11f33f7bddd824d134fc5e

patchfiles    patch-setup.py.diff

depends_lib-append  port:py25-paramiko \
                    port:py25-crypto \
                    port:py25-hashlib \
                    port:py25-zlib \
                    port:py25-bz2 \
                    port:py25-socket-ssl \
                    port:py25-curl \
                    port:py25-docutils

test.run      yes
test.cmd      make
test.target   check

post-destroot {
  xinstall -m 644 -W ${worksrcpath} INSTALL NEWS README TODO \
    ${destroot}${prefix}/share/doc/${name}
}

universal_variant no

livecheck.check     regex
livecheck.url       ${homepage}
livecheck.regex     {Bazaar ([0-9]+\.[0-9]+) was released}
