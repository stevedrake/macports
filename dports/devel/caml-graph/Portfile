# $Id$

PortSystem          1.0
name                caml-graph
version             1.3
distfiles           ocamlgraph-${version}.tar.gz
worksrcdir          ocamlgraph-${version}
categories          devel ml
maintainers         avsm openmaintainer
description         a graph library for OCaml
long_description    It provides an easy-to-use graph data structure together with several \
                    operations and algorithms over graphs, in Graph.Pack. It is a reasonably \
                    efficient imperative data structure for directed graphs with vertices and \
                    edges labeled with integers.

homepage            http://ocamlgraph.lri.fr/
platforms           darwin
master_sites        http://ocamlgraph.lri.fr/download/
checksums           md5     9bcff267d041d3caec5f4f8c514f9cc1 \
                    sha1    79f1fe80c95a6521e19536b2b0834b0b77a89eb1 \
                    rmd160  0a94c6b71cb5c833abfe913886d7b1a2e5cb730a

livecheck.url       http://ocamlgraph.lri.fr/
livecheck.type      regex
livecheck.regex     {>ocamlgraph-(.*)\.tar\.gz}

depends_lib         port:ocaml port:caml-findlib

use_parallel_build  no
patchfiles          patch-Makefile.in.diff

set ocamlfind_destdir ${destroot}${prefix}/lib/ocaml/site-lib

destroot.env        OCAMLFIND_INSTFLAGS="-destdir $ocamlfind_destdir -ldconf ignore"
destroot.target     install-findlib

pre-destroot {
    file mkdir $ocamlfind_destdir
}
