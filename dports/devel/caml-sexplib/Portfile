# $Id$

PortSystem          1.0

name                caml-sexplib
version             5.1.0
distname            release-${version}
worksrcdir          sexplib310-${distname}
categories          devel ml
maintainers         erickt openmaintainer
description         Automated code generation for converting OCaml-values to S-expressions
long_description	${description}
homepage            http://www.ocaml.info/home/ocaml_sources.html
platforms           darwin
master_sites        http://hg.ocaml.info/release/sexplib310/archive/
checksums           md5     3f92fcf6aa80871d194d9c3ff4dd04b2 \
                    sha1    3f43f6fe752d7b1a2982464767c270e9f5a4f1ec \
                    rmd160  bf355defe2da1d9d97c07425bb855f40fa21528f
use_bzip2           yes

livecheck.type      regex
livecheck.regex     "sexplib310/archive/release-(\\d+(?:\\.\\d+)*).tar.bz2"

depends_lib         port:ocaml port:caml-findlib port:caml-type-conv

use_configure       no

build.env           PREFIX=${prefix}
use_parallel_build  no

set ocamlfind_destdir ${destroot}${prefix}/lib/ocaml/site-lib

destroot.env        OCAMLFIND_INSTFLAGS="-destdir $ocamlfind_destdir"

pre-destroot {
    file mkdir $ocamlfind_destdir
}
