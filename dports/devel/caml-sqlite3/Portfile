# $Id$

PortSystem          1.0

name                caml-sqlite3
version             1.5.7
categories          devel ml databases
maintainers         landonf stechert openmaintainer
description         OCaml bindings for SQLite 3
long_description    ${description}

homepage            http://www.ocaml.info/home/ocaml_sources.html
platforms           darwin
master_sites        http://www.ocaml.info/ocaml_sources/

distname            ocaml-sqlite3-${version}

checksums           md5     a793b72638af42ae4149e050e5990a12 \
                    sha1    e617ba1f139546864d77249176eceb1a268d9651 \
                    rmd160  23f271624684a003fd9ed94f7038b9b78d39faae

depends_lib         port:ocaml \
                    port:caml-findlib \
                    port:sqlite3

patchfiles          patch-Makefile.in

configure.args      --with-sqlite3=${prefix}

use_parallel_build  no

pre-destroot {
    set ocaml_site_path [exec ocamlfind printconf destdir]
    file mkdir ${destroot}/${ocaml_site_path}
    file mkdir ${destroot}/${ocaml_site_path}/stublibs
}

livecheck.type      regex
livecheck.regex     {>ocaml-sqlite3-release-(.*)\.tar\.bz2}
