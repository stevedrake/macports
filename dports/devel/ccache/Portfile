# $Id$

PortSystem 1.0
name             ccache
version          2.4
revision         1
categories       devel
maintainers      toby@opendarwin.org
description      object-file caching compiler wrapper
long_description \
	ccache is a compiler cache.  It acts as a caching pre-processor to C/C++ \
	compilers, using the -E compiler switch and a hash to detect when a \
	compilation can be satisfied from cache.  This often results in a 5 to 10 \
	times speedup in common compilations.
homepage         http://ccache.samba.org/
platforms        darwin freebsd
master_sites     http://ccache.samba.org/ftp/ccache/
checksums        md5 73c1ed1e767c1752dd0f548ec1e66ce7

configure.args   --mandir=${prefix}/share/man

post-destroot {
	file mkdir ${destroot}${prefix}/ccache/bin
	system "cd ${destroot}${prefix}/ccache/bin; \
		ln -sf ../../bin/ccache cc; \
		ln -sf ../../bin/ccache gcc; \
		ln -sf ../../bin/ccache gcc2; \
		ln -sf ../../bin/ccache gcc3; \
		ln -sf ../../bin/ccache gcc-3.3; \
		ln -sf ../../bin/ccache gcc-4.0; \
		ln -sf ../../bin/ccache c++; \
		ln -sf ../../bin/ccache c++3; \
		ln -sf ../../bin/ccache c++-3.3; \
		ln -sf ../../bin/ccache c++-4.0; \
		ln -sf ../../bin/ccache g++; \
		ln -sf ../../bin/ccache g++2; \
		ln -sf ../../bin/ccache g++3; \
		ln -sf ../../bin/ccache g++-3.3; \
		ln -sf ../../bin/ccache g++-4.0"
}
