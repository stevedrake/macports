# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                cppcheck
version             1.45
categories          devel
license             GPLv3
platforms           darwin
maintainers         johnsy.com:paj-macports

description         Static analysis of C and C++ code.

long_description    Cppcheck is an analysis tool for C and C++ code. Unlike \
                    compilers and many other analysis tools, we don't detect \
                    syntax errors. Cppcheck only detects the types of bugs that \
                    the compilers normally fail to detect. The goal is no false \
                    positives.

homepage            http://cppcheck.sourceforge.net/
master_sites	    sourceforge
checksums           md5     1d2661fc2570331a7c9c4188a356d6f7 \
                    sha1    3f9dc771f44a01b7d0465d13875fcd5d8b25c7d2 \
                    rmd160  de1a2c525582e9ce354c3b1c4d2577727d93c332

depends_build       port:libxslt \
                    port:docbook-xsl

use_configure       no

build.args          CXX=${configure.cxx} \
                    DB2MAN=${prefix}/share/xsl/docbook-xsl/manpages/docbook.xsl
build.target        all man

test.run	        yes
test.target	        test

destroot.args       PREFIX=${prefix}

post-destroot {
    xinstall -m 444 ${worksrcpath}/cppcheck.1 ${destroot}${prefix}/share/man/man1
}
