# $Id: Portfile,v 1.1 2004/09/14 05:06:43 rshaw Exp $
PortSystem	1.0

name			cvsgraph
version			1.5.0
categories		devel
maintainers		rshaw@opendarwin.org
description		utility for graphical representation of CVS/RCS revision tree
long_description	CvsGraph is a utility to make a graphical \
					representation of all revisions and branches of a \
					file in a CVS/RCS repository.
platforms		darwin
homepage		http://www.akhphd.au.dk/~bertho/cvsgraph
master_sites	${homepage}/release
checksums		md5 4b3e7d0ac09222407c1357bb348869a2

depends_lib		lib:libgd:gd

patchfiles		patch-cvsgraph.c
post-patch {
	cd ${worksrcpath}
	reinplace "s|/usr/local|${prefix}|g" ${name}.1 README
}

configure.args	--with-gd-inc=${prefix}/include \
				--with-gd-lib=${prefix}/lib

destroot {
	cd ${worksrcpath}
	xinstall -m 0755 ${name} ${destroot}${prefix}/bin/
	xinstall -m 0644 ${name}.1 ${destroot}${prefix}/share/man/man1/
	xinstall -m 0644 ${name}.conf ${destroot}${prefix}/etc/${name}.conf.sample
	xinstall -m 0644 ${name}.conf.5 ${destroot}${prefix}/share/man/man5/
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}
	xinstall -m 0644 ChangeLog cvsgraphwrapper.php3 LICENSE mkimage.php3 README ${destroot}${prefix}/share/doc/${name}/
}

