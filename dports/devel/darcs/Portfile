# $Id: Portfile,v 1.14 2006/05/25 16:36:14 gwright Exp $

PortSystem 1.0
name		darcs
version		1.0.7
categories	devel
maintainers	gwright@opendarwin.org
description	David's Advanced Revision Control System
long_description	\
		David's Advanced Revision Control System is yet		\			another replacement for CVS. It is written in Haskell,	\
		and has been tested on Linux and MacOS X. Darcs		\
		includes a cgi script, which can be used to view the	\			contents of your repository.

homepage	http://abridgegame.org/darcs/
platforms	darwin
master_sites	${homepage}

checksums	md5 5fe4e4e7b049c095995b9a57ea6aeece

patchfiles	patch-GNUmakefile

depends_build	port:ghc
depends_lib	port:readline	\
		port:curl	\
		port:gmp

configure.args	--mandir=${prefix}/share/man	\
		--without-docs
configure.env	CPPFLAGS="-I${prefix}/include"	\
		LDFLAGS="-L${prefix}/lib"

build.env	PREFIX=${prefix}
destroot.env	PREFIX=${prefix}

variant docs {
		depends_build-append	port:latex2html

		configure.args-delete	--without-docs
		configure.args-append	--with-docs
}

