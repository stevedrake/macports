# $Id$

PortSystem      1.0

name            dbus-python25
version         0.82.4
maintainers     nomaintainer
categories      devel
platforms       darwin
description     Python bindings for the dbus message bus system.

long_description \
    ${description}

homepage        http://www.freedesktop.org/Software/dbus
master_sites    http://dbus.freedesktop.org/releases/dbus-python
distname        dbus-python-${version}

checksums       md5 f491e0372128a6d1178b210a8b1a842f \
                sha1 6675106364c3865a38a9196e314508e7aae2f8b6 \
                rmd160 c934c38c7b6681aa419d005a4a73ab05ffdddac1

depends_build   port:pkgconfig

depends_lib     port:dbus \
                port:dbus-glib \
                port:gettext \
                port:glib2 \
                port:libiconv \
                port:python25 \
                port:py25-gobject \
                port:py25-numeric

configure.args  --mandir=${prefix}/share/man

configure.python    ${prefix}/bin/python2.5

platform darwin 9 {
    post-patch {
        reinplace  "s| -export-symbols-regex.*| \\\\|g" ${worksrcpath}/_dbus_bindings/Makefile.am
        reinplace  "s| -export-symbols-regex.*| \\\\|g" ${worksrcpath}/_dbus_bindings/Makefile.in
        reinplace  "s| -export-symbols-regex.*| \\\\|g" ${worksrcpath}/_dbus_glib_bindings/Makefile.am
        reinplace  "s| -export-symbols-regex.*| \\\\|g" ${worksrcpath}/_dbus_glib_bindings/Makefile.in
    }
}
