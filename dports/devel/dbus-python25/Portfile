# $Id$
PortSystem 1.0
name		dbus-python25
version		0.82.2
revision		1
description	Python bindings for the dbus message bus system.
long_description	${description}
maintainers	nomaintainer
categories	devel
platforms	darwin
homepage        http://www.freedesktop.org/Software/dbus
master_sites    http://dbus.freedesktop.org/releases/dbus-python

checksums	md5 e3b632ed260718301668bc079b6b3172	 \
		sha1 b32565ea6b1e4d640ea07a4be1fccb5da359cc0e \
		rmd160 e00c449455344d2426b165c5921a9502b6b0b56e
distname	dbus-python-${version}

depends_lib	\
	port:dbus \
	port:dbus-glib \
	port:gettext \
	port:glib2 \
	port:libiconv \
	port:python25 \
	port:py25-gobject \
	port:py25-numeric
depends_build	\
	port:pkgconfig

configure.python	${prefix}/bin/python2.5
configure.args	--mandir=${prefix}/share/man

platform darwin 9 {
	post-patch {
		reinplace  "s| -export-symbols-regex.*| \\\\|g" ${worksrcpath}/_dbus_bindings/Makefile.am
		reinplace  "s| -export-symbols-regex.*| \\\\|g" ${worksrcpath}/_dbus_bindings/Makefile.in
		reinplace  "s| -export-symbols-regex.*| \\\\|g" ${worksrcpath}/_dbus_glib_bindings/Makefile.am
		reinplace  "s| -export-symbols-regex.*| \\\\|g" ${worksrcpath}/_dbus_glib_bindings/Makefile.in
	}
}

