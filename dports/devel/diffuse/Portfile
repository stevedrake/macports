# $Id$

PortSystem          1.0

name                diffuse
version             0.4.3
categories          devel
platforms           darwin
maintainers         tommyd openmaintainer
description         diffuse is a graphical diffing and merging tool
long_description    Ddiffuse is a small and simple text merge tool \
                    written in Python. With Diffuse, you can easily \
                    merge, edit, and review changes to your code.

homepage            http://diffuse.sourceforge.net
master_sites        sourceforge

checksums           md5     488812eb4d72567073c0de5552c58b74 \
                    sha1    7d9f52f5c7f503add3cd965f6e82abedd28a7009 \
                    rmd160  905375e998380a2ad59b46c73b7113237f63dc5e

use_bzip2           yes

depends_lib-append  port:py-gtk2

use_configure       no

post-patch {
    reinplace "s|/usr/bin/env python|${prefix}/bin/python|g" \
        ${worksrcpath}/src/usr/bin/diffuse
}

build {}

destroot {
    system "cd ${worksrcpath} && ./install.py \
       --prefix=${prefix} \
       --destdir=${destroot} \
       --sysconfdir=${prefix}/etc"              
}
