PortSystem 1.0
name                DisTract
description         A distributed bug tracking system based on monotone
long_description    DisTract is a distributed bug tracking system. It uses \
                    Firefox as frontend for the user and the monotone version \
                    control system as backend, which provides data storage and \
                    network synchronization.
version             0.2.3
homepage            http://www.distract.wellquite.org
master_sites        ${homepage}/downloads/
categories          devel
maintainers         me@thomaskeller.biz
checksums           md5 07d098c51755433ef11f886923d16cec

depends_build       port:ghc\
		    port:haskell-chunks\
		    port:haskell-hinstaller\
		    port:haskell-parsedate

configure {
	cd ${worksrcpath}/haskell
	system "runghc Setup.hs configure"
}

build {
	cd ${worksrcpath}/haskell
	system "runghc Setup.hs build -v"
}

destroot {
	cd ${worksrcpath}/haskell/dist/build/DisTractInstaller
	system "cp DisTractInstaller ${destroot}/${prefix}/bin"
}

