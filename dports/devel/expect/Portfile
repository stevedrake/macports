# $Id$

PortSystem 1.0

name			expect
version			5.43.0
set shortversion	5.43
revision		2
platforms		darwin 
categories		devel
maintainers		nomaintainer@macports.org
description		an automating and testing tool
long_description	Expect is a tool for automating interactive applications \
			such as telnet, ftp, passwd, fsck, rlogin, tip, etc. \
			Expect is also useful for testing these same applications. \
			And by adding Tk, you can also wrap interactive \
			applications in X11 GUIs. 
homepage		http://expect.nist.gov/
master_sites		http://expect.nist.gov/src/:exp \
			http://expect.nist.gov/old/:exp \
			http://www.opendarwin.org/~markd/:tclpheaders

distfiles		${distname}.tar.gz:exp \
			tcl8.4.12-privateheaders-full.tar.gz:tclpheaders
checksums		${distname}.tar.gz md5 43e1dc0e0bc9492cf2e1a6f59f276bc3 \
			tcl8.4.12-privateheaders-full.tar.gz md5 ec9b85fad111b51b746fe45a2dc1e8fb

depends_build		port:tcl

worksrcdir		${name}-${shortversion}

configure.args		--disable-shared \
			--mandir=${prefix}/share/man \
			--with-tcl="${prefix}/lib" \
			--with-tclinclude="${workpath}/tcl8.4.12-privateheaders-full" 

test.run		yes
test.target		test

destroot.destdir	INSTALL_ROOT=${destroot}

post-destroot		{ cd ${destroot}${prefix}/lib
			  system "ln -s libexpect${shortversion}.a libexpect.a"
			}

