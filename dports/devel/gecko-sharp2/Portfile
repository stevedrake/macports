# $Id$

PortSystem      1.0

name            gecko-sharp2
set my_name     gecko-sharp
version         2.0-0.12
categories      devel
maintainers     nox
platforms       darwin
description     GeckoSharp is a wrapper for the GtkEmbedMoz widget.

long_description \
    GeckoSharp is a wrapper for the GtkEmbedMoz widget. It provides \
    the abilty to embed the Mozilla rendering engine (Gecko) into your \
    Gtk# application.

homepage        http://www.mono-project.com/GeckoSharp/
master_sites    http://go-mono.com/sources/${name}/
distname        ${my_name}-${version}

checksums       md5 226470d7be5150f9a8c4d119f61cc385 \
                sha1 c2799f2333472e1fd9f7c95a4cf37d718f365766 \
                rmd160 e152327c940f328cb8b0b0fedb36d8df97cf6ddd

depends_build   port:pkgconfig

depends_lib     port:mono \
                port:gtk2 \
                port:gtk-sharp2

post-configure {
    # TODO This shouldn't be needed, we need to fix Mono dllmap library path.
    fs-traverse {f} ${worksrcpath} {
        if {[string match *.dll.config ${f}]} {
            reinplace -E "s|(target=\")|\\1${prefix}/lib/|" ${f}
        }
    }
}

livecheck.check regex
livecheck.url   http://go-mono.com/sources-stable/
livecheck.regex ${my_name}-(\\d+(?:\\.\\d+)*(?:-\\d+(?:\\.\\d+)*)?)
