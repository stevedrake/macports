# $Id: Portfile,v 1.29 2004/03/19 23:15:40 mij Exp $

PortSystem 1.0
name		gettext
version		0.14.1
categories	devel
maintainers	mij@opendarwin.org
description	GNU gettext package
homepage	http://www.gnu.org/software/gettext/
platforms	darwin freebsd

long_description This is the GNU gettext package.  It is interesting for \
		 authors or maintainers of other packages or programs \
		 which they want to see internationalized.  As one \
		 step the handling of messages in different languages \
		 should be implemented.  For this task GNU gettext \
		 provides the needed tools and library functions.

master_sites	gnu

checksums	md5 78f4b862510beb2e5d43223dd610e77d

configure.env	LDFLAGS="-fno-common -bind_at_load"

configure.args	--with-included-gettext --mandir=${prefix}/share/man \
		--infodir=${prefix}/share/info

platform darwin 6	{ depends_lib-append	lib:libdl:dlcompat
			  depends_lib-append	lib:libiconv.2:libiconv
			  configure.args-append --with-libiconv-prefix=${prefix} }
variant darwin		{ configure.env-append	CPPFLAGS="-no-cpp-precomp" }

post-destroot	{ system "rm -f ${destroot}${prefix}/lib/charset.alias" }
