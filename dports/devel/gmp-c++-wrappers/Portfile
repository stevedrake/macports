# $Id: Portfile,v 1.1 2005/09/16 15:06:00 gwright Exp $

PortSystem 1.0
name		gmp-c++-wrappers
version		4.1.4
categories	devel math
maintainers	gwright@opendarwin.org
platforms	darwin freebsd
description	C++ wrappers for the GNU multiple precision arithmetic library
long_description	\
		The C++ wrappers for gmp.  To build them requires that	\
		gmp be installed, hence this portfile, which rebuilds	\
		gmp, but only installs the C++ wrappers.

homepage	http://www.swox.com/gmp/

master_sites	gnu

use_bzip2	yes
distfiles	gmp-${version}${extract.suffix}
checksums	gmp-${version}${extract.suffix} md5 0aa7d3b3f5b5ec5951e7dddd6f65e891

patchfiles	patch-configure

depends_run	port:gmp

worksrcdir	gmp-${version}

configure.args	--infodir=\\\${prefix}/share/info	\
		--enable-cxx

post-destroot	{ system "ranlib ${destroot}${prefix}/lib/libgmpxx.a"
		  ui_msg "running ranlib on static libraries"

		  file delete ${destroot}${prefix}/include/gmp.h
		  file delete ${destroot}${prefix}/lib/libgmp.a
		  file delete ${destroot}${prefix}/lib/libgmp.la
		  file delete ${destroot}${prefix}/lib/libgmp.dylib
		  file delete ${destroot}${prefix}/lib/libgmp.3.dylib
		  file delete ${destroot}${prefix}/lib/libgmp.3.3.3.dylib

		  file delete -force ${destroot}${prefix}/share
                }

variant darwin x86	{
	configure.args-append	--host=none-apple-darwin
}
