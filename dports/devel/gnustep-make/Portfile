# $Id: Portfile,v 1.8 2006/03/28 03:50:15 yves Exp $

PortSystem			1.0
name            	gnustep-make
version         	1.12.0
platforms       	darwin
categories      	devel gnustep x11 cross
maintainers     	yves@opendarwin.org
homepage			http://www.gnustep.org/
description     	GNUstep makefile package
long_description \
    The GNUstep makefile package is a simple, powerful and extensible way to \
	write makefiles for a GNUstep-based project.  It allows the user to \
	write a project without having to deal with the complex issues \
	associated with configuration, building, installation, and packaging. \
	It also allows the user to easily create cross-compiled binaries.
master_sites \
    http://ftp.easynet.nl/mirror/GNUstep/pub/gnustep/core/ \
	ftp://ftp.easynet.nl/mirror/GNUstep/pub/gnustep/core/ \
	http://www.peanuts.org/peanuts/Mirrors/GNUstep/gnustep/core/ \
	http://ftpmain.gnustep.org/pub/gnustep/core/ \
	ftp://ftp.gnustep.org/pub/gnustep/core/ \
	http://archive.progeny.com/gnustep/core/ \
	ftp://archive.progeny.com/gnustep/core/

checksums   md5 1883a6387405e51ff4c384fb5cc547a7
patchfiles  patch-GNUmakefile.in patch-documentation.make patch-target.make

configure.args \
    --prefix=${prefix}/GNUstep \
    --with-config-file=${prefix}/GNUstep/System/Library/GNUstep.conf

build.type			gnu

destroot.args		messages=yes
destroot.destdir    special_prefix=${destroot}
destroot.keepdirs   ${destroot}${prefix}/GNUstep/Local

platform puredarwin {
	depends_lib     port:gcc41
	configure.args-append  --with-library-combo=gnu-gnu-gnu \
	                       CC=gcc-dp-4.1
    post-install {
        ui_msg " \
            To have a fully working GNUstep make system, \
            please add '${prefix}/GNUstep/System/Tools' \
            to your \$PATH environment (in ~/.profile)"
    }
}
