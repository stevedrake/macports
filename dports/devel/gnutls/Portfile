# $Id: Portfile,v 1.16 2006/01/10 08:15:07 mww Exp $

PortSystem 1.0
name		gnutls
version		1.2.9
categories	devel
maintainers	mij@opendarwin.org
description	GNU Transport Layer Security Library
homepage	http://www.gnutls.org/
platforms	darwin

long_description GnuTLS is a portable ANSI C based library which \
		 implements the TLS 1.0 and SSL 3.0 protocols. The library \
		 does not include any patented algorithms and is available \
		 under the GNU Lesser GPL license.

master_sites	ftp://ftp.gnutls.org/pub/crypto/${name}/ \
		ftp://ftp.gnupg.org/gcrypt/${name}/ \
		ftp://ftp.gnutls.org/pub/${name}/ \
		ftp://ftp.gnupg.org/gcrypt/alpha/${name}/attic/

checksums	md5 9b14bac9202c91dbc89431726dbf6b90

use_bzip2	yes

depends_lib	lib:libgcrypt.11:libgcrypt lib:libtasn1.2:libtasn1 \
		lib:libopencdk.8:opencdk

configure.env	LDFLAGS="-L${prefix}/lib" CPPFLAGS="-I${prefix}/include"
configure.args	--mandir=${prefix}/share/man --infodir=${prefix}/share/info

platform darwin 8 { build.env-append MACOSX_DEPLOYMENT_TARGET=10.4
		    configure.env-append MACOSX_DEPLOYMENT_TARGET=10.4 \
			CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0 }
