# $Id: Portfile,v 1.1 2005/12/05 19:39:42 pkern Exp $

PortSystem 1.0
name		gtk-doc-devel
version		1.5.0-20051205
categories	devel
maintainers	pkern@opendarwin.org
description	GTK+ DocBook Documentation Generator
platforms	darwin

long_description \
		GTK-Doc is used to document C code. It is typically used to \
		document the public API of libraries, such as the GTK+ and \
		GNOME libraries, but it can also be used to document \
		application code.

# Use a fixed checkout for now, due to unreliable CVS usage.
master_sites	http://www.opendarwin.org/~pkern/files/
checksums	md5 4a430f601ac20e4c63903c0689504cd6
use_bzip2	yes
#fetch.type	cvs
#cvs.root	:pserver:anonymous@anoncvs.gnome.org:/cvs/gnome
#cvs.module	gtk-doc
worksrcdir	gtk-doc

# gtk-doc theoretically depends on port:openjade, port:docbook-xml,
# port:docbook-xsl and possibly more. The developers of the Gtk Mac OS X
# port advise to deactivate openjade support with this patch. Currently,
# the docbook packages do not register themselves in the catalog, so this
# is really our only possiblity for now. The package itself it needed for
# gtkdocize to succeed. Dependencies will have gtk-doc disabled for now.
# Call it crippled, it's there at least.
patchfiles	Gtk-doc-hack.diff

# We are building a CVS checkout, so we need to build the configure script
# on our own...
depends_build   port:autoconf port:automake
configure.cmd   "./autogen.sh"

