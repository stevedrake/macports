# $Id: Portfile,v 1.5 2006/07/08 21:40:27 gwright Exp $

PortSystem 1.0
name		hmake
version		3.11
categories	devel
maintainers	gwright@opendarwin.org
platforms	darwin
description	A Make Tool for Haskell Programs
long_description	\
		hmake is a compilation manager for Haskell programs.

homepage	http://www.haskell.org/hmake/
master_sites	${homepage}

checksums	md5 643c639048ba894d66ed88cc1f0dc239

default_variants	ghc
variant ghc	{ depends_build	bin:ghc:ghc }
variant nhc98	{ depends_build bin:nhc98:nhc98
		  configure.args-append --buildwith=nhc98
		}

depends_lib	lib:libreadline.5:readline

pre-configure   { reinplace "s|-lreadline|-I${prefix}/include -L${prefix}/lib -lreadline|g" ${worksrcpath}/configure
                }

configure.args	--mandir=${prefix}/share/man/man1

