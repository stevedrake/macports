# $Id: Portfile,v 1.1 2006/04/17 21:02:09 gwright Exp $

PortSystem 1.0
name		hs-Crypto
set shortname	Crypto
version		3.0.3
categories	devel
maintainers	gwright@opendarwin.org
platforms	darwin

description	The Haskell Cryptographic Library.
long_description	\
		The Haskell Cryptographic Library collects together	\
		existing Haskell cryptographic functions into one	\
		cabalized package, together with HUnit tests,		\
		QuickCheck property tests, examples showing how to	\
		interwork with other cryptographic implementations	\
		and examples showing how to handle other ASN.1 definitions.

homepage	http://www.haskell.org/crypto/
master_sites	${homepage}/downloads/
distname	${shortname}-${version}

checksums	md5 1171f41ede25fe501c10afd116dc7e68

depends_build	port:ghc

pre-configure	{ cd ${worksrcpath}
		  system "ghc -o Setup Setup.hs -package Cabal"
		}

configure	{ cd ${worksrcpath}
		  system "./Setup configure --ghc --prefix=${prefix}"
		}

build		{ cd ${worksrcpath}
		  system "./Setup build"
		}

destroot	{ cd ${worksrcpath}
		  system "./Setup copy --copy-prefix=${destroot}${prefix}"
                }

post-activate   { cd ${worksrcpath}
		  catch {system "./Setup unregister"}
		  system "./Setup register"
                }


 
