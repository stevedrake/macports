# $Id: Portfile 32767 2008-01-13 10:36:53Z ryandesign@macports.org $

PortSystem 1.0

name		hs-cabal
set shortname	cabal-install
version		0.5.1
categories	devel haskell
maintainers	gwright
platforms	darwin

description	User interface to Haskell's Cabal build system.
long_description	\
		Cabal is a system for building and packaging Haskell	\
		libraries and programs It defines a common interface	\
		for package authors and distributors to easily build	\
		their applications in a portable way. Cabal is part of	\
		a larger infrastructure for distributing, organizing,	\
		and cataloging Haskell libraries and programs.

homepage	http://www.haskell.org/cabal
master_sites	${homepage}/release/
distname	${shortname}-${version}

checksums	md5     32e04ed2388e7af9e2a1000fac4d2858		\
		sha1    41ffb75f70b27571eb56c9c4782f8af6ef5935eb	\
		rmd160  35b9469db9ff173f6a8ac53e129e55f82b6cecb9

depends_lib	port:hs-libcabal	\
		port:hs-zlib		\
		port:hs-HTTP

configure	{ system "cd ${worksrcpath} && runhaskell Setup configure --ghc --prefix=${prefix}"
		}

build		{ system "cd ${worksrcpath} && runhaskell Setup build"
		}

destroot	{ system "cd ${worksrcpath} && runhaskell Setup copy --copy-prefix=${destroot}${prefix}"
                }


