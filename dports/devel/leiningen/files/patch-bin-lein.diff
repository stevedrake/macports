diff --git a/bin/lein b/bin/lein
index 92546b1..a90c43f 100755
--- a/bin/lein
+++ b/bin/lein
@@ -2,23 +2,13 @@
 
 # TODO: this gives us a trailing colon
 VERSION=0.5.0
-LIBS="$(find -H lib/ -mindepth 2> /dev/null 1 -maxdepth 1 -print0 | tr \\0 \:)"
+PREFIX=__PREFIX__
+LIBS="$(find -H $PREFIX -name \*.jar -print0 | tr \\0 \:)"
 CLASSPATH="src/:classes/:$LIBS"
-LEIN_JAR=$HOME/.m2/repository/leiningen/leiningen/$VERSION/leiningen-$VERSION.jar
 
 # this needs to exist before the JVM is launched apparently
 mkdir -p classes
 
-# If we are not running from a checkout
-if [ ! -r "bin/lein" ]; then
-    if [ ! -r "$LEIN_JAR" -a "$1" != "self-install" ]; then
-        echo "Leiningen is not installed. Please run \"lein self-install\"."
-        exit 1
-    fi
-
-    CLASSPATH="$CLASSPATH:$LEIN_JAR"
-fi
-
 if [ "$1" = "test" ]; then
     CLASSPATH=test/:$CLASSPATH
 fi
@@ -37,15 +27,6 @@ fi
 if [ "$1" = "repl" ]; then
     # If repl used leiningen.core then there'd be no way to bootstrap AOT
     java -cp "$CLASSPATH" clojure.main
-elif [ "$1" = "self-install" ]; then
-    echo "Downloading Leiningen now..."
-    mkdir -p `dirname "$LEIN_JAR"`
-    LEIN_URL=http://repo.technomancy.us/leiningen-$VERSION.jar
-    if type -p curl >/dev/null 2>&1; then
-        exec curl -o "$LEIN_JAR" "$LEIN_URL"
-    else
-        exec wget -O "$LEIN_JAR" "$LEIN_URL"
-    fi
 else
     if [ -z "$1" ]; then
         echo "$0 missing task"
