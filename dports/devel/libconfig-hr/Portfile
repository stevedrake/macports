# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 41093 2008-10-22 20:54:16Z devans@macports.org $

PortSystem      1.0

name            libconfig-hr
version         1.3.1
categories      devel
maintainers     devans openmaintainer
platforms       darwin
homepage        http://www.hyperrealm.com/libconfig/
master_sites    ${homepage}
distname        libconfig-${version}

checksums       md5     f02bfa27a21b3040089026975b9dc0b8 \
                sha1    b93081c9eff36e2ba3f97ff707a069a120e97b1b \
                rmd160  95e805467b1a580b9777d23bc0e318dcb66f5bb8

description \
    A new libconfig implementation with both C and C++ bindings.

long_description \
    A new libconfig implementation with both C and C++ bindings, a \
    completely new API, pkg-config support  and superior documentation. \
    This port is incompatible with the older port libconfig which should be \
    deactivated or uninstalled prior to installation of this port.
 
pre-configure {
    if {[file exists ${prefix}/include/libconfig.h]} {
        if {![file exists ${prefix}/include/libconfig.h++]} {
             error "

****     Port libconfig is installed and must be deactivated
****     or uninstalled before this port can be installed.
"
        }
    }
}

livecheck.check regex
livecheck.url   ${master_sites}
livecheck.regex ">libconfig-(\\d+(?:\\.\\d+)*)${extract.suffix}<"
