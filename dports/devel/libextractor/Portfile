# $Id: Portfile,v 1.4 2005/11/11 06:57:10 mww Exp $
PortSystem 1.0
name		libextractor
version		0.5.6a
categories	devel
maintainers	darwinports@opendarwin.org
description	A library for extraction af meta-data.
long_description	libextractor is a library used to extract \
			meta-data from files of arbitrary type. It is \
			designed to use helper-libraries to perform the \
			actual extraction, and to be trivially \
			extendable by linking against external extractors \
			for additional file types.
homepage	http://gnunet.org/libextractor/
master_sites	http://gnunet.org/libextractor/download/
platforms	darwin
checksums	md5 1e8022f10d58cc9f83ca3700b6645263
depends_lib	port:bzip2 port:zlib port:gettext port:libiconv
configure.args  --mandir=${prefix}/share/man
configure.env   CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress -L${prefix}/lib -lintl"
pre-configure {
	reinplace "s|'-Bstatic'|''|g" ${worksrcpath}/configure
	reinplace "s|-Bstatic||g" ${worksrcpath}/src/plugins/ole2/Makefile.in
	reinplace "s|-Bdynamic||g" ${worksrcpath}/src/plugins/ole2/Makefile.in
	reinplace "s|-Bsymbolic||g" ${worksrcpath}/src/plugins/ole2/Makefile.in
}
