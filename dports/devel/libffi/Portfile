# $Id$

PortSystem 1.0

name		libffi
version		2.1
set pyobjc-version	1.3.7
categories	devel
platforms	darwin
maintainers	mww@opendarwin.org
description	libffi provides a high level api to various calling conventions
long_description	libffi library provides a portable, high level \
			programming interface to various calling conventions. \
			This allows a programmer to call any function \
			specified by a call interface description at run-time. \
			Some programs may not know at the time of compilation \
			what arguments are to be passed to a function. For \
			instance, an interpreter may be told at run-time about \
			the number and types of arguments used to call a given \
			function. Libffi can be used in such programs to \
			provide a bridge from the interpreter program to \
			compiled code.

homepage	http://sources.redhat.com/libffi/
master_sites	sourceforge:pyobjc
distname	pyobjc-${pyobjc-version}
checksums	md5 7e2d181ba27ca579ba135c322990482c \
		rmd160 535937c9b3b644cdf23355f222f9712292992b1c \
		sha1 13d24c0c72d95631ac025a9ac0c2f6e455bf9ca2

set worksrcpath ${workpath}/pyobjc-${pyobjc-version}/libffi-src/src

configure.cmd	../configure
configure.env	CFLAGS=-DMACOSX

build.dir	${configure.dir}

post-destroot	{
	file mkdir ${destroot}${prefix}/share/doc/${name}
	file copy ${worksrcpath}/../ChangeLog \
		${worksrcpath}/../ChangeLog.libgcj \
		${worksrcpath}/../ChangeLog.v1 ${worksrcpath}/../LICENSE \
		${worksrcpath}/../README ${worksrcpath}/../ReadMe.PyObjC \
		${destroot}${prefix}/share/doc/${name}
}
