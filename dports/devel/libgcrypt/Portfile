# $Id$

PortSystem 1.0
name              libgcrypt
version           1.2.4
categories        devel security
maintainers       sfiera@macports.org openmaintainer@macports.org
description       Crypto library
homepage          http://www.gnupg.org/
platforms         darwin

long_description  This is a general purpose cryptographic library based \
                  on the code from GnuPG. It provides functions for all \
                  cryptograhic building blocks: symmetric ciphers (AES, \
                  DES, Blowfish, CAST5, Twofish, Arcfour), hash algorithms \
                  (MD4, MD5, RIPE-MD160, SHA-1, TIGER-192), MACs (HMAC for \
                  all hash algorithms), public key algorithms (RSA, ElGamal, \
                  DSA), large integer functions, random numbers and a lot of \
                  supporting functions.

master_sites      gnupg
checksums         md5 3675d3e74c3a44aed629d9b12a30bb51
use_bzip2         yes

depends_lib       port:libgpg-error

configure.args    --disable-asm --infodir=${prefix}/share/info

platform darwin 6 {
   patchfiles-append    patch-src-ath.h
}
platform darwin 8 {
   configure.env        CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 \
                        CXX=/usr/bin/g++-4.0
}

# Delete info dir file (yuck)
post-destroot {
   file delete ${destpath}/${prefix}/share/info/dir
}

livecheck.check regex
livecheck.url   http://mirrors.rootmode.com/ftp.gnupg.org/${name}/?O=D
livecheck.regex ${name}-(\\d+\\.\\d+\\.\\d+)
