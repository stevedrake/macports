# -*- Mode: Tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0

name            libgcrypt
version         1.2.4
revision        1
categories      devel security
maintainers     sfiera openmaintainer
description     Crypto library
homepage        http://www.gnupg.org/
platforms       darwin

long_description \
    This is a general purpose cryptographic library based \
    on the code from GnuPG. It provides functions for all \
    cryptograhic building blocks: symmetric ciphers (AES, \
    DES, Blowfish, CAST5, Twofish, Arcfour), hash algorithms \
    (MD4, MD5, RIPE-MD160, SHA-1, TIGER-192), MACs (HMAC for \
    all hash algorithms), public key algorithms (RSA, ElGamal, \
    DSA), large integer functions, random numbers and a lot of \
    supporting functions.

master_sites    gnupg
use_bzip2       yes

checksums       md5 3675d3e74c3a44aed629d9b12a30bb51 \
                sha1 c72406c69d6ad9fb3fa1e9824b04566cf204093b \
                rmd160 3ce5553e3a3e7508d3eac624c2d2296114d3df5e

depends_lib     port:libgpg-error

configure.args  --disable-asm

platform darwin 6 {
    patchfiles-append   patch-src-ath.h
}
platform darwin 8 {
    configure.compiler  gcc-4.0
}

post-destroot {
    # Delete info dir file (yuck)
    delete ${destroot}${prefix}/share/info/dir

    set docdir ${prefix}/share/doc/${name}-${version}
    xinstall -d ${destroot}${docdir}
    xinstall -m 0644 -W ${worksrcpath} AUTHORS BUGS COPYING COPYING.LIB ChangeLog \
        NEWS README THANKS TODO VERSION ${destroot}${docdir}
}

livecheck.check regex
livecheck.url   http://mirrors.rootmode.com/ftp.gnupg.org/${name}/?O=D
livecheck.regex ${name}-(\\d+\\.\\d+\\.\\d+)

