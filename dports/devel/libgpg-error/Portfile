# $Id$

PortSystem      1.0
PortGroup       archcheck 1.0

name            libgpg-error
version         1.9
categories      devel
platforms       darwin
maintainers     nomaintainer
homepage        http://www.gnupg.org/
description     Common error values for all GnuPG components

long_description \
    libgpg-error is a library that defines common error values for all GnuPG components. \
    Among these are GPG, GPGSM, GPGME, GPG-Agent, libgcrypt, pinentry, SmartCard Daemon \
    and possibly more in the future.

master_sites    gnupg
use_bzip2       yes

depends_lib     port:libiconv \
                port:gettext

archcheck.files lib/libiconv.dylib \
                lib/libintl.dylib

checksums           md5     521b98aa9395e7eaf0ef2236233a0796 \
                    sha1    6836579e42320b057a2372bbcd0325130fe2561e \
                    rmd160  d18bb0c0ac2224b786f6289a3edcd2ec8f4f00cd

patchfiles      patch-configure.diff

test.run        yes
test.target     check

post-destroot {
    set docdir ${prefix}/share/doc/${name}-${version}
    xinstall -d ${destroot}${docdir}
    xinstall -m 0644 -W ${worksrcpath} ABOUT-NLS AUTHORS COPYING COPYING.LIB NEWS README \
        THANKS VERSION ${destroot}${docdir}
}

livecheck.type  regex
livecheck.url   ftp://ftp.gnupg.org/gcrypt/${name}/
livecheck.regex ${name}-(\\d+\\.\\d+)

