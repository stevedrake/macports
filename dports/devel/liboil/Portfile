# $Id$
PortSystem 1.0
name		liboil
version		0.3.10
revision	2
description	A library of simple functions that are optimized for various CPUs.
long_description	${description}
maintainers	landonf@macports.org
categories	devel
platforms	darwin 
homepage        http://liboil.freedesktop.org/
master_sites    http://liboil.freedesktop.org/download/
checksums	md5 770f656bca8166dab33b322d5886a4bf \
		sha1 00183731d417047a3b7715532b9d6ca5cce16cc4 \
		rmd160 585413d5955b08b24cec18f588927ac071a44098

patchfiles	\
	patch-liboiltmp.c \
	patch-liboil_liboilcpu.c.diff \
	patch-liboil_powerpc_Makefile.in.diff

configure.args	--mandir=${prefix}/share/man 
configure.env   CPPFLAGS="-I${prefix}/include -L${prefix}/lib" \
                CFLAGS="-L${prefix}/lib"

platform darwin powerpc {
    # download version 0.3.6, the last known version to build and run correctly
    # on powerpc, since no version is known to build and run on both powerpc
    # and intel Mac OS X boxes, until such time as this can be fixed
    distname    liboil-0.3.6
    checksums \
        md5 a36b2d9cc71d75d814d7bdca2263290f \
        sha1 43cfdfeace05006bfeaacc30f1feeece657595a2 \
        rmd160 f86830c0c9101e8fbe22879f930fb61d23b0139a
    patchfiles-delete \
        patch-liboiltmp.c \
        patch-liboil_liboilcpu.c.diff \
        patch-liboil_powerpc_Makefile.in.diff
}
