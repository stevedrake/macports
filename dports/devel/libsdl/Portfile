# $Id: Portfile,v 1.7 2005/01/19 19:24:06 rshaw Exp $

PortSystem 1.0
name		libsdl
version		1.2.8
categories	devel multimedia
maintainers	rshaw@opendarwin.org
description	Cross-platform multi-media development API
platforms	darwin freebsd
master_sites	http://www.libsdl.org/release/
distname	SDL-${portversion}
checksums	md5 37aaf9f069f9c2c18856022f35de9f8c
configure.args	--enable-shared \
		--mandir=${prefix}/share/man

long_description \
Simple DirectMedia Layer is a cross-platform multimedia library designed to provide \
fast access to the graphics framebuffer and audio device. It is used by MPEG \
playback software, emulators, and many popular games, including the award winning \
Linux port of "Civilization: Call To Power." Simple DirectMedia Layer supports \
Linux, Win32, BeOS, MacOS, Solaris, IRIX, and FreeBSD.

post-patch {
	# This include causes a compile error on tiger, and doesn't seem to be needed on panther
	reinplace "s| -I/System/Library/Frameworks/Kernel.framework/Headers/||" ${worksrcpath}/src/joystick/darwin/Makefile.in
}

variant nostatic {
	configure.args-append	--disable-static
}

platform darwin 6 {
	depends_lib-append	lib:libdl:dlcompat
	configure.env		CPPFLAGS="-I${prefix}/include" \
				LDFLAGS="-L${prefix}/lib"
}
