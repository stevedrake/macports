# $Id$

PortSystem 1.0

name			libsdl_gfx
version			2.0.16
categories		devel graphics
platforms		macosx
maintainers		mww@macports.org
description		graphics primitives SDL extension
long_description	The SDL_gfx library evolved out of the \
				SDL_gfxPrimitives code which provided basic drawing \
				routines such as lines, circles or polygons and \
				SDL_rotozoom which implemented a interpolating \
			 	rotozoomer for SDL surfaces. The current components of \
				the SDL_gfx library are: Graphic Primitives, \
				Rotozoomer, Framerate control, MMX image filters. \
				It is backwards compatible to the above mentioned \
				code. It is written in plain C and can be used in C++ \
				code.

homepage		http://www.ferzkopp.net/~aschiffler/Software/SDL_gfx-2.0/
master_sites	${homepage}
distname		SDL_gfx-${version}
checksums		${distname}${extract.suffix} sha1 c0277d25daf4b680876ef04a893f64e90d9ce03d

depends_lib		port:libsdl port:libiconv

configure.args	--disable-mmx \
				--disable-sdltest

post-build {
	# create dylib
	system "cd ${worksrcpath} && \
		LDFLAGS=\"-L${prefix}/lib -lSDL\" \
		/bin/sh ${filespath}/create-dylib.sh .libs/libSDL_gfx.a 1.0.0 ${prefix}/lib"
}

post-destroot	{
	xinstall -m 755 -W ${worksrcpath} libSDL_gfx.1.0.0.dylib libSDL_gfx.dylib \
		${destroot}${prefix}/lib
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} AUTHORS COPYING ChangeLog INSTALL \
		LICENSE NEWS README ${destroot}${prefix}/share/doc/${name}
}

platform darwin 6 {
	depends_lib-append	lib:libdl:dlcompat
}

livecheck.check	freshmeat
livecheck.name	sdl_gfx
