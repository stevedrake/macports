# $Id: Portfile,v 1.13 2006/02/26 17:24:09 ben Exp $

PortSystem 1.0
name			libsdl_image
version			1.2.4
revision		5
categories		devel graphics
maintainers		ben@opendarwin.org
description		Add on library for libSDL handling several image formats
long_description	This is a simple library to load images of various \
			formats as SDL surfaces. This library supports BMP, \
			PPM, PCX, GIF, JPEG, PNG, TGA, and TIFF formats.
platforms		macosx
master_sites		http://www.libsdl.org/projects/SDL_image/release/
homepage        	http://www.libsdl.org/
distname		SDL_image-${version}
checksums		md5 70bf617f99e51a2c94550fc79d542f0b
depends_lib		bin:sdl-config:libsdl \
			lib:libpng:libpng \
			lib:libjpeg:jpeg

configure.env	CFLAGS="-I${prefix}/include" \
				LDFLAGS="-L${prefix}/lib"
configure.args	--disable-sdltest

build.env	${configure.env}

post-destroot	{
	xinstall -m 0755 -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 0644 -W ${worksrcpath} CHANGES COPYING README \
		${destroot}${prefix}/share/doc/${name}
}

platform darwin 6 {
	depends_lib-append	lib:libdl:dlcompat
}
