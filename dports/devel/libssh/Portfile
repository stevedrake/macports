# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0
PortGroup               cmake 1.0

name                    libssh
epoch                   1
version                 0.4.6
set major               [join [lrange [split ${version} .] 0 1] .]
categories              devel security net
platforms               darwin
maintainers             snc openmaintainer
license                 LGPLv2.1

description             an SSH library

long_description        The ssh library was designed to be used by \
                        programmers needing a working SSH implementation \
                        by the mean of a library.

homepage                http://www.libssh.org
master_sites            http://www.libssh.org/files/${major}

checksums           md5     9efdc8911fdb150fb16500c2fbe4ef2e \
                    sha1    52e7e68590fbcd835bc4a2eceb51e672641efb69

depends_lib             port:openssl \
                        port:zlib

post-extract {      file mkdir ${workpath}/build }

patchfiles          patch-libssh-socket.c.diff

# standard post-arg, where to find the primary CMakeLists.txt file.
configure.post_args ../${distname}
configure.dir       ${workpath}/build
build.dir           ${workpath}/build

livecheck.url       ${homepage}
livecheck.regex     ${name} (\\d+\\.\\d+(\\.\\d+)+)
