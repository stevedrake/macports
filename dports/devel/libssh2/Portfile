# $Id$

PortSystem 1.0

name		  libssh2
version		  0.14
categories	  devel net
maintainers	  pmq@macports.org openmaintainer@macports.org

description	  libssh2 is a library implementing the SSH2 protocol
long_description  libssh2 is a library implementing the SSH2 protocol as \
		  defined by Internet Drafts: SECSH-TRANS(22), \
		  SECSH-USERAUTH(25), SECSH-CONNECTION(23), SECSH-ARCH(20), \
		  SECSH-FILEXFER(06), SECSH-DHGEX(04), and SECSH-NUMBERS(10).

homepage	  http://www.libssh2.org
master_sites	  sourceforge:
checksums	  md5 7a44b7b38295d80bd8f80254ee135930 \
		  sha1 6b0f80a6e307298af862ece5d19e423b99adc705

depends_lib	  port:openssl port:zlib

livecheck.regex	  "${name} ${name}-(.*) released"

patch {
    reinplace "s|-flat_namespace|-install_name ${prefix}/lib/${name}.dylib|" \
        ${worksrcpath}/configure
}

post-destroot {
    # also install the sample code
    xinstall -d ${destroot}${prefix}/share/doc/${name}
    xinstall ${worksrcpath}/ssh2_sample.c ${destroot}${prefix}/share/doc/${name}/
}
