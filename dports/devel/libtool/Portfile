# $Id$

PortSystem 1.0
name            libtool
version         1.5.22
categories     	devel sysutils
maintainers     bchesneau@mac.com
description     GNU Libtool - The GNU Portable Library Tool 
long_description \
    GNU libtool is a generic library support script. Libtool hides the  \
    complexity of using shared libraries behind a consistent, portable  \
    interface.

homepage        http://www.gnu.org/software/libtool/libtool.html
platforms       darwin freebsd
master_sites    gnu
checksums       md5 8e0ac9797b62ba4dcc8a2fb7936412b0

configure.args  --program-prefix=g \
                --infodir=${prefix}/share/info \
                --mandir=${prefix}/share/man

test.run        yes
test.target     check

platform darwin 6 {
    depends_lib-append      lib:libdl:dlcompat
}

variant universal {
    configure.args-append   --disable-dependency-tracking
    configure.env-append    CFLAGS="-isysroot /Developer/SDKs/MacOSX10.4u.sdk -arch i386 -arch ppc" \
                            CXXFLAGS="-isysroot /Developer/SDKs/MacOSX10.4u.sdk -arch i386 -arch ppc" \
                            LDFLAGS="-arch i386 -arch ppc"
}
