# $Id$
PortSystem 1.0

name                lua-luahpdf
version             1.0
categories          devel
platforms           darwin
maintainers         and.damore openmaintainer

description         Lua module that lets you programmatically create PDF files

long_description    LuaHPDF is a Lua module that lets you programmatically \
create PDF files using Lua. It does this by binding to the Haru Free PDF \
Library, an open-source library that manages the details of PDF generation. \
With this module, you can write Lua programs that will produce PDF files that \
include lines, text and graphics PNG and JPEG images compression encryption \
Type1 and TrueType fonts various character sets outlines links

depends_lib         port:lua \
					port:libharu

homepage            http://code.google.com/p/luahpdf/

master_sites        googlecode:luahpdf

checksums           md5     4f4c6f6152202c9275a23bfab8cd8f1c \
                    sha1    4d7a667deda9e185381026ef0d623b9572f64510 \
                    rmd160  95a8ad3411974adf2e9c3107adf3391f4eb4ccc9

distname            luahpdf-${version}

post-patch {
   reinplace "s|PREFIX=/usr/local|PREFIX=${prefix}|" ${worksrcpath}/Makefile
   reinplace "s|cc -ansi -DHPDF_SHARED -pedantic -Wall -O2|cc -ansi -DHPDF_SHARED -pedantic -Wall -O2 \$(CFLAGS) \$(LDFLAGS)|" ${worksrcpath}/Makefile
}

use_configure       no

use_parallel_build  no

build.env           CFLAGS=-I${prefix}/include LDFLAGS=-L${prefix}/lib
