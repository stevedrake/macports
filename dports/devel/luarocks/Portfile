# $Id$

PortSystem 1.0

name                    luarocks
version                 0.5.2
revision                3
categories              devel
platforms               darwin
maintainers             andrea.damore@macports.org
description             Manager for rocks, lua extensions.
long_description        LuaRocks is a deployment and management system for Lua modules. \
				LuaRocks allows you to install Lua modules as self-contained packages \
				called \"rocks\", which also contain version dependency information. This \
				information is used both at install time, so that when one rock is \
				requested all rocks it depends on are installed as well, and at run \
				time, so that when a module is required, the correct version is loaded. \
				LuaRocks supports both local and remote repositories, and multiple local \
				rocks trees.
homepage                http://www.luarocks.org/
master_sites            http://luaforge.net/frs/download.php/3359/
depends_lib		port:lua \
			port:wget

configure.args-append	--with-lua=${prefix}	
configure.args-append	--scripts-dir=${prefix}/lib/luarocks/bin	

variant md5 description { Use md5 as checker } {
	configure.args-delete	--with-md5-checker=openssl
	configure.args-append	--with-md5-checker=md5sum	
	depends_lib-delete	port:openssl
}
	
variant openssl description { Use openssl as checker } {
	configure.args-delete	--with-md5-checker=md5sum
	configure.args-append	--with-md5-checker=openssl	
	depends_lib-append	port:openssl
}

variant wget description { Use wget as downloader } {
	configure.args-delete	--with-downloader=curl
	configure.args-append	--with-downloader=wget
	depends_lib-delete	port:curl
	depends_lib-append	port:wget
}

variant curl description { Use curl as downloader } {
	configure.args-delete	--with-downloader=wget
	configure.args-append	--with-downloader=curl
	depends_lib-delete	port:wget
	depends_lib-append	port:curl
}

checksums	md5  e6edae6c667480d921f49ddda8cb63fc \
		sha1  494c96944a9f6ab8d515fe4d6c15f661fafbf242 \
		rmd160  6f0acf500998150042f22d55bed4c1f2eb23e9b0


