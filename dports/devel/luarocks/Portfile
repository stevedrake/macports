# $Id$

PortSystem 1.0

name                    luarocks
version                 0.6.0.2
revision                0
categories              devel
platforms               darwin
maintainers             andrea.damore@macports.org
description             Manager for rocks, lua extensions.
long_description        LuaRocks is a deployment and management system for Lua modules. \
				LuaRocks allows you to install Lua modules as self-contained packages \
				called \"rocks\", which also contain version dependency information. This \
				information is used both at install time, so that when one rock is \
				requested all rocks it depends on are installed as well, and at run \
				time, so that when a module is required, the correct version is loaded. \
				LuaRocks supports both local and remote repositories, and multiple local \
				rocks trees.
homepage                http://www.luarocks.org/
master_sites           	http://luaforge.net/frs/download.php/3516/
depends_run		port:lua
universal_variant	no

configure.args		--with-lua=${prefix} \
			--scripts-dir=${prefix}/lib/luarocks/bin

variant md5 conflicts openssl description { Use md5 as checker } {
	configure.args-append	--with-md5-checker=md5sum
}
	
variant openssl conflicts md5 description { Use openssl as checker (default) } {
	configure.args-append	--with-md5-checker=openssl
	depends_run-append	port:openssl
}

if {![variant_isset md5]} {
	default_variants +openssl
}

variant wget conflicts curl description { Use wget as downloader } {
	configure.args-append	--with-downloader=wget
	depends_run-append	port:wget
}

variant curl conflicts wget description { Use curl as downloader (default) } {
	configure.args-append	--with-downloader=curl
	depends_run-append	port:curl
}

if {![variant_isset wget]} {
	default_variants +curl
}

checksums	md5  7cf03ced484e010f870b3fad017dd15a \
		sha1  3e8200774122e07443f9cf69889336f8e8af44ed \
		rmd160  95466e68b0a84f20c8ccfb61b4e0c792ab61db92
	

