PortSystem 1.0
name            m4
version         1.4.8b
revision        1
categories      devel
maintainers     blair@orcaware.com openmaintainer@macports.org
platforms       darwin
description     GNU macro processor 
long_description \
    GNU `m4' is an implementation of the traditional Unix macro         \
    processor.  It is mostly SVR4 compatible, although it has some      \
    extensions (for example, handling more than 9 positional parameters \
    to macros). `m4' also has built-in functions for including files,   \
    running shell commands, doing arithmetic, etc. Autoconf needs GNU   \
    `m4' for generating `configure' scripts, but not for running them.
homepage        http://www.gnu.org/software/m4/
master_sites    ftp://alpha.gnu.org/gnu/${name}
use_bzip2       yes
checksums       md5 0619358c9c95110cb4d75c6bec8cc5b1 \
                sha1 7c986708ae9fb22b673e8b5574da15a6e2a51153 \
                rmd160 b2054da753b6f32bf7af2a83191f8bd193edf48c
configure.args  --infodir=${prefix}/share/info \
                --program-prefix=g

test.run        yes
test.target     check

variant without_prefix {
    post-destroot {
        cd ${destroot}${prefix}/bin
        foreach a [glob g*] {
            regexp g(.+) $a crap b
            file link -hard $b g$b
        }
    }
}
