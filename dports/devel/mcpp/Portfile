# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:filetype=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
name                mcpp
version             2.7
categories          devel
platforms           darwin
maintainers         t3.rim.or.jp:kmatsui
description         Alternative C/C++ preprocessor
long_description    \
    C/C++ preprocessor expands macros and processes '#if', '#include' and  \
    some other directives.                                                 \
    MCPP is an alternative C/C++ preprocessor with the highest conformance,\
    implementated by Kiyoshi Matsui.  It supports multiple standards: K&R, \
    ISO C90, ISO C99, and ISO C++98.  MCPP is especially useful for        \
    debugging the source program which use complicated macros and also     \
    useful for checking portability of the source.                         \
    Though mcpp could be built as a replacement of GCC's resident          \
    proprocessor, this port installs only a program which behaves          \
    independent from GCC.
homepage            http://mcpp.sourceforge.net/
master_sites        sourceforge
checksums           md5 14f9e4155aeb5812fc3ced6345caee02 \
                    sha1 3bb1c2a2f0fae9c73c2c4edaf98354b2140f4f53
configure.args-append   --mandir=${prefix}/share/man
# +universal: Install universal binary of mcpp for i386 and ppc.
# Do not append these options to configure, but append to make.
variant universal { build.args-append CFLAGS+='-isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-version-min=10.4 -arch i386 -arch ppc' }
# +mcpplib: Install mcpp as a library libmcpp.* instead of mcpp command.
variant mcpplib { configure.args-append --enable-mcpplib }
