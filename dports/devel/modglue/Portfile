# $Id: $

PortSystem 1.0
name		modglue
version		1.2
revision	3
categories	devel
platforms	darwin
maintainers	gwright@macports.org
description	A Plan9-inspired extension of the Unix pipe concept
long_description \
	Modglue is a combination of several software tools that		\
	assist in writing and running programs connected to each other	\
	using standard Unix pipes.

homepage	http://www.aei.mpg.de/~peekas/cadabra/
master_sites	${homepage}

checksums	sha1 6c5169d6627137306a2ea17faf676717863bc7d1

depends_lib	port:libsigcxx2

configure.args	--prefix=${destroot}${prefix}

post-destroot	{ reinplace "s|^prefix=${destroot}${prefix}|prefix=${prefix}|" ${destroot}${prefix}/lib/pkgconfig/modglue.pc

		  reinplace "s|^libdir='${destroot}${prefix}|libdir='${prefix}|" ${destroot}${prefix}/lib/lib${name}.la

		  system "install_name_tool -id ${prefix}/lib/lib${name}.1.dylib ${destroot}${prefix}/lib/lib${name}.1.0.0.dylib"
		  system "install_name_tool -id ${prefix}/lib/libmid.1.dylib ${destroot}${prefix}/lib/libmid.1.0.0.dylib"

		  system "install_name_tool -change ${destroot}${prefix}/lib/lib${name}.1.dylib ${prefix}/lib/lib${name}.1.dylib ${destroot}${prefix}/bin/prompt"

		}


