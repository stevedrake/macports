--- mono/utils/mono-sigcontext.h.orig	2010-05-06 15:03:45.000000000 -0700
+++ mono/utils/mono-sigcontext.h	2010-05-06 15:06:37.000000000 -0700
@@ -8,9 +8,6 @@
 #if defined(__FreeBSD__) || defined(__APPLE__)
 #include <ucontext.h>
 #endif
-#if defined(__APPLE__)
-#include <AvailabilityMacros.h>
-#endif
 
 #if defined(__FreeBSD__)
 	#define UCONTEXT_REG_EAX(ctx) (((ucontext_t*)(ctx))->uc_mcontext.mc_eax)
@@ -23,7 +20,7 @@
 	#define UCONTEXT_REG_EDI(ctx) (((ucontext_t*)(ctx))->uc_mcontext.mc_edi)
 	#define UCONTEXT_REG_EIP(ctx) (((ucontext_t*)(ctx))->uc_mcontext.mc_eip)
 #elif defined(__APPLE__)
-#  if MAC_OS_X_VERSION_MIN_REQUIRED >= MAC_OS_X_VERSION_10_5
+#  if __DARWIN_UNIX03
 	#define UCONTEXT_REG_EAX(ctx) (((ucontext_t*)(ctx))->uc_mcontext->__ss.__eax)
 	#define UCONTEXT_REG_EBX(ctx) (((ucontext_t*)(ctx))->uc_mcontext->__ss.__ebx)
 	#define UCONTEXT_REG_ECX(ctx) (((ucontext_t*)(ctx))->uc_mcontext->__ss.__ecx)
