# $Id$

PortSystem 1.0

name            mpfr
version         2.2.1
revision        1
categories      devel math
platforms       darwin
maintainers     vincent-opdarw@vinc17.org

description     C library for multiple-precision floating-point computations
long_description \
    MPFR is a portable C library for arbitrary-precision binary \
    floating-point computation with correct rounding, based on the GMP \
    multiple-precision library. The computation is both efficient and \
    has a well-defined semantics. It copies the good ideas from the \
    ANSI/IEEE-754 standard for fixed-precision floating-point arithmetic.

homepage        http://www.mpfr.org/
master_sites    http://www.mpfr.org/mpfr-${version}/

checksums \
    patch01 md5 fd276c3936d6fa5adf9fae1cd57c74c4 \
    patch01 sha1 47c3ec783f32081ea1406bc0aac06bf61fd804aa \
    patch02 md5 03e638937ec7a2af4f703577396e8e52 \
    patch02 sha1 e93c31a2baaef5367a710a5e64b82744f5de4b64 \
    patch03 md5 fa3398730e7d23fdf37ee4e5c422bf80 \
    patch03 sha1 4eaa326c4fe43499a8acbdd6fc71c6a408663650 \
    patch04 md5 5d44d16448f85fea2acd5bcbd04cabb0 \
    patch04 sha1 9a1fec3686cfd6b227cebcb9e24d4ed8549ad5d9 \
    patch05 md5 2881b39c442466caa3451725b50f5a7a \
    patch05 sha1 4d559340e1006e84dae50e655723e916a26989ad \
    ${distname}.tar.bz2 md5 40bf06f8081461d8db7d6f4ad5b9f6bd \
    ${distname}.tar.bz2 sha1 d0abd0943fcfc937a816bf67baaff3f0273a19e7

use_bzip2       yes

depends_lib     port:gmp

patch_sites     ${master_sites}
patchfiles      patch01 patch02 patch03 patch04 patch05
patch.args      -p1

configure.args  --enable-shared
configure.env   CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"

test.run        yes
test.target     check

platform darwin x86 {
    configure.args-append --host=none-apple-darwin
}
platform darwin i386 {
    configure.args-append --host=none-apple-darwin
}

platform darwin 8 {
    configure.env-append CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0
}

livecheck.check none
