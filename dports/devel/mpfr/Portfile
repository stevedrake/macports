# $Id$

PortSystem 1.0

name            mpfr
version         2.3.0
revision        4
categories      devel math
platforms       darwin
maintainers     vincent-opdarw@vinc17.org

description     C library for multiple-precision floating-point computations
long_description \
    MPFR is a portable C library for arbitrary-precision binary \
    floating-point computation with correct rounding, based on the GMP \
    multiple-precision library. The computation is both efficient and \
    has a well-defined semantics. It copies the good ideas from the \
    ANSI/IEEE-754 standard for fixed-precision floating-point arithmetic.

homepage        http://www.mpfr.org/
master_sites    http://www.mpfr.org/mpfr-${version}/

checksums \
    patch01 md5 64d4d737ef4684721b8b2fe7764d5a95 \
    patch01 sha1 ad56aef7dfe9dc91b3a52de495abf8cec41b8db9 \
    patch01 rmd160 859fef00e8cccd53784f3eb610777e9812a21232 \
    patch02 md5 831349c8ce7c52be1e2591acbb66a342 \
    patch02 sha1 35ab59482c2b35c631fca2faaa6f32c01af73c5b \
    patch02 rmd160 38e467cd620e022b5850ec0b876f4cb453b8603a \
    patch03 md5 7cbc1bbe65314e2978ed088593191df1 \
    patch03 sha1 2b9ba6c2ac2c2cbb99ba532235725387bd533ed8 \
    patch03 rmd160 92c047a108b176325c1aba573fea9ea1d7966ffb \
    patch04 md5 1fab1f9a2c87be921e410ae930615466 \
    patch04 sha1 77285fb87437d7c9430885581f5d469a68cc5f10 \
    patch04 rmd160 3faafc1d40bd0451fba67b9e0044ab23834ccbb5 \
    ${distname}.tar.bz2 md5 cf7c743e4be122e63eb6f372fc58b657 \
    ${distname}.tar.bz2 sha1 b20b9b85cdccddbb0a9c22807de0049e1f9ec528 \
    ${distname}.tar.bz2 rmd160 ec0fdd2a49d894c3b09b3909ad73539cdadb3f3c

use_bzip2       yes

depends_lib     port:gmp

dist_subdir     ${name}/${version}

patch_sites     ${master_sites}
patchfiles      patch01 patch02 patch03 patch04
patch.args      -p1

configure.args  --enable-shared

test.run        yes
test.target     check

pre-destroot {
    set docdir ${destroot}${prefix}/share/doc/${name}
    file mkdir ${docdir}
    xinstall -m 644 -v -W ${worksrcpath} \
      AUTHORS BUGS COPYING.LIB FAQ.html NEWS TODO ${docdir}
}

platform darwin x86 {
    configure.args-append --host=none-apple-darwin
}

platform darwin i386 {
    configure.args-append --host=none-apple-darwin
}

platform darwin 8 {
    configure.compiler gcc-4.0
}

livecheck.check none
