# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0

name                    nodejs
version                 0.1.104
categories              devel net
platforms               darwin
maintainers             gmail.com:ceager mgrimes openmaintainer

description             Evented I/O for V8 JavaScript

long_description        Node's goal is to provide an easy way to build scalable network programs in JavaScript. \
                        Node is similar in design to and influenced by systems like Ruby's Event \
                        Machine or Python's Twisted. Node takes the event model a bit further-it \
                        presents the event loop as a language construct instead of as a library.

homepage                http://nodejs.org/
master_sites            ${homepage}dist/

checksums               md5     907fa1e0a2f1f0c3df5efc97fd05a7d2 \
                        sha1    9fa142bb532b9ff9031be382b864aea6a8fa0389 \
                        rmd160  1b981613ef16f93d1e4a30d2759be29e57248360

distname                node-v${version}

depends_lib-append      port:gnutls \
                        port:openssl

# V8 only supports ARM and IA-32 processors
universal_variant       no

test.run                yes

# TODO: Fix the doc installation
#variant doc description {Build and install manpages} {
#    use_configure   no
#    build {}
#    destroot.target doc install
#
#    depends_lib-append      port:asciidoc \
#                            port:libxslt
#}
