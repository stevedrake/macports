--- ./pr/src/md/unix/Makefile.in.orig	2004-04-25 17:00:59.000000000 +0200
+++ ./pr/src/md/unix/Makefile.in	2008-01-05 17:34:21.000000000 +0100
@@ -93,7 +93,18 @@
 
 include $(topsrcdir)/config/rules.mk
 
+ifeq ($(MACOSX_UNIVERSAL),1)
+os_Darwin_x86.o: os_Darwin_x86.s
+	$(CC) -c -o $@ -arch i386 $(subst -arch ppc,,$(CFLAGS)) $<
+os_Darwin_ppc.o: os_Darwin_ppc.s
+	$(CC) -c -o $@ -arch ppc $(subst -arch i386,,$(CFLAGS)) $<
+os_Darwin_universal.o: os_Darwin_ppc.o os_Darwin_x86.o
+	lipo -arch i386 os_Darwin_x86.o -arch ppc os_Darwin_ppc.o -create -output os_Darwin_universal.o
+
+export:: $(TARGETS) os_Darwin_x86.o os_Darwin_ppc.o os_Darwin_universal.o
+else
 export:: $(TARGETS)
+endif
 
 ifeq ($(OS_ARCH),SunOS)
 ifneq ($(OS_RELEASE),4.1.3_U1)
