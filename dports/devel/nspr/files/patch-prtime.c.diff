--- ./pr/src/misc/prtime.c.orig	2008-01-05 17:39:26.000000000 +0100
+++ ./pr/src/misc/prtime.c	2008-01-05 17:40:58.000000000 +0100
@@ -1553,7 +1553,7 @@
                 case TT_EET: zone_offset =  2 * 60; break;
                 case TT_JST: zone_offset =  9 * 60; break;
                 default:
-                  PR_ASSERT (0);
+                  return PR_FAILURE; 
                   break;
                 }
         }
@@ -1595,11 +1595,12 @@
           struct tm localTime;
           time_t secs;
 
-          PR_ASSERT(tm.tm_month > -1 
+          if (!(tm.tm_month > -1
                                    && tm.tm_mday > 0 
                                    && tm.tm_hour > -1
                                    && tm.tm_min > -1
-                                   && tm.tm_sec > -1);
+                                   && tm.tm_sec > -1))
+		return PR_FAILURE;
 
             /*
              * To obtain time_t from a tm structure representing the local
