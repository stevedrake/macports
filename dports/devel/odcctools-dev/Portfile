# $Id: Portfile 21217 2007-01-14 17:00:08Z yves@macports.org $

PortSystem 1.0
name		odcctools-dev
version		20061117
categories	devel
maintainers	yves@macports.org
description	Darwin cctools build system.
long_description	The odcctools project is geared towards improving the \
			Darwin cctools build system and code base to support \
			Darwin development. Darwin cctools has several \
			components, including the assembler odas(1), the \
			static linker odld(1), various tools for manipulating \
			and analyzing Mach-O and fat files, and support \
			libraries.
homepage	http://odcctools.macosforge.org/
platforms	darwin

pre-fetch {
	ui_msg "This port is a work in progress, contact maintainer for futher informations"
	exit
}
distname	odcctools
fetch.type	svn
svn.tag     150
svn.url     http://svn.macosforge.org/repository/odcctools/trunk ${distname}

worksrcdir	${distname}/${distname}

set od_extract ""
extract {
	cd ${workpath}/${distname}
	system "./extract.sh $od_extract"
}

depends_build   bin:svn:subversion

configure.args	--program-prefix=od

build.target	default

post-destroot {
	cd ${destroot}${prefix}/share/man/man1
	foreach manpage [glob *.1] {
		file rename ${manpage} od${manpage}
	}
}

variant without_sdk {
	set od_extract "--nosdk"
}
