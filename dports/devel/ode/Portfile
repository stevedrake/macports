# $Id: Portfile,v 1.4 2004/06/16 09:23:55 mww Exp $

PortSystem 1.0

name		ode
version		0.7
categories	devel
platforms	darwin
maintainers	mww@opendarwin.org
description	library for simulating articulated rigid body dynamics
long_description	ODE is a free, industrial quality library for \
			simulating articulated rigid body dynamics - for \
			example ground vehicles, legged creatures, and moving \
			objects in VR environments. It is fast, flexible, \
			robust and platform independent, with advanced joints, \
			contact with friction, and built-in collision detection.

homepage	http://opende.sourceforge.net/
master_sites	sourceforge:opende
distfiles	${name}-src-${version}.zip
checksums	md5 b6727fef2cbb9ca812438bb774c9d6ec
use_zip		yes

depends_lib	lib:libGL:XFree86

build.type	gnu

post-destroot	{
	eval xinstall -m 644 [glob ${worksrcpath}/include/drawstuff/*] \
		${destroot}${prefix}/include/ode
	system "ranlib ${destroot}${prefix}/lib/libode.a"
}

variant opcode	{
	patchfiles-append	patch-user-settings-opcode.diff
}
