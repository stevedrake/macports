# $Id$

PortSystem 1.0
name		orbit2
set my_name ORBit2
version		2.14.9
set branch  [join [lrange [split ${version} .] 0 1] .]
revision    1
description	Code for an ORB written in C will spontaneously evolve here.
long_description        Code for an ORB written in C will spontaneously \
			evolve here.
maintainers	rhwood openmaintainer@macports.org
categories	devel gnome
platforms	darwin 
homepage	http://www.gnome.org/projects/ORBit2/
master_sites    gnome:sources/${my_name}/${branch}/
checksums	md5 c7e7080ef27aca22f26ac21fcb5613a5 \
		sha1 92a95fcdb43bc22f9f2ad85e1ba24cde2c8b855a \
		rmd160 e165d38a0f83e94efa4d9d7b39a5ae42f6431eb5
distname  	${my_name}-${version}

depends_lib \
    port:glib2 \
    port:gettext \
    port:libiconv \
    port:libidl

depends_build   port:pkgconfig

use_bzip2 	yes

test.run	yes
test.target	check

platform darwin 7 {
	configure.cflags-append	-DBIND_8_COMPAT=1
}

livecheck.check regex
livecheck.url   http://ftp.gnome.org/pub/gnome/sources/${my_name}/${branch}/
livecheck.regex {LATEST-IS-(\d+(?:\.\d+)*)}

