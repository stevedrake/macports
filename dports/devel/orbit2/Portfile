# $Id$

PortSystem 1.0
name		orbit2
set my_name ORBit2
version		2.14.10
set branch  [join [lrange [split ${version} .] 0 1] .]
revision    2
description	Code for an ORB written in C will spontaneously evolve here.
long_description        Code for an ORB written in C will spontaneously \
			evolve here.
maintainers	nomaintainer
categories	devel gnome
platforms	darwin 
homepage	http://www.gnome.org/projects/ORBit2/
master_sites    gnome:sources/${my_name}/${branch}/
checksums	md5 180f486f07d6db84aca0f71f68e54618 \
		sha1 f5d7bbe36562b5daad48b92cc5b17afa12d211ee \
		rmd160 f6df0bf38218ba0d02e2e332d570cf3e1831ec53
distname  	${my_name}-${version}

depends_lib \
    port:glib2 \
    port:gettext \
    port:libiconv \
    port:libidl

depends_build   port:pkgconfig

use_bzip2 	yes

test.run	yes
test.target	check

platform darwin 7 {
	configure.cflags-append	-DBIND_8_COMPAT=1
}

platform darwin 9 {
	patchfiles-append patch-giop-endian.h
}

livecheck.check regex
livecheck.url   http://ftp.gnome.org/pub/gnome/sources/${my_name}/${branch}/
livecheck.regex {LATEST-IS-(\d+(?:\.\d+)*)}

