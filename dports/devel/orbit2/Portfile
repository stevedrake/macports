# $Id: Portfile,v 1.23 2006/07/22 03:16:14 pguyot Exp $

PortSystem 1.0
name		orbit2
version		2.14.0
description	Code for an ORB written in C will spontaneously evolve here.
long_description        Code for an ORB written in C will spontaneously \
			evolve here.
maintainers	macports-dev@lists.macosforge.org
categories	devel gnome
platforms	darwin 
homepage	http://www.gnome.org/projects/ORBit2/
master_sites    gnome:sources/ORBit2/2.14/
checksums	md5 bb1b4859522cb6e1a3a3dc4b7397db64 \
		sha1 2358f9917d468c213272ee889dbbb74f91448728 \
		rmd160 1e8eb52b8b95f70fa80b217a41d0bcac35c333c0
distname  	ORBit2-${version}

depends_lib \
	port:libidl \
	port:libxml2 \
	port:popt \
	port:expat

depends_build   bin:pkg-config:pkgconfig

use_bzip2 	yes

configure.args	--mandir=${prefix}/share/man
configure.env	CPPFLAGS="-L${prefix}/lib -I${prefix}/include" 

destroot.destdir	prefix=${destroot}/${prefix}

platform darwin 7 { configure.env-append       CFLAGS="-DBIND_8_COMPAT=1" }

variant use-sys-deps {
	depend_lib \
		lib:libIDL-2:libidl \
		lib:libxml2.2.6.5:libxml2 \
		lib:libpopt:popt \
		lib:libexpat:expat
}
