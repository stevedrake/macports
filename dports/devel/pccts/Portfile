# $Id: Portfile,v 1.7 2005/01/03 09:29:28 waqar Exp $

PortSystem 1.0
name          	pccts
version       	1.33
revision	1
categories    	devel
maintainers   	waqar@opendarwin.org
description   	Purdue Compiler-Construction Tool Set (parser-generator)
long_description \
  	PCCTS, the Purdue Compiler Construction Tool Set, is a set of \
       	public-domain software tools designed to facilitate the construction \
       	of compilers and other translation systems. Although originally \
       	developed primarily for internal use within Purdue University.
homepage      	http://www.polhode.com/pccts.html
platforms     	darwin
master_sites  	http://www.polhode.com
use_zip       	yes
distname      	${name}133mr
checksums     	md5 fd70972b0a6aa2d3cf8b5c66d26d229d
worksrcdir    	${name}
patch		{
	reinplace "s|#COPT=-O2|COPT=-DPCCTS_USE_STDARG -O2|g" \
		"${workpath}/${worksrcdir}/makefile"
}
use_configure  	no
build.target
destroot	{    	
	xinstall -m 755 ${worksrcpath}/bin/antlr ${destroot}${prefix}/bin
	xinstall -m 755 ${worksrcpath}/bin/dlg ${destroot}${prefix}/bin
	xinstall -m 755 ${worksrcpath}/bin/genmk ${destroot}${prefix}/bin
	xinstall -m 755 ${worksrcpath}/bin/sor ${destroot}${prefix}/bin
	xinstall -m 644 ${worksrcpath}/dlg/dlg.1 \
	        ${destroot}${prefix}/share/man/man1
	xinstall -m 644 ${worksrcpath}/antlr/antlr.1 \
	        ${destroot}${prefix}/share/man/man1
}
