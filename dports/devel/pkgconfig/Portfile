# $Id$

PortSystem          1.0

name                pkgconfig
version             0.25
revision            1
categories          devel
maintainers         ryandesign
license             GPL-2+
homepage            http://pkg-config.freedesktop.org/
master_sites        ${homepage}releases/ \
                    http://www.vg.kernel.org/pub/mirrors/gentoo/source/distfiles/
distname            pkg-config-${version}
platforms           darwin freebsd
use_parallel_build  yes

description         pkg-config, a system for managing library compile and \
                    link flags

long_description    The pkg-config program is used to retrieve information \
                    about installed libraries in the system. It is typically \
                    used to compile and link against one or more libraries.

checksums           md5     a3270bab3f4b69b7dc6dbdacbcae9745 \
                    sha1    8922aeb4edeff7ed554cc1969cbb4ad5a4e6b26e \
                    rmd160  835509d01f68c45823ee89c718776eb66f61316b

patchfiles          patch-underquoting.diff

configure.args      --enable-indirect-deps \
                    --with-pc-path=${prefix}/lib/pkgconfig:${prefix}/share/pkgconfig

test.run            yes
test.target         check

post-destroot {
    set docdir ${destroot}${prefix}/share/doc/${name}
    xinstall -d ${docdir}
    xinstall -m 644 -W ${worksrcpath} \
        AUTHORS \
        COPYING \
        ChangeLog \
        NEWS \
        README \
        ${docdir}
}

livecheck.type      regex
livecheck.url       "${homepage}releases/?C=M&O=D"
livecheck.regex     pkg-config-(\[0-9.\]+)\\.tar
