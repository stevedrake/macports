# $Id$

PortSystem 1.0
name		popt
version		1.11
revision	0
categories	devel
maintainers	n3npq@mac.com
description	A getopt(3) like library with a number of enhancements
long_description popt is a command line parsing library. It contains a number of enhancements over getopt(3), including being fully reentrant, allowing users to alias command line arguments, providing convience functions for parsing strings into argv[] style arrays and popt can parse arbitrary argv[] style arrays.

platforms	darwin
master_sites	http://rpm5.org/files/popt/

depends_lib	port:gettext \
		port:libiconv

patchfiles	patch-poptint.c

post-patch {
        file copy -force /usr/share/libtool/config.guess ${worksrcpath}/config.guess
        file copy -force /usr/share/libtool/config.sub ${worksrcpath}/config.sub
}

configure.env	CFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"
configure.args	--mandir=${prefix}/share/man --with-libiconv-prefix=${prefix}

destroot.args	localedir=${prefix}/share/locale
post-destroot {
	file delete -force ${destroot}${prefix}/share/locale/locale.alias
	file delete -force ${destroot}${prefix}/lib/charset.alias
}

checksums	md5 3c36cb9d40a46a3190369002f6cda984

platform darwin 7 {
        depends_build-append port:autoconf
}   
