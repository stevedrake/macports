# $Id$

PortSystem 1.0

name		popt
version		1.13
categories	devel
maintainers	n3npq@mac.com
description	A getopt(3) like library with a number of enhancements

long_description popt is a command line parsing library. It contains a number of \
enhancements over getopt(3), including being fully reentrant, allowing users to \
alias command line arguments, providing convience functions for parsing strings \
into argv[] style arrays and popt can parse arbitrary argv[] style arrays.

platforms	darwin freebsd

homepage	http://rpm5.org/
master_sites	${homepage}files/popt/

depends_lib	port:gettext \
		port:libiconv

post-destroot {
    if {[file exists ${destroot}${prefix}/share/locale/locale.alias]} {
        delete ${destroot}${prefix}/share/locale/locale.alias
    }

    if {[file exists ${destroot}${prefix}/lib/charset.alias]} {
        delete ${destroot}${prefix}/lib/charset.alias
    }

	set docdir ${prefix}/share/doc/${name}-${version}
	xinstall -d ${destroot}${docdir}
	xinstall -m 0644 -W ${worksrcpath} ABOUT-NLS CHANGES COPYING README \
		${destroot}${docdir}
}

test.run    yes
test.target check

checksums       md5 b5c47ce0185c83f947953c77000533bf \
                sha1 658bf2d2ec25e97816f5920bb24048cf252d053a \
                rmd160 bcf9d493be05c909609d98f504b77268aadadff1

platform darwin 7 {
        depends_build-append port:autoconf
}

livecheck.check regex
livecheck.url   ${master_sites}/?C=M&O=D
livecheck.regex ${name}-(\\d+(?:\\.\\d+)*)
