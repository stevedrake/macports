# $Id$

PortSystem 1.0

name		popt
version		1.12
categories	devel
maintainers	n3npq@mac.com
description	A getopt(3) like library with a number of enhancements

long_description popt is a command line parsing library. It contains a number of \
enhancements over getopt(3), including being fully reentrant, allowing users to \
alias command line arguments, providing convience functions for parsing strings \
into argv[] style arrays and popt can parse arbitrary argv[] style arrays.

platforms	darwin freebsd

homepage	http://rpm5.org/
master_sites	${homepage}files/popt/

depends_lib	port:gettext \
		port:libiconv

post-destroot {
	file delete -force ${destroot}${prefix}/share/locale/locale.alias
	file delete -force ${destroot}${prefix}/lib/charset.alias

	set docdir ${prefix}/share/doc/${name}-${version}
	xinstall -d ${destroot}${docdir}
	xinstall -m 0644 -W ${worksrcpath} ABOUT-NLS CHANGES COPYING README \
		${destroot}${docdir}
}

test.run    yes
test.target check

checksums   md5 f45290e9ac4b1cf209d0042eb6755543 \
            sha1 113669bd952913307044ed67d8120a2d3e05626b \
            rmd160 95bd1960fd896df8f521fff2ea4c8570b2984eec

platform darwin 7 {
        depends_build-append port:autoconf
}

livecheck.check regex
livecheck.url   ${master_sites}/?C=M&O=D
livecheck.regex ${name}-(\\d+(?:\\.\\d+)*)

