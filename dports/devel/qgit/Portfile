# $Id$

PortSystem          1.0

name                qgit
version             2.1
categories          devel
maintainers         ocroquette@free.fr
description         A graphical interface to git repositories
long_description    A QT graphical interface to git repositories

homepage            http://sourceforge.net/projects/qgit/
platforms           darwin
distname            qgit-${version}

use_bzip2           yes
worksrcdir          qgit

master_sites        sourceforge
checksums           md5 f22787c814fbe832d6da7c6a2436c3c0

depends_lib         port:qt4-mac port:git-core

configure {
    # ui_msg ${worksrcpath}
    system "cd ${worksrcpath} && qmake"
}

destroot {
    # Install to the application directory
    xinstall -m 755 -d ${destroot}/Applications/MacPorts
    file copy ${worksrcpath}/bin/qgit.app \
              ${destroot}/Applications/MacPorts

    # Also copy to /bin for easier access from the command line
    # Especially useful since qgit is supposed to be started from
    # the GIT repository location.
    xinstall ${worksrcpath}/bin/qgit.app/Contents/MacOS/qgit ${destroot}${prefix}/bin
}

