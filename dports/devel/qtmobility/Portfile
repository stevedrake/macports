# -*- coding: utf-8; mode: tcl; c-basic-offset: 4; indent-tabs-mode: nil; tab-width: 4; truncate-lines: t -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id: Portfile 77577 2011-04-04 23:43:11Z michaelld@macports.org $

PortSystem          1.0
PortGroup           qt4 1.0

name                qtmobility
version             1.1.1
revision            0
categories          devel
platforms           darwin
maintainers         sharky openmaintainer
homepage            http://qt.nokia.com/products/qt-addons/mobility/
description         Qt Mobility APIs
long_description    Additional Qt APIs which enable developers to include \
                    standard mobile functionality in their applications and \
                    provide useful application functionality across desktop \
                    platforms.

master_sites        http://get.qt.nokia.com/qt/add-ons/
distname            qt-mobility-opensource-src-${version}
checksums           md5     eb1e89b47b8ff2f831ba718938f7b959 \
                    sha1    8fba3540f09e56a9efd24c799fb1d07c9d953f2a \
                    rmd160  b788e02bf5dbd8bada0fb4e877d0e74a90317f97

# --prefix is not recognized.
configure.pre_args-delete       --prefix=${prefix}

configure.args                                            \
    -prefix          ${qt_dir}                            \
    -bindir          ${qt_bins_dir}                       \
    -libdir          ${qt_libs_dir}                       \
    -headerdir       ${qt_includes_dir}                   \
    -plugindir       ${qt_plugins_dir}                    \
    -examplesdir     ${qt_examples_dir}                   \
    -demosdir        ${qt_demos_dir}

variant debug description {Build both release and debug library} {}

if {[variant_isset debug]} {
    configure.args-append -debug-and-release
} else {
    configure.args-append -release

    # Do not force building debug version of the declarative location plugin.
    patchfiles-append patch-plugins-declarative-location-location.pro.diff
}
