--- src/C++/Makefile.in.orig	2006-09-14 07:53:38.000000000 -0600
+++ src/C++/Makefile.in	2009-12-03 00:01:44.000000000 -0700
@@ -793,20 +793,20 @@
 	rm -f $(top_builddir)/include/quickfix/*.h
 
 install-exec-local: *.h
-	rm -rf $(pkgincludedir)
-	mkdir -p $(pkgincludedir)
-	mkdir $(pkgincludedir)/fix40
-	mkdir $(pkgincludedir)/fix41
-	mkdir $(pkgincludedir)/fix42
-	mkdir $(pkgincludedir)/fix43
-	mkdir $(pkgincludedir)/fix44
-	cp *.h $(pkgincludedir)
-	cp $(top_builddir)/config.h $(pkgincludedir)
-	cp fix40/*.h $(pkgincludedir)/fix40
-	cp fix41/*.h $(pkgincludedir)/fix41
-	cp fix42/*.h $(pkgincludedir)/fix42
-	cp fix43/*.h $(pkgincludedir)/fix43
-	cp fix44/*.h $(pkgincludedir)/fix44
+	rm -rf $(DESTDIR)$(pkgincludedir)
+	mkdir -p $(DESTDIR)$(pkgincludedir)
+	mkdir $(DESTDIR)$(pkgincludedir)/fix40
+	mkdir $(DESTDIR)$(pkgincludedir)/fix41
+	mkdir $(DESTDIR)$(pkgincludedir)/fix42
+	mkdir $(DESTDIR)$(pkgincludedir)/fix43
+	mkdir $(DESTDIR)$(pkgincludedir)/fix44
+	cp *.h $(DESTDIR)$(pkgincludedir)
+	cp $(top_builddir)/config.h $(DESTDIR)$(pkgincludedir)
+	cp fix40/*.h $(DESTDIR)$(pkgincludedir)/fix40
+	cp fix41/*.h $(DESTDIR)$(pkgincludedir)/fix41
+	cp fix42/*.h $(DESTDIR)$(pkgincludedir)/fix42
+	cp fix43/*.h $(DESTDIR)$(pkgincludedir)/fix43
+	cp fix44/*.h $(DESTDIR)$(pkgincludedir)/fix44
 
 uninstall-local:
 	rm -rf $(pkgincludedir)
--- src/python/Makefile.in.orig	2006-09-14 07:53:41.000000000 -0600
+++ src/python/Makefile.in	2009-12-06 18:46:36.000000000 -0700
@@ -516,17 +516,18 @@
 	rm -rf $(top_builddir)/lib/python
 
 install-exec-local:
-	rm -rf $(PYTHON_SITE_PACKAGES)/python/_quickfix.so
-	rm -rf $(PYTHON_SITE_PACKAGES)/python/_quickfix.dylib
-	rm -rf $(PYTHON_SITE_PACKAGES)/python/quickfix.py
-	rm -rf $(PYTHON_SITE_PACKAGES)/python/quickfix40.py
-	rm -rf $(PYTHON_SITE_PACKAGES)/python/quickfix41.py
-	rm -rf $(PYTHON_SITE_PACKAGES)/python/quickfix42.py
-	rm -rf $(PYTHON_SITE_PACKAGES)/python/quickfix43.py
-	rm -rf $(PYTHON_SITE_PACKAGES)/python/quickfix44.py
-	ln -sf $(prefix)/lib/python/_quickfix.so $(PYTHON_SITE_PACKAGES)/_quickfix.so
-	ln -sf $(prefix)/lib/python/_quickfix.dylib $(PYTHON_SITE_PACKAGES)/_quickfix.dylib
-	cp $(top_builddir)/lib/python/*.py $(PYTHON_SITE_PACKAGES)
+	rm -rf $(DESTDIR)$(PYTHON_SITE_PACKAGES)/python/_quickfix.so
+	rm -rf $(DESTDIR)$(PYTHON_SITE_PACKAGES)/python/_quickfix.dylib
+	rm -rf $(DESTDIR)$(PYTHON_SITE_PACKAGES)/python/quickfix.py
+	rm -rf $(DESTDIR)$(PYTHON_SITE_PACKAGES)/python/quickfix40.py
+	rm -rf $(DESTDIR)$(PYTHON_SITE_PACKAGES)/python/quickfix41.py
+	rm -rf $(DESTDIR)$(PYTHON_SITE_PACKAGES)/python/quickfix42.py
+	rm -rf $(DESTDIR)$(PYTHON_SITE_PACKAGES)/python/quickfix43.py
+	rm -rf $(DESTDIR)$(PYTHON_SITE_PACKAGES)/python/quickfix44.py
+	$(mkinstalldirs) $(DESTDIR)$(PYTHON_SITE_PACKAGES)
+	cp $(top_builddir)/lib/python/*.py $(DESTDIR)$(PYTHON_SITE_PACKAGES)
+	cp $(top_builddir)/lib/python/_quickfix.dylib $(DESTDIR)$(PYTHON_SITE_PACKAGES)
+	ln -sf $(PYTHON_SITE_PACKAGES)/_quickfix.dylib $(DESTDIR)$(PYTHON_SITE_PACKAGES)/_quickfix.so
 
 uninstall-local:
 	rm -rf $(PYTHON_SITE_PACKAGES)/_quickfix.so
