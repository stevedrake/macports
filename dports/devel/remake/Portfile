# $Id$

PortSystem      1.0

name            remake
version         3.82-dbg-0.4
categories      devel
platforms       darwin
maintainers     raimue openmaintainer
description     Debugger for GNU Makefiles

long_description \
    remake is a patched and modernized version of GNU make utility that adds \
    improved error reporting, the ability to trace execution in a \
    comprehensible way, and a debugger.
homepage        http://bashdb.sourceforge.net/remake/

master_sites    sourceforge:bashdb
checksums       md5     60b9fc01a5592415f4cf0284c5d55c38 \
                sha1    b7fa7fd7a6fe6e1d9e4d96b344f64063fd75c0bb \
                rmd160  88cb653c0d04231b764310c590669ac43ad567e9
distname        ${name}-[strsed ${version} {s/-/+/}]

depends_lib     port:gettext \
                port:libiconv \
                port:readline

post-destroot {
    # avoid conflict with gmake
    delete ${destroot}${prefix}/share/info/make.info \
        ${destroot}${prefix}/share/info/make.info-1 \
        ${destroot}${prefix}/share/info/make.info-2

    # delete spurious reremake
    delete ${destroot}${prefix}/bin/reremake
}

livecheck.type      regex
livecheck.url       http://sourceforge.net/projects/bashdb/files/remake/
livecheck.version   [strsed ${version} {s/-/+/}]
livecheck.regex     (\\d+(?:\\.\\d+)+\\+dbg-\\d+(?:\\.\\d+)+)
