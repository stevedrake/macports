# $Id$

PortSystem      1.0

name            remake
version         3.81-dbg-0.2
categories      devel
platforms       darwin
maintainers     raimue openmaintainer
description     Debugger for GNU Makefiles

long_description \
    remake is a patched and modernized version of GNU make utility that adds \
    improved error reporting, the ability to trace execution in a \
    comprehensible way, and a debugger.
homepage        http://bashdb.sourceforge.net/remake/

master_sites    sourceforge:bashdb
checksums       md5     5bc189e086f57dc0925fc316e450d362 \
                sha1    7d8c4749f72f91c2c021544df0399b2e832eba9a \
                rmd160  836dfa102ef41a43d22aa713941a3214822c0eb1
distname        ${name}-[strsed ${version} {s/-/+/}]

depends_lib     port:gettext \
                port:libiconv \
                port:readline

post-destroot {
    # Avoid conflict with gmake
    foreach f [glob "${destroot}${prefix}/share/info/make.*"] {
        file delete $f
    }
}

livecheck.type      regex
livecheck.url       http://sourceforge.net/projects/bashdb/files/
livecheck.version   [strsed ${version} {s/-/+/}]
livecheck.regex     ${name}-(\\d+(?:\\.\\d+)+\\+dbg-\\d+(?:\\.\\d+)+)\\.tar
