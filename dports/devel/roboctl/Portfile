# $Id$

PortSystem	1.0

name		roboctl
version		0.3.5
revision	1
categories	devel
platforms	darwin
maintainers	tds.net:jwbacon

description	Communication tools for Lego and VEX robots
long_description	Tools for communicating with and controlling Lego \
			Mindstorms and VEX robotics controllers.

homepage	http://personalpages.tds.net/~jwbacon/Ports
master_sites	http://personalpages.tds.net/~jwbacon/Ports/distfiles/ \
		http://jbacon.dyndns.org/~bacon/Ports/distfiles/
checksums    md5 60dcbaea81d06a632493ff0ddb2e0cdc \
             sha1 7c6c84a6bc7328ca95c07f12702387d404d44db1 \
             rmd160 a188c924bf4ba01049cb2e0eadc91aeb31f47741

use_configure	no

depends_lib	port:libusb-compat

destroot.destdir	PREFIX=${destroot}${prefix}
build.cmd	"make depend && make"
build.args	"LOCALBASE=${prefix} PREFIX=${prefix} MANPREFIX=${prefix}/share"
destroot.args	"MANPREFIX=${prefix}/share"
post-patch {
	reinplace "s|-lbluetooth||g" "${worksrcpath}/Commands/Legoctl/Makefile"
	if {${os.major} >= 9} {
        reinplace "s|echo -e|echo|g" \
            ${worksrcpath}/Commands/Legoctl/Makefile \
            ${worksrcpath}/Commands/Vexctl/Makefile \
            ${worksrcpath}/Libs/C/Makefile
	}
}

use_parallel_build no
