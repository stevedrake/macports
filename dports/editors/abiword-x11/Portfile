# $Id $
PortSystem 1.0
name		abiword-x11
version		2.4.5
description	A word processor with gnome support.
long_description        A word processor with gnome support.
maintainers	macports-dev@lists.macosforge.org
categories	editors textproc gnome
platforms	darwin 
homepage	http://www.abisource.com/
master_sites    http://www.abisource.org/downloads/abiword/${version}/source
checksums	md5 e018669a154164d31c768f773a1c95b4 \
		sha1 bca02a8beb490246f785518fc82c6c557a77a88d \
		rmd160 f0de27f97135f8fff9b4400b05d74a27eee348cd
distname	abiword-${version}
use_bzip2	yes
dist_subdir	abiword
worksrcdir	${distname}/abi
depends_lib	\
	port:gnome-platform-suite \
	port:zlib \
	port:fribidi \
	port:fontconfig \
	port:libgnomeprintui

configure.env \
	CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
	LDFLAGS="-L${prefix}/lib" CFLAGS="-no-cpp-precomp"

configure.args	\
	--disable-Cocoa \
	--disable-Carbon \
	--mandir=${prefix}/share/man \
	--without-epath \
	--enable-gnome
	
build.target	{}

variant without_gnome { 
	configure.args-delete	--enable-gnome
	depends_lib-delete	\
		port:gnome-platform-suite \
		port:libgnomeprintui
}
