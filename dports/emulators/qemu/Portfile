# $Id$

PortSystem 1.0

name                    qemu
version                 0.10.5
categories              emulators
platforms               darwin
maintainers             nomaintainer

description             x86 and PowerPC Emulator
long_description        QEMU is a FAST! processor emulator using dynamic \
                        translation to achieve good emulation speed. It \
                        can emulate a Full PC System and has basic support \
                        for PowerMac Emulation.

homepage                http://www.nongnu.org/qemu/
master_sites            nongnu

checksums               md5     60060feb98c9649a5da8b136685f76ba \
                        sha1    236de8714554d98beb97f3fb34985f709bf7d3be \
                        rmd160  02eec8d3160e80ba9d04e5112977c2242a306a65

patchfiles              patch-configure.diff

configure.args          --cc=${configure.cc}

platform darwin {
    if {[info exists build_arch]} {
        configure.args-append --cpu=${build_arch}
    } elseif {${os.arch} == "powerpc"} {
        configure.args-append --cpu=ppc
    } else {
        configure.args-append --cpu=i386
    }
}

platform macosx {
    configure.args-append --enable-cocoa --target-list=i386-softmmu
}
