# $Id$

PortSystem 1.0

name                    qemu
version                 0.10.5
categories              emulators
platforms               darwin
maintainers             nomaintainer

description             x86 and PowerPC Emulator
long_description        QEMU is a FAST! processor emulator using dynamic \
                        translation to achieve good emulation speed. It \
                        can emulate a Full PC System and has basic support \
                        for PowerMac Emulation.

homepage                http://www.nongnu.org/qemu/
master_sites            nongnu

checksums               md5     60060feb98c9649a5da8b136685f76ba \
                        sha1    236de8714554d98beb97f3fb34985f709bf7d3be \
                        rmd160  02eec8d3160e80ba9d04e5112977c2242a306a65

configure.args          --cc=${configure.cc}

platform macosx {
    configure.args-append --enable-cocoa --target-list=i386-softmmu
}

pre-fetch {
    if {"darwin" == ${os.platform} && ${os.major} < 9} {
        ui_error "${name} ${version} requires Mac OS X 10.5 or greater."
        return -code error "incompatible Mac OS X version"
    }
}
