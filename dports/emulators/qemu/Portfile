# $Id: Portfile,v 1.3 2005/03/11 18:56:43 landonf Exp $

PortSystem 1.0

name			qemu
version			0.6.1
revision		1
homepage		http://bellard.org/qemu

categories		emulators
platforms		darwin
maintainers		pidherbemont@opendarwin.org
description		x86 and PowerPC Emulator

master_sites	http://fabrice.bellard.free.fr/qemu/
checksums		md5 f1b5e103321832d2786dd4110f6c8ae4
depends_lib		lib:libsdl:libsdl
patchfiles		patch-configure.diff

long_description	QEMU is a FAST! processor emulator \
				using dynamic translation to achieve \
				good emulation speed. It can emulate \
				a Full PC System and has basic support \
				for PowerMac Emulation.

variant darwin {
	patchfiles-append patch-Makefile.target patch-vl.c
}

# very pragmatic (ignores CFLAGS)
pre-build	{
	system "cd ${worksrcpath} && ln -sf ${prefix}/include/SDL"
}

destroot.destdir	prefix=${destroot}${prefix}
