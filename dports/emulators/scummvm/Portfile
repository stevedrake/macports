# $Id: Portfile,v 1.3 2004/08/03 22:36:44 mww Exp $

PortSystem 1.0

name		scummvm
version		0.6.1
platforms       darwin
categories	emulators games
maintainers	phw@opendarwin.org
description	cross-platform interpreter for several adventure engines
long_description	ScummVM is a cross-platform interpreter for several \
			point-and-click adventure engines. This includes all \
			SCUMM-based adventures by LucasArts, Simon the \
			Sorcerer by AdventureSoft, and Beneath a Steel Sky and \
			Broken Sword 2 by Revolution

homepage	http://scummvm.org
distfiles	${name}-${version}-src.tar.bz2
master_sites	sourceforge
use_bzip2	yes
checksums	md5 392bf788bb367258e5c34f77eced954d
depends_lib	bin:sdl-config:libsdl \
		lib:libmad:libmad \
		lib:libogg:libogg \
		lib:libvorbis:libvorbis \
		lib:libvorbisfile:libvorbis \
		lib:libmpeg2:libmpeg2

configure.env	LDFLAGS="-L${prefix}/lib" \
		CPPFLAGS="-I${prefix}/include"
configure.pre_args
post-configure	{ reinplace "s|/sw|${prefix}|g" ${worksrcpath}/Makefile }
build.env	${configure.env}
build.target	bundle
destroot	{ 
		xinstall -m 755 -d ${destroot}/Applications/DarwinPorts
		file copy ${worksrcpath}/ScummVM.app \
				${destroot}/Applications/DarwinPorts
		 }
