# $Id $

PortSystem       1.0

name             mochiweb

version          0.0 ; # project hasn't assigned a version yet

categories       erlang devel
maintainers      febeling openmaintainer
description      MochiWeb is an Erlang library for building lightweight HTTP servers.
long_description ${description} It contains a JSON library.
homepage         http://code.google.com/p/mochiweb/
platforms        darwin
use_configure    no
depends_lib      port:erlang
fetch.type       svn
svn.url          http://mochiweb.googlecode.com/svn/trunk/
svn.tag          84
worksrcdir       trunk
build.target     all
destroot {
	set libdir ${destroot}${prefix}/lib/erlang/lib/${name}

	set ebindir ${libdir}/ebin
	xinstall -d -m 0755 ${ebindir}
	eval xinstall -m 0644 [glob ${worksrcpath}/ebin/*.beam] ${ebindir}

	set docdir ${destroot}${prefix}/share/doc/${name}
	xinstall -d -m 0755 ${docdir}
	eval xinstall -m 0644 [glob ${worksrcpath}/doc/*.html] ${docdir}

	xinstall -m 0664 -W ${worksrcpath} \
		LICENSE README \
		${docdir}

 	set scriptsdir ${destroot}${prefix}/share/scripts
 	xinstall -d -m 0755 ${scriptsdir}
 	eval xinstall -m 0644 [glob ${worksrcpath}/scripts/*.erl] ${scriptsdir}
}
