# $Id$

PortSystem 1.0

name                procfs
version             1.5; # taken from MACFUSE_PROCFS_VERSION in procfs.cc
categories          fuse
platforms           darwin
maintainers         eridius@macports.org
description         procfs filesystem for FUSE
long_description    An implementation of a procfs filesystem for MacFUSE

homepage            http://osxbook.com/book/bonus/chapter11/procfs/
master_sites        macports
distname            procfs-${version}
worksrcdir          procfs
checksums           md5 4ec560cb53712ae38b967b5354f01067 \
                    sha1 0147d4cc5af1f06af3e9073dca2ef1633016a90a

use_bzip2           yes

patchfiles          patch-Makefile

livecheck.check     regex
livecheck.url       http://macfuse.googlecode.com/svn/trunk/filesystems/procfs/procfs.cc
livecheck.regex     {#define MACFUSE_PROCFS_VERSION "(.*?)"}

depends_lib         port:libfuse port:pcre

configure {
    reinplace s|@@DESTROOT@@|${destroot}|g ${worksrcpath}/Makefile
    reinplace s|@@PREFIX@@|${prefix}|g ${worksrcpath}/Makefile
}

platform darwin {
    depends_run         port:fusefs
}
