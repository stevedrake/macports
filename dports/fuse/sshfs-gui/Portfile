# $Id$

PortSystem 1.0
PortGroup xcode 1.0

name                sshfs-gui
version             1.0.0
revision            2
set macfuse_version 1.1
categories          fuse
platforms           macosx
maintainers         eridius@macports.org
description         OS X GUI for sshfs
long_description    This is an OS X Cocoa GUI on top of sshfs that \
                    makes it easy to set up new sshfs mounts.

homepage            http://code.google.com/p/macfuse/

master_sites        macports:fusefs
distname            macfuse-${macfuse_version}
dist_subdir         fusefs
checksums           md5 42487d7684b1f9a8eb2f8a61b10f7913 \
                    sha1 6347e5b6b0f810a3e5b0fbc82cbccfdf3f4c6311

worksrcdir          ${distname}/filesystems/sshfs-gui

patchfiles          patch-AppController.m.diff \
                    patch-sshfs.xcodeproj_project.pbxproj.diff

use_bzip2           yes

depends_run         port:sshfs

xcode.target        sshfs
xcode.configuration Release

post-patch {
    reinplace "s|##PREFIX##|${prefix}|" AppController.m
}

post-destroot {
    xinstall -d ${destroot}/Applications/MacPorts
    copy ${worksrcpath}/build/UninstalledProducts/sshfs.app ${destroot}/Applications/MacPorts/sshfs.app
}