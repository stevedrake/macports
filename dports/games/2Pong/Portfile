# $Id$

PortSystem              1.0
PortGroup               app 1.0

name                    2Pong
version                 0.6
revision                2
categories              games
platforms               darwin
maintainers             nomaintainer
license                 GPL-2
installs_libs           no

# Compiles ok for x86_64 but crashes on launch
supported_archs         i386 ppc

description             Pong game with 2 balls, 2 and 4 player support
long_description        ${description}

homepage                http://twopong.sourceforge.net/
master_sites            sourceforge:twopong
checksums               md5 55d54deb30f079d4b2684b7f7c8ab57f
use_bzip2               yes

depends_lib             path:lib/pkgconfig/sdl.pc:libsdl \
                        port:libsdl_image \
                        port:libsdl_mixer

patchfiles              patch-Makefile.diff

use_configure           no

build.args              CC="${configure.cc} [get_canonical_archflags]" \
                        CFLAGS="-I${prefix}/include -I${prefix}/include/SDL"

destroot.destdir        PRE=${destroot}${prefix}

post-destroot {
    reinplace s|${destroot}${prefix}|${prefix}|g ${destroot}${prefix}/bin/2Pong
}

app.icon                Graphics/2pongicon.png

livecheck.version       ${name}-${version}
livecheck.distname      ${name}
