# $Id: Portfile,v 1.10 2005/02/23 12:53:59 mww Exp $

PortSystem 1.0

name			CrimsonFields
version			0.4.5
revision		1
categories		games
platforms		darwin
maintainers		mww@opendarwin.org
description		Tactical war game in the tradition of Battle Isle
long_description	Crimson Fields is a tactical war game in the tradition \
				of Battle Isle, including a map editor and the \
				possibility to import the original History Line or \
				Battle Isle maps.

homepage		http://crimson.seul.org
master_sites	${homepage}/files/
distname		crimson-${version}
checksums		md5 6e7b19859077a996797ac0d997728dcc

use_bzip2		yes

depends_lib		bin:sdl-config:libsdl \
				lib:libSDL_mixer:libsdl_mixer \
				lib:libSDL_ttf:libsdl_ttf \
				lib:libz:zlib

configure.args	--disable-sdltest \
				--mandir=${prefix}/share/man \
				--enable-cfed \
				--enable-comet

post-destroot {
	file delete -force ${destroot}${prefix}/share/pixmaps
}

variant darwin {
	pre-destroot {
		xinstall -d -m 755 ${destroot}/Applications/DarwinPorts/CrimsonFields.app/Contents/MacOS
		system "ln -s ${prefix}/bin/crimson \
			${destroot}/Applications/DarwinPorts/CrimsonFields.app/Contents/MacOS/CrimsonFields"
	}
}
