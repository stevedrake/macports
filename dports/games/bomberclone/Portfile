# $Id: Portfile,v 1.5 2004/06/16 11:49:32 mww Exp $

PortSystem 1.0

name		bomberclone
version		0.11.3
categories	games
platforms	darwin
maintainers	mww@opendarwin.org
description	AtomicBomberman clone incl. networking and AI players
long_description	Bomberclone is a clone of AtomicBomberman. It includes \
			AI players, network play via master/client, \
			configureable tile sets, etc.

homepage	http://www.bomberclone.de/
master_sites	sourceforge
checksums	md5 3eb46856d5d6a43fe564903e87485c58
use_bzip2	yes

depends_lib	bin:sdl-config:libsdl \
		lib:libSDL_mixer:libsdl_mixer \
		lib:libSDL_image:libsdl_image

configure.args	--disable-sdltest

post-configure	{
	reinplace "s|/doc/bomberclone|/share/doc/bomberclone|g" \
		${worksrcpath}/Makefile
}

pre-destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/games
}

variant darwin  {
	post-destroot   {
		xinstall -m 755 -d \
			${destroot}/Applications/DarwinPorts/Bomberclone.app/Contents/MacOS
		system "ln -s ${prefix}/bin/bomberclone \
			${destroot}/Applications/DarwinPorts/Bomberclone.app/Contents/MacOS/Bomberclone"
	}
}
