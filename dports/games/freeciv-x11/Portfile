# $Id$

PortSystem          1.0

name                freeciv-x11
version             2.3.0
set branch          [join [lrange [split ${version} .] 0 1] .]
categories          games
maintainers         nomaintainer
description         A civilisation clone for X11 (with sound support)
long_description \
   Freeciv is a Free and Open Source empire-building strategy game \
   inspired by the history of human civilization. The game commences in \
   prehistory and your mission is to lead your tribe from the stone age \
   to the space age...

platforms           darwin

homepage            http://www.freeciv.org/
master_sites        sourceforge:project/freeciv/Freeciv%20${branch}/${version}/ \
                    ftp://ftp.freeciv.org/freeciv/stable/
distname            freeciv-${version}
dist_subdir         freeciv
use_bzip2           yes

checksums           rmd160  1f017139c5ac4c24d1b4b6767aca84e18b9db31b \
                    sha256  f380f7f89a3478e8b2a68033b37325539248618508d94edf55b84e5e979fbefa

conflicts           freeciv

depends_build       port:pkgconfig
depends_lib         port:gettext port:libiconv port:readline port:gtk2 \
                    port:zlib port:libsdl_mixer

patchfiles          patch-client-options.c.diff

configure.args      --enable-client=gtk2 --with-readline \
                    --enable-nls --with-libiconv-prefix=${prefix} \
                    --mandir=${prefix}/share/man --with-sdl-prefix=${prefix} \
                    --disable-gtktest --disable-sdltest

livecheck.type      regex
livecheck.url       ${homepage}
livecheck.regex     freeciv-(\[0-9\.\]+).tar.bz2
