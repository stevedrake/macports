# $Id: Portfile,v 1.1 2005/12/31 00:44:38 mww Exp $

PortSystem 1.0

name			glob2
version			0.8.17
categories		games
platforms		darwin
maintainers		mww@opendarwin.org
description		Globulation 2 - a free and innovative strategy game
long_description	Globulation 2 is an innovative high quality Real-Time \
				Strategy, which minimizes micro-management by automatically \
				assigning tasks to the units. The player has to choose the \
				number of units he wants for the different tasks, and the \
				units will do their best to satisfy the requests. This allows \
				to manage more units and to focus on the strategy. It can be \
				played alone, through your Local Area Network, or through \
				Internet thanks to Ysagoon Online Game, a meta-server. It also \
				features a scripting language for versatile gameplay or \
				tutorials and an integrated map editor.

homepage		http://www.ysagoon.com/glob2/
master_sites	http://epfl.ysagoon.com/~glob2/data/ freebsd
checksums		md5 a02ccdfdee0e4a550487fc4cf22a9480

depends_lib		port:freetype port:libsdl port:libsdl_image port:libsdl_net \
				port:libvorbis port:speex port:zlib

configure.env	CFLAGS=-I${prefix}/include CPPFLAGS=-I${prefix}/include \
				LDFLAGS=-L${prefix}/lib

platform darwin 8 {
	configure.env-append CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}

platform macosx {
	pre-destroot {
		set dest /Applications/DarwinPorts/Globulation2.app/Contents/MacOS
		xinstall -m 755 -d ${destroot}${dest}
		system "ln -sf ${prefix}/bin/glob2 ${destroot}${dest}/Globulation2
	}
}

