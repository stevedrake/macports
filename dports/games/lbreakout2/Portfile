# $Id: Portfile,v 1.8 2004/09/28 16:03:57 mww Exp $

PortSystem 1.0

name			lbreakout2
version			2.5.1
categories		games
platforms		darwin
maintainers		mww@opendarwin.org
description		Breakout clone, that won the No Starch Press SDL Game Contest.
long_description	The successor to LBreakout offers you a new challenge \
				in more than 50 levels with loads of new bonuses \
				(goldshower, joker, explosive balls, bonus magnet \
				...), maluses (chaos, darkness, weak balls, malus \
				magnet ...) and special bricks (growing bricks, \
				explosive bricks, regenerative bricks ...). If you \
				are still hungry for more after that you can create \
				your own levelsets with the integrated level editor. \
				This game won the No Starch Press SDL Game Contest.

homepage		http://lgames.sourceforge.net/index.php?project=LBreakout2
master_sites	sourceforge:lgames
checksums		md5 48dbb22cae6d5012827188fafc51963b

depends_lib		lib:libsdl:libsdl \
				lib:libsdl_mixer:libsdl_mixer \
				lib:libpng:libpng \
				lib:libsdl_net:libsdl_net

configure.env	CFLAGS=-I${prefix}/include \
				LDFLAGS=-L${prefix}/lib
configure.args	--enable-warp \
				--disable-sdltest \
				--with-highscore-path=${prefix}/var/lib/games/

destroot.destdir	DESTDIR=${destroot} doc_dir=${prefix}/share/doc

variant darwin  {
	post-destroot   {
		file mkdir ${destroot}/Applications/DarwinPorts/LBreakout2.app/Contents/MacOS
		system "ln -s ${prefix}/bin/lbreakout2 \
			${destroot}/Applications/DarwinPorts/LBreakout2.app/Contents/MacOS/LBreakout2"
	}
}
