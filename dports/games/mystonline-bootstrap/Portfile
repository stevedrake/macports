# $Id$

PortSystem                  1.0

name                        mystonline-bootstrap
set my_name                 mystonline
version                     2010
platforms                   darwin
categories                  games x11
maintainers                 ryandesign
homepage                    http://mystonline.com/
dist_subdir                 ${my_name}
master_sites                http://www.ryandesign.com/macports/distfiles/${dist_subdir}
use_zip                     yes
set launcher_exe            UruLauncher.exe
set launcher_version        1.887
distname                    ${launcher_exe}-${launcher_version}
extract.mkdir               yes

description                 Myst Online: URU Live Again

long_description            ${description} (MO:ULagain) bootstrap files for \
                            use with the Wine or Cider version

checksums                   md5     155c636f2b15c117b1704fc5daa4995f \
                            sha1    91f1b2f3af4e9e9f7e88cff434964f402bd5b808 \
                            rmd160  d8f5b04ff8f818d1557c0ba48c73a83259ed10b8

set share_dir               ${prefix}/share/${my_name}
set bootstrap_dir           ${share_dir}/bootstrap
set assets_dir              ${share_dir}/data

use_configure               no

build {}

destroot.keepdirs ${destroot}${assets_dir}
destroot {
    xinstall -d ${destroot}${bootstrap_dir}
    xinstall -m 644 -W ${worksrcpath} ${launcher_exe} ${destroot}${bootstrap_dir}
}

post-activate {
    if {[file exists ${assets_dir}/${launcher_exe}]} {
        ui_debug "${launcher_exe} already exists in ${assets_dir}; ok"
    } else {
        ui_debug "Copying ${launcher_exe} to ${assets_dir}"
        copy ${bootstrap_dir}/${launcher_exe} ${assets_dir}
    }
}

universal_variant           no

livecheck.type              none
