# $Id: Portfile,v 1.8 2005/06/08 13:27:22 mww Exp $

PortSystem 1.0

name		wesnoth
version		0.9.2
categories	games
platforms	darwin
maintainers	phw@opendarwin.org
description	A fantasy turn-based strategy game
long_description	Battle for Wesnoth is a fantasy turn-based strategy \
			game. Battle for control of villages, using variety of \
			units which have advantages and disadvantages in \
			different types of terrains and against different \
			types of attacks. Units gain experience and advance \
			levels, and are carried over from one scenario to the \
			next campaign.
checksums	md5 0158b7733373b1a25ed1da6bf1d32899
homepage	http://www.wesnoth.org
master_sites	${homepage}/files/
depends_lib	bin:sdl-config:libsdl \
		lib:libSDL_image:libsdl_image \
		lib:libSDL_mixer:libsdl_mixer \
		lib:libSDL_ttf:libsdl_ttf \
		lib:libSDL_net:libsdl_net

configure.env	CFLAGS=-I${prefix}/include \
				LDFLAGS=-L${prefix}/lib
configure.args	--mandir=${prefix}/share/man \
				--disable-sdltest \
				--disable-server

variant darwin	{
	pre-destroot	{
		file mkdir ${destroot}/Applications/DarwinPorts/Wesnoth.app/Contents/MacOS
		system "ln -s ${prefix}/bin/wesnoth \
			${destroot}/Applications/DarwinPorts/Wesnoth.app/Contents/MacOS/Wesnoth"
	}
}
