# $Id: Portfile,v 1.1 2004/04/15 19:58:58 mww Exp $

PortSystem 1.0

name		xdigger
version		1.0.10
categories	games x11
platforms	darwin
maintainers	mww@opendarwin.org
description	The original KC85 - Digger rewritten for X11.
long_description	The original KC85 - Digger rewritten for X11. Like \
			Boulderdash (without scrolling).

homepage	http://www.ibiblio.org/pub/Linux/games/arcade/
master_sites	${homepage}
extract.suffix	.tgz
checksums	md5 74959b5c3f0ba47d1f25f515438c86ab
patchfiles	patch-configure.h.diff \
		patch-drawpixmaps.c.patch

depends_lib	lib:libX11.6:XFree86

post-patch	{
	reinplace "s|__PREFIX__|${prefix}|g" ${worksrcpath}/configure.h
}

configure.cmd	xmkmf
configure.pre_args

destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/xdigger/
	xinstall -m 755 -s ${worksrcpath}/xdigger ${destroot}${prefix}/bin/
	xinstall -m 644 ${worksrcpath}/xdigger.level \
		${destroot}${prefix}/share/xdigger/xdigger.level
	xinstall -m 644 ${worksrcpath}/xdigger.man \
		${destroot}${prefix}/share/man/man1/digger.1
}
