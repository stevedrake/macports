# $Id: Portfile,v 1.5 2005/02/16 05:22:51 toby Exp $

PortSystem	1.0
name		lifelines
version		3.0.39
revision	1
categories	genealogy
maintainers	brent@nordist.net
description	Genealogy software
homepage	http://${name}.sourceforge.net/
platforms	darwin

long_description \
	LifeLines is second generation, open source genealogy software. \
	It provides GEDCOM interoperability and powerful scripting, with \
	a curses-based UI.

master_sites			sourceforge

checksums	md5 882992c38d4beda936bb2ce37880309a

depends_lib	lib:libiconv.2:libiconv lib:libintl.3:gettext

patchfiles	patch-reports-Makefile.in

configure.args	--with-libintl-prefix=${prefix} \
		--with-libiconv-prefix=${prefix} \
		--without-included-gettext

post-destroot {
	system "install ${worksrcpath}/docs/btedit.1 ${destroot}${prefix}/share/man/man1/btedit.1"
	system "rm ${destroot}${prefix}/share/doc/${name}/btedit.1"
	system "install ${worksrcpath}/docs/dbverify.1 ${destroot}${prefix}/share/man/man1/dbverify.1"
	system "rm ${destroot}${prefix}/share/doc/${name}/dbverify.1"
	system "install ${worksrcpath}/docs/llines.1 ${destroot}${prefix}/share/man/man1/llines.1"
	system "rm ${destroot}${prefix}/share/doc/${name}/llines.1"
	system "install -d ${destroot}${prefix}/share/${name}/st"
	system "mv ${destroot}${prefix}/share/${name}/st_*.ll ${destroot}${prefix}/share/${name}/st"
	system "install ${worksrcpath}/reports/CREDIT ${destroot}${prefix}/share/${name}"
	system "install ${worksrcpath}/reports/README ${destroot}${prefix}/share/${name}"
	system "install ${worksrcpath}/reports/tree.tex ${destroot}${prefix}/share/${name}"
	system "rm ${destroot}${prefix}/share/${name}/ll-*.html"
	system "rm ${destroot}${prefix}/share/${name}/ll-*.pdf"
	system "rm ${destroot}${prefix}/share/${name}/ll-*.txt"
	system "rm ${destroot}${prefix}/share/${name}/listops.jpg"
}
