# -*- coding: utf-8; mode: tcl; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=2:ts=2:sts=2
# $Id$

PortSystem							1.0
PortGroup               cmake 1.0

name										cgal
version									3.6.1
revision                2
license									LGPL - QPL
categories							gis science
maintainers							vince
description							Computational Geometry Algorithm Library
long_description				\
												The goal of the CGAL is to provide easy access to\
												efficient and reliable geometric algorithms in the\
												form of a C++ library. CGAL is used in various areas\
												needing geometric computation, such as: computer\
												graphics, scientific visualization, computer aided\
												design and modeling, geographic information systems,\
												molecular biology, medical imaging, robotics and\
												motion planning, mesh generation, numerical methods...

platforms								darwin
homepage								http://www.cgal.org/

fetch.ignore_sslcert 		yes
master_sites						https://gforge.inria.fr/frs/download.php/27222/

distname                CGAL-${version}
checksums               md5     c84e11327bbdd8d83e2abd17c5293b5b \
                        sha1    5e38aba6b01f56faf03868f8e93f14004bd340f9 \
                        rmd160  a856ef1db560c68fec81a34bc64164331c603738

depends_lib-append			port:boost \
												port:mpfr \
                        port:zlib \
                        port:gmp

variant demos description {Create demos} {
  PortGroup             qt4 1.0

	depends_lib-append		port:libQGLViewer \
                        port:ipe

	configure.args-append	-DWITH_examples=TRUE
	configure.args-append	-DWITH_demos=TRUE

  # MacPorts installs IPE version 7; make sure to use it.
  configure.args-append -DWITH_IPE_7=TRUE

  # include Qt's CMake defines, just in case
  configure.args-append ${qt_cmake_defines}

  build.target-append   examples demos
  use_parallel_build    no

  post-destroot {       xinstall -d ${destroot}${prefix}/share/${name}
                        copy ${worksrcpath}/demo ${destroot}${prefix}/share/${name}
                        copy ${worksrcpath}/examples ${destroot}${prefix}/share/${name}
  }
}
