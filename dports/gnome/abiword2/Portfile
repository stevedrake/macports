# $Id: Portfile,v 1.20 2006/05/28 19:08:15 rhwood Exp $
PortSystem 1.0
name		abiword2
version		2.4.4
description	A word processor with gnome support.
long_description        A word processor with gnome support.
maintainers	gnome-darwinports@opendarwin.org
categories	gnome editors textproc
platforms	darwin 
homepage	http://www.abisource.com/
master_sites    http://www.abisource.org/downloads/abiword/${version}/source
checksums	md5 69dd69179b861a41613291afd10af9ab \
			sha1 e2afde95a408f011a1877bc6647799777845dd18 \
			rmd160 5fad618b07b13a543f55321dd3e8114105cefd5d
distname	abiword-${version}
use_bzip2	yes
worksrcdir	${distname}/abi
depends_lib	\
	port:gnome-platform-suite \
	port:zlib \
	port:fribidi \
	port:fontconfig \
	port:libgnomeprintui

configure.env \
	CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
	LDFLAGS="-L${prefix}/lib" CFLAGS="-no-cpp-precomp"

configure.args	\
	--disable-Cocoa \
	--disable-Carbon \
	--mandir=${prefix}/share/man \
	--without-epath \
	--enable-gnome
	
build.target	{}

variant without_gnome { 
	configure.args-delete	--enable-gnome
	depends_lib-delete	\
		port:gnome-platform-suite \
		port:libgnomeprintui
}
