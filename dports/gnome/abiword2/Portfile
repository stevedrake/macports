# $Id: Portfile,v 1.19 2006/01/21 21:15:35 rhwood Exp $
PortSystem 1.0
name		abiword2
version		2.4.2
description	A word processor with gnome support.
long_description        A word processor with gnome support.
maintainers	gnome-darwinports@opendarwin.org rhwood@opendarwin.org
categories	gnome editors textproc
platforms	darwin 
homepage	http://www.abisource.com/
master_sites    http://www.abisource.org/downloads/abiword/${version}/source
checksums	md5 935f1218eab7ff96b7a23cfeba4e76d1 \
			sha1 a28b3a355d265223a651a43d51d550a7b97efe0a \
			rmd160 1b30dd7da238bd282abcce814a0b4d7c93e17199
distname	abiword-${version}
use_bzip2	yes
worksrcdir	${distname}/abi
depends_lib	port:gnome-platform-suite \
		lib:libz.1:zlib \
		lib:libfribidi:fribidi \
		lib:libfontconfig.1.0.4:fontconfig \
		lib:libgnomeprintui-2:libgnomeprintui
configure.env	CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
		LDFLAGS="-L${prefix}/lib" CFLAGS="-no-cpp-precomp"
configure.args	--disable-Cocoa --disable-Carbon --mandir=${prefix}/share/man \
		--without-epath --enable-gnome
build.target	{}
variant without-gnome { 
		configure.args-delete   --enable-gnome
                depends_lib-delete	port:gnome-platform-suite lib:libgnomeprintui-2:libgnomeprintui
}
