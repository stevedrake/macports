# $Id$

PortSystem 1.0

name		at-spi
version		1.22.1
description	Gnome Accesibility Technology Service
long_description	'at-spi' is a part of the Gnome Accessibility Project. \
		It provides a Service Provider Interface for the Assistive \
		Technologies available on the GNOME platform, and a library \
		against which applications can be linked.
maintainers	nomaintainer
categories	gnome
platforms	darwin
homepage	http://www.gnome.org/
master_sites    gnome:sources/at-spi/[strsed ${version} {/\.[0-9]*$//}]/

checksums	md5 2ee1b35ef25e753e6bac840a418608f5 \
		sha1 b7dca093dbe9617e65a0c44ec0e255700a2ab048 \
		rmd160 8452186d902090e01a65cd365ac11ceecacb485b

depends_build	\
	port:p5-xml-parser \
	port:pkgconfig
depends_lib	\
	port:atk \
	port:gtk2 \
	port:libbonobo \
	port:gail

use_bzip2 	yes

configure.args	--enable-static --enable-platform-gnome-2 --disable-xevie

configure.env   PYTHON=${prefix}/bin/python2.5

# --with-x is the default state for the configure file
variant x11	{
	configure.args-append	--with-x
	configure.cflags-append	-I${x11prefix}/include
}

# currently does not work, see http://bugzilla.gnome.org/show_bug.cgi?id=500838
variant quartz	{
	configure.args-append	--without-x
}
