# $Id$

PortSystem 1.0

name		eel
version		2.20.0
revision	1
description	Generally useful classes and extensions to GNOME
long_description        The eel library contains a number of generally \
			useful classes and functions. Many of them are \
			extensions to things in glib, gtk, gnome-libs, \
			and other widely-used GNOME platform libraries. \
			The long term plan is to move much of this into \
			the platform libraries themselves.
maintainers	nomaintainer
categories	gnome
platforms	darwin
homepage	http://www.gnome.org/
master_sites    gnome:sources/eel/[join [lrange [split ${version} .] 0 1] .]/
checksums	md5 691734dc1078e05e726b4f5b8646dadf \
		sha1 642348e57d02aba46a8f84240745b91577f3e4aa \
		rmd160 1b608e17b60f7949eb8b6ad8f77b9c7f73d93f5e

depends_lib \
	port:Xft2 lib:libcairo:cairo lib:libexpat:expat port:fontconfig \
	port:freetype lib:libjpeg:jpeg lib:libiconv:libiconv lib:libpng:libpng \
	port:p5-xml-parser bin:perl:perl5.8 port:xrender port:zlib \
	lib:libtiff:tiff port:popt port:startup-notification port:pkgconfig \
	port:pango port:libxml2 port:libxslt bin:orbit-idl-2:orbit2 \
	port:esound port:audiofile port:glib2 port:gettext port:atk port:gconf \
	port:gnome-doc-utils port:gnome-keyring port:gnome-vfs port:gnome-vfs \
	port:gtk2 port:libart_lgpl port:libbonobo port:libbonoboui \
	port:libgnome port:libgnomecanvas port:libgnomeui port:gail \
	port:gnome-desktop port:gnome-menus port:libglade2 port:render \
	port:dbus \
	port:dbus-glib

use_bzip2 	yes

post-patch {
	reinplace -E "/DISABLE_DEPRECATED/d" \
	    "${worksrcpath}/eel/Makefile.am" \
	    "${worksrcpath}/eel/Makefile.in" \
	    "${worksrcpath}/test/Makefile.am" \
	    "${worksrcpath}/test/Makefile.in"
}

configure.args  --mandir=${prefix}/share/man --enable-static=no
configure.cppflags-append "-L${prefix}/lib"
