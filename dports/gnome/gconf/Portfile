# $Id: Portfile,v 1.16 2004/04/09 16:38:40 olegb Exp $
PortSystem 1.0
name		gconf
version		2.6.0
description	GConf is a configuration database system.	
long_description        GConf is a configuration database system, \
			functionally similar to the Windows registry \
			but lots better. :-) It's being written for \
			the GNOME desktop but does not require GNOME.
maintainers	gnome-darwinports@opendarwin.org
categories	gnome
platforms	darwin 
homepage	http://www.gnome.org/projects/gconf/
distname        GConf-${version}
master_sites	gnome:sources/GConf/2.6/
checksums	md5 241ca25941e5bfa0f71725c30e17ab6e
depends_lib	lib:libgtk2:gtk2 lib:libbonobo:libbonobo lib:libpng:libpng
use_bzip2 	yes
configure.args	--mandir=${prefix}/share/man
configure.env   CPPFLAGS="-I${prefix}/include -L${prefix}/lib" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress" \
		PKG_CONFIG_PATH="${prefix}/lib/pkgconfig:/usr/lib/pkgconfig"
pre-destroot	{
		system "install -m 0755 -d ${destroot}/${prefix}/etc/gconf/gconf.xml.mandatory"
		system "touch ${destroot}/${prefix}/etc/gconf/gconf.xml.mandatory/.turd"
		system "install -m 0755 -d ${destroot}/${prefix}/etc/gconf/gconf.xml.defaults"
		system "touch ${destroot}/${prefix}/etc/gconf/gconf.xml.defaults/.turd"
		}
platform darwin 7 { configure.env-append       CFLAGS="-DBIND_8_COMPAT=1" }

