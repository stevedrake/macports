# $Id$
PortSystem 1.0
name		gconf
version		2.18.0.1
description	GConf is a configuration database system.	
long_description        GConf is a configuration database system, \
			functionally similar to the Windows registry \
			but lots better. :-) It's being written for \
			the GNOME desktop but does not require GNOME.
maintainers	rhwood@macports.org openmaintainer@macports.org
categories	gnome
platforms	darwin 
homepage	http://www.gnome.org/projects/gconf/
distname        GConf-${version}
master_sites	gnome:sources/GConf/2.18
checksums	md5 aa0e0a0729fb021bab72b4166fd392f9 \
		sha1 6bbceafc636457ec14ec2d7b4358235ff6cf08d3 \
		rmd160 79bad5a19404277abfbd7f17b61e09274dcc1aa3

depends_lib	\
		port:gtk2 \
		port:libbonobo \
		port:orbit2

use_bzip2 	yes

configure.args	--mandir=${prefix}/share/man
configure.env   CPPFLAGS="-I${prefix}/include -L${prefix}/lib" 

pre-destroot {
	destroot.keepdirs ${destroot}/${prefix}/etc/gconf/gconf.xml.mandatory ${destroot}/${prefix}/etc/gconf/gconf.xml.defaults
}

platform darwin 7 { configure.env-append       CFLAGS="-DBIND_8_COMPAT=1" }

variant use-sys-deps {
	depends_lib \
		lib:libgtk2:gtk2 \
		lib:libbonobo:libbonobo \
		lib:libORBit-2:orbit2
}
