# $Id: Portfile,v 1.14 2006/08/05 18:35:21 rhwood Exp $
PortSystem 1.0
name		gedit
version		2.14.4
description	GNOME editor.
long_description        ${description}
maintainers	macports-dev@lists.macosforge.org rhwood@macports.org
categories	editors
platforms	darwin 
homepage	http://www.gnome.org/projects/gedit/
master_sites    gnome:sources/${name}/2.14/
checksums	sha1 bdd5ef15d7eb6e0dedc06bb9b823e8b7920e50f0
depends_lib	\
	port:gtksourceview \
	port:eel \
	port:gtkspell2
depends_build	\
	port:scrollkeeper
use_bzip2 	yes
configure.args  --mandir=${prefix}/share/man \
		--disable-scrollkeeper
configure.env   CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress -L${prefix}/lib"

post-destroot	{
	file delete -force ${destroot}${prefix}/var/scrollkeeper
}

post-activate	{
	system "scrollkeeper-update"
}

variant	use_system_dependencies {
	depends_lib \
		lib:libgtksourceview-1:gtksourceview \
		lib:eel-2:eel
		port:gtkspell2
	depends_build \
		port:scrollkeeper
}
