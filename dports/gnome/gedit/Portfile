# $Id$
PortSystem 1.0
name		gedit
version		2.16.0
description	GNOME editor.
long_description        ${description}
maintainers	rhwood@macports.org openmaintainer@macports.org
categories	editors
platforms	darwin 
homepage	http://www.gnome.org/projects/gedit/
master_sites    gnome:sources/${name}/2.16/
checksums	sha1 23ba3c26d3da016d01483181a1a6659e5331fb63
depends_lib	\
	port:gtksourceview \
	port:eel \
	port:gtkspell2
depends_build	\
	port:scrollkeeper
use_bzip2 	yes
configure.args  --mandir=${prefix}/share/man \
		--disable-scrollkeeper
configure.env   CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress -L${prefix}/lib"

post-destroot	{
	file delete -force ${destroot}${prefix}/var/scrollkeeper
}

post-activate	{
	system "scrollkeeper-update"
}

variant	use_system_dependencies {
	depends_lib \
		lib:libgtksourceview-1:gtksourceview \
		lib:eel-2:eel
		port:gtkspell2
	depends_build \
		port:scrollkeeper
}
