# $Id$
PortSystem 1.0
name		gnome-applets
version		2.14.3
description	GNOME panel applets.
long_description        This package contains applets for use with the \
			GNOME panel.  
maintainers	rhwood@macports.org openmaintainer@macports.org
categories	gnome
platforms	darwin 
homepage	http://www.gnome.org/
master_sites    gnome:sources/gnome-applets/2.14/
checksums	md5 ab96f071db993461533cb740281a7373 \
			sha1 b48d12a267ca209a7446e7b9c5e5f1afaf3468dd \
			rmd160 cdeb4ecc9b373e5bacbe2b1840a8d01eb007e9bc

depends_lib \
        lib:libatk-1.0:atk bin:gconftool-2:gconf lib:libgettextlib:gettext \
        lib:libglib-2.0:glib2 lib:libgnomevfs-2:gnome-vfs lib:libgtk-x11-2.0:gtk2 \
        lib:libgnomecanvas-2:libgnomecanvas lib:libart_lgpl_2:libart_lgpl \
        lib:libbonobo-2:libbonobo lib:libbonoboui-2:libbonoboui port:Xft2 \
        lib:libglade-2.0:libglade2 lib:libgnome-2:libgnome lib:libgnomeui-2:libgnomeui \
        bin:orbit-idl-2:orbit2 port:libxml2 port:libxslt bin:perl:perl5.8 \
        lib:libpangoft2-1.0:pango bin:pkg-config:pkgconfig lib:libexpat:expat \
        port:fontconfig port:freetype port:gnome-doc-utils lib:libjpeg:jpeg \
        lib:libiconv:libiconv lib:libpng:libpng lib:libtiff:tiff port:xrender \
        port:audiofile port:esound port:gnome-keyring port:cairo port:zlib \
	port:gail port:gnome-panel port:libwnck port:libxklavier port:p5-xml-parser \
	port:popt port:startup-notification port:libxklavier-2-2

use_bzip2 	yes

patchfiles \
	patch-Makefile.in \
	patch-configure \
	patch-libgweather-weather.c \
	patch-libgweather-weather-met.c

configure.env	GMSGFMT=${prefix}/bin/msgfmt \
		CFLAGS="-I${prefix}/lib/libxklavier-2.2/include -I${prefix}/include -I/usr/include" \
		CPPFLAGS="-L${prefix}/lib/libxklavier-2.2/lib -I${prefix}/lib/libxklavier-2.2/include -I${prefix}/include -I/usr/include" \
		PKG_CONFIG_PATH="${prefix}/lib/libxklavier-2.2/lib/pkgconfig:${prefix}/lib/pkgconfig:${prefix}/share/pkgconfig"

configure.args  --mandir=${prefix}/share/man \
		--with-gstreamer=0.10 \
		--without-hal \
		--disable-weather \
		--disable-scrollkeeper

post-install {
	system "scrollkeeper-update"
}
