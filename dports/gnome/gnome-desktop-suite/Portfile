# $Id$

PortSystem	1.0
name		gnome-desktop-suite
version		2.16.2
revision	1
categories	gnome devel
maintainers	rhwood@macports.org openmaintainer@macports.org
description	The GNOME desktop environment
long_description	The GNOME desktop environment is the set of libraries, applications and services that work as a cohesive integrated user interface produced by the GNOME project. The platform is one of the suites of software packages that form the complete GNOME project offerings.
homepage	http://www.gnome.org/
depends_lib	port:gnome-platform-suite	\
		port:bug-buddy	\
		port:control-center	\
		port:dasher	\
		port:eel	\
		port:eog	\
		port:evince	\
		port:evolution-data-server	\
		port:file-roller	\
		port:gcalctool	\
		port:gconf-editor	\
		port:gdm	\
		port:gedit	\
		port:gnome-user-docs	\
		port:gnome-applets	\
		port:gnome-backgrounds	\
		port:gnome-desktop	\
		port:gnome-doc-utils	\
		port:gnome-games	\
		port:gnome-icon-theme	\
		port:gnome-keyring	\
		port:gnome-keyring-manager	\
		port:gnome-mag	\
		port:gnome-media	\
		port:gnome-menus	\
		port:gnome-panel	\
		port:gnome-session	\
		port:gnome-speech	\
		port:gnome-system-monitor	\
		port:gnome-terminal	\
		port:gnome-themes	\
		port:gnome-utils	\
		port:gnopernicus	\
		port:gst-plugins-good	\
		port:gstreamer	\
		port:gtk-engines2	\
		port:libgtkhtml3	\
		port:gtksourceview	\
		port:gucharmap	\
		port:libgail-gnome	\
		port:libgnomeprint	\
		port:libgnomeprintui	\
		port:libgtop	\
		port:librsvg	\
		port:libsoup	\
		port:libwnck	\
		port:libxklavier	\
		port:metacity	\
		port:nautilus	\
		port:scrollkeeper	\
		port:startup-notification	\
		port:system-tools-backends	\
		port:vino	\
		port:vte	\
		port:yelp	\
		port:zenity \
		port:gnome-audio	\
		port:gnome-python-desktop
distfiles
fetch           { }
checksum        { }
configure       { }
build           { }
destroot        {
	file mkdir ${destroot}${prefix}/share/doc/
	file copy ${filespath}/README.${name}.txt ${destroot}${prefix}/share/doc
}
post-install		{
	set fl [open "| grep -c with_gnome ${prefix}/etc/ports/variants.conf" ]
	set data [read $fl]
	if {[catch {close $fl} err]} {
		file copy ${prefix}/etc/ports/variants.conf ${prefix}/etc/ports/variants.conf.bak
		system "	echo +with_gnome >> ${prefix}/etc/ports/variants.conf"
	}
	ui_msg "To start gnome put \"exec gnome-session\" in your .xinitrc"
	ui_msg "See also http://svn.macosforge.org/projects/macports/wiki/GNOME"
}
