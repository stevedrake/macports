# $Id$

PortSystem 1.0

name		gnome-games
version		2.22.1.1
description	Collection of small but addictive games for GNOME
long_description    ${description}
maintainers	nomaintainer
categories	gnome
platforms	darwin
homepage	http://www.gnome.org/
master_sites    gnome:sources/gnome-games/2.22/
checksums       md5     57500e063a6f26f2fbfd364a68842297 \
                sha1    b10b6a0fd65f6f0bdc354ed6dfc49304da7d78ac \
                rmd160  d2a81fe7c0694aedf8d5dda4abee2667bf49ce81
depends_build	port:gnome-doc-utils
depends_lib	port:libgnomeui \
		port:guile \
		port:librsvg \
		port:gnome-python-desktop \
		port:py25-gtkglext \
		port:gst-plugins-good \
		port:libsdl_mixer \
		port:ggz-client-libs
use_bzip2 	yes
configure.cxx   g++
configure.args  --disable-scrollkeeper
configure.python ${prefix}/bin/python2.5

post-extract {
    reinplace "s|/usr/bin/env python|${prefix}/bin/python2.5|" ${worksrcpath}/glchess/src/glchess.in
    reinplace "s|/usr/bin/env python|${prefix}/bin/python2.5|" ${worksrcpath}/gnome-sudoku/src/gnome-sudoku.in
}

platform darwin 9 {
    configure.ldflags-append "-L/usr/X11/lib -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib"
}
