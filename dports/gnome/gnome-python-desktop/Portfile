# $Id$

PortSystem	1.0
name		gnome-python-desktop
version		2.20.0
revision        2
categories	gnome python
maintainers	nomaintainer
description	Python modules for some GNOME Desktop libraries.
long_description	${description}
homepage	http://www.pygtk.org/
master_sites	gnome:sources/gnome-python-desktop/2.20
checksums	md5 02b177f488091d27bf0648ec4660d8f7
use_bzip2	yes
depends_lib	\
	port:gnome-platform-suite \
	port:py25-gnome \
	port:gtksourceview \
	port:libwnck \
	port:metacity
#patchfiles	\
#	rsvg_rsvg.override.patch \
#	gnomekeyring_gnomekeyring.override.patch
configure.args 	--enable-metacity
configure.python ${prefix}/bin/python2.5

platform darwin 9 { 
    post-patch { 
        reinplace "s| -export-symbols-regex.*||g" \
            ${worksrcpath}/gnomeapplet/Makefile.in \
            ${worksrcpath}/gnomedesktop/Makefile.in \
            ${worksrcpath}/gnomekeyring/Makefile.in \
            ${worksrcpath}/gnomeprint/Makefile.in \
            ${worksrcpath}/gtksourceview/Makefile.in \
            ${worksrcpath}/gtop/Makefile.in \
            ${worksrcpath}/mediaprofiles/Makefile.in \
            ${worksrcpath}/metacity/Makefile.in \
            ${worksrcpath}/nautilusburn/Makefile.in \
            ${worksrcpath}/rsvg/Makefile.in \
            ${worksrcpath}/totem/Makefile.in \
            ${worksrcpath}/wnck/Makefile.in
    }
}
