# $Id$

PortSystem      1.0

name            gnome-sharp2
set my_name     gnome-sharp
version         2.16.0
categories      gnome devel
platforms       darwin
maintainers     nox openmaintainer
description     Gtk bindings for the Mono .NET Development Framework

long_description \
    This is the Gtk# toolkit for Mono, an implementation \
	of the .NET Development Framework.

homepage        http://gtk-sharp.sourceforge.net/
master_sites    http://go-mono.com/sources/${name}/
distname        ${my_name}-${version}

checksums       md5 7cdd61dfc7ae748accbb45cbd6ed4982 \
                sha1 fc1088c9a6e7cc49d3fc7b97e5421eb243233cf0 \
                rmd160 2eeffa73c842561d347c78a7c0326d8ff39eb5a6

patchfiles      patch-gnome-sharp.dll.config.in.diff \
                patch-vte-sharp.dll.config.in.diff

depends_lib     port:mono \
                port:gtk-sharp2 \
                port:libglade2 \
                port:libart_lgpl \
                port:gnome-vfs \
                port:libgnomeprintui \
                port:gnome-panel \
                port:libgtkhtml312 \
                port:librsvg \
                port:vte

post-configure {
    # TODO This shouldn't be needed, we need to fix Mono dllmap library path.
    fs-traverse {f} ${worksrcpath} {
        if {[string match *.dll.config ${f}]} {
            reinplace -E "s|(target=\")|\\1${prefix}/lib/|" ${f}
        }
    }
}

livecheck.check regex
livecheck.url   http://go-mono.com/sources-stable/
livecheck.regex ${my_name}-(\\d+(?:\\.\\d+)*)
