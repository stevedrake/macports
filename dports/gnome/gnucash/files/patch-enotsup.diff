--- src/backend/file/gnc-backend-file.c	2008-09-14 22:55:04.000000000 -0400
+++ src/backend/file/gnc-backend-file.c	2008-09-14 22:56:05.000000000 -0400
@@ -143,16 +143,19 @@ gnc_file_be_get_file_lock (FileBackend *
     rc = link (be->lockfile, pathbuf);
     if (rc)
     {
         /* If hard links aren't supported, just allow the lock. */
         if (errno == EPERM
 # ifdef EOPNOTSUPP
 	    || errno == EOPNOTSUPP
 # endif
+# ifdef ENOTSUP
+	    || errno == ENOTSUP
+# endif
 	    )
         {
             be->linkfile = NULL;
             return TRUE;
         }
 
         /* Otherwise, something else is wrong. */
         qof_backend_set_error ((QofBackend*)be, ERR_BACKEND_LOCKED);
@@ -404,16 +407,19 @@ gnc_int_link_or_make_backup(FileBackend 
       ;
     if(err_ret != 0)
     {
 #ifdef HAVE_LINK
         if(errno == EPERM
 # ifdef EOPNOTSUPP
 	   || errno == EOPNOTSUPP
 # endif
+# ifdef ENOTSUP
+	   || errno == ENOTSUP
+# endif
 # ifdef ENOSYS   // catches http://bugzilla.gnome.org/show_bug.cgi?id=549595
 	   || errno == ENOSYS
 # endif
 	   )
 #endif
         {
             copy_success = copy_file(orig, bkup);
         }
