# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0

name		gnumeric
version		1.8.2
description	A spreadsheet with gnome support.
long_description	${description}
maintainers	nomaintainer
categories	gnome math
platforms	darwin
homepage	http://www.gnome.org/projects/gnumeric/

master_sites    gnome:sources/gnumeric/[strsed ${version} {/\.[0-9]*$//}]/
use_bzip2	yes
checksums	md5 f60edc6ca42daa2fb3717f3c90fa8a6e \
			sha1 1708da12f206fea1dda5c5341dfdd3eb2d1913dd \
			rmd160 fae0899a2369c4c1565a51d30ae2ad32df1ed3fb

depends_lib	port:libgsf \
                port:goffice \
                port:libgnomeprintui \
                port:dbus \
                port:dbus-glib \
                port:py25-gtk
depends_build	port:gnome-doc-utils

configure.args  --disable-scrollkeeper
configure.python ${prefix}/bin/python2.5

patchfiles      patch-plugins-python-loader-gnm-python.c \
                patch-plugins-python-loader-py-gnumeric.c

post-destroot { file delete -force ${destroot}${prefix}/var/scrollkeeper }

post-activate {
	system "scrollkeeper-update"
}
