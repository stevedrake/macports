# $Id$

PortSystem 1.0

name				gramps
version				3.0.3
categories			gnome science python genealogy
platforms			darwin
maintainers			rjt-gramps@thegrindstone.me.uk

description			GRAMPS is a genealogy program

long_description		GRAMPS is a genealogy program to store, edit, \
                                and research genealogical data.  It provides \
                                advanced capabilities for research, analysis, and \
                                correlation to potentially fill relationship gaps. \
				NOTE 1: Some users have experienced problems importing \
				databases from Gramp version 2. It is advised that \
				databases are exported from Gramps version 2 in \
				Gramps XML format before updating to Gramps version 3. \
				The Gramps XML export from version 2 can then be imported \
				into gramps 3 if the automatic database upgrade does not \
				work.\
				NOTE 2: The WriteCD plugin is unavailable. This relies on \
				GNOME and has not been made to work on OS X.

homepage			http://www.gramps-project.org/
master_sites			sourceforge:gramps
checksums                       md5     fd8657124fff8f520c50ce513b2c94c9 \
                                sha1    15e344033bf6015c6714f5c5b13a8e3e96096b80 \
                                rmd160  0fc33fdbb8017174d0bce007b3662fe0c67cd782
                    
patchfiles			patch-configure

configure.args			--disable-mime-install \
				--disable-scrollkeeper
				

configure.env			PYTHON=${prefix}/bin/python2.5 \
				GMSGFMT=${prefix}/bin/msgfmt

depends_lib			bin:update-mime-database:shared-mime-info \
				port:py25-gtk \
				port:py25-gnome \
				port:py25-bsddb \
				port:py25-hashlib \
				port:py25-zlib \
				port:gtkspell2 \
				port:aspell-dict-en \
				port:gnome-python-extras


post-activate {
	system "update-mime-database ${prefix}/share/mime"
	system "scrollkeeper-update"
}

livecheck.regex "<title>Stable (.*) released.*</title>"
