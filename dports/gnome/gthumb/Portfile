# $Id$

PortSystem              1.0

name                    gthumb
version                 2.10.10
description             Image viewer and browser for the gnome desktop.
long_description        ${description}
maintainers             nomaintainer
categories              gnome
platforms               darwin
homepage                http://www.gnome.org/
master_sites            gnome:sources/gthumb/[strsed ${version} {/\.[0-9]*$//}]/
use_bzip2               yes

checksums \
    md5     b3344b31f82830fdcf86865f4ecb7a95 \
    sha1    226f8f413fbe31081f19efad85aee114281de6ec \
    rmd160  aec19b92c6880706beb35eb80dd328c16e2c5258

depends_build \
    port:gnome-doc-utils \
    port:perl5.8 \
    port:pkgconfig

depends_lib \
    port:libgphoto2 \
    port:atk \
    port:audiofile \
    port:avahi \
    port:cairo \
    port:dbus \
    port:dbus-glib \
    port:esound \
    port:expat \
    port:fontconfig \
    port:freetype \
    port:gconf \
    port:gettext \
    path:lib/pkgconfig/glib-2.0.pc:glib2 \
    port:gnome-keyring \
    port:gnome-vfs \
    port:gtk2 \
    port:howl \
    port:jpeg \
    port:libart_lgpl \
    port:libbonobo \
    port:libbonoboui \
    port:libexif \
    port:libglade2 \
    port:libgnome \
    port:libgnomecanvas \
    port:libgnomeui \
    port:libiconv \
    port:libpng \
    port:libxml2 \
    port:libxslt \
    port:openssl \
    port:orbit2 \
    path:lib/pkgconfig/pango.pc:pango \
    port:popt \
    port:xorg-renderproto \
    port:tiff \
    port:xrender \
    port:zlib

configure.args          --disable-scrollkeeper
configure.cflags-append -no-cpp-precomp
configure.cflags-append -flat_namespace
configure.cflags-append "-undefined suppress"

post-activate {
    system "scrollkeeper-update"
    system "gtk-update-icon-cache -f -t ${prefix}/share/icons/hicolor"
}
