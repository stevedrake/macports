# $Id$

PortSystem      1.0

name            gtksourceview-sharp2
set my_name     gtksourceview-sharp-2.0
version         0.11
categories      gnome devel
maintainers     nox
platforms       darwin
description     C# Bindings for GtkSourceView.

long_description \
    ${description}

homepage        http://gtk-sharp.sourceforge.net/
master_sites    http://go-mono.com/sources/${name}/
distname        ${my_name}-${version}
use_bzip2       yes

checksums       md5 a8f56f02378b9b97e927748b099854a7 \
                sha1 e37570df15bb6658c4d7f2bf04295e5a670bcb16 \
                rmd160 f8ec8da286a8f9d3304e1bb09aaf703c7b464455

patchfiles      patch-Makefile.in.diff

depends_build   port:pkgconfig

depends_lib     port:mono \
                port:gtk-sharp2 \
                port:gnome-sharp2 \
                port:gtksourceview

post-configure {
    # TODO This shouldn't be needed, we need to fix Mono dllmap library path.
    fs-traverse {f} ${worksrcpath} {
        if {[string match *.dll.config ${f}]} {
            reinplace -E "s|(target=\")|\\1${prefix}/lib/|" ${f}
        }
    }
}

livecheck.check regex
livecheck.url   http://go-mono.com/sources-stable/
livecheck.regex ${my_name}-(\\d+(?:\\.\\d+)*)
