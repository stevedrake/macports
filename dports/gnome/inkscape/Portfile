# $Id: Portfile,v 1.21 2006/07/23 09:50:53 rhwood Exp $

PortSystem 1.0
name		inkscape
version		0.44
maintainers	macports-dev@lists.macosforge.org
categories	gnome graphics
platforms	darwin 
homepage	http://www.inkscape.org

description	Inkscape is an open source SVG editor.
long_description\
    Inkscape is an open source SVG editor with \
	capabilities similar to Illustrator, CorelDraw, \
	Visio, etc. Supported SVG features include basic \
	shapes, paths, text, alpha blending, transforms, \
	gradients, node editing, svg-to-png export, \
	grouping, and more.

master_sites    sourceforge
use_bzip2       yes
checksums       md5 f0bf316e15ddc6009976d97388522f85

depends_lib	\
		port:libgnomeprintui \
		port:boehmgc \
		port:gtkmm \
		port:gnome-vfs \
		port:libxslt \
		port:loudmouth \
		port:lcms

post-patch {
	reinplace "s|USE_NLS=yes|USE_NLS=no|g" ${worksrcpath}/configure
}

configure.args	\
	--mandir=${prefix}/share/man \
	--with-xft \
	--with-gnome-print \
	--with-gnome-vfs \
	--with-perl \
	--enable-inkboard
configure.env \
	CPPFLAGS="-L${prefix}/lib -I${prefix}/include -no-cpp-precomp" \
	CFLAGS="-flat_namespace -undefined suppress -L${prefix}/lib" \
	LDFLAGS="-L${prefix}/lib"

post-destroot {
	system "strip ${destroot}${prefix}/bin/inkscape"
	system "strip ${destroot}${prefix}/bin/inkview"
}
