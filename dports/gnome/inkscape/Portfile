# $Id$

PortSystem 1.0
name		inkscape
version		0.44.1
maintainers	nomaintainer@macports.org
categories	gnome graphics
platforms	darwin
homepage	http://www.inkscape.org

description	Inkscape is an open source SVG editor.
long_description\
	Inkscape is an open source SVG editor with \
	capabilities similar to Illustrator, CorelDraw, \
	Visio, etc. Supported SVG features include basic \
	shapes, paths, text, alpha blending, transforms, \
	gradients, node editing, svg-to-png export, \
	grouping, and more.

master_sites    sourceforge
# Only a tar.gz is provided for version 0.44.1
#use_bzip2       yes
checksums       md5 ae2929f70403004038963ef2448728f3 \
		sha1 6e55d0cf9f4ef50aaca250de36cde33654fb180a

depends_lib	\
		port:libgnomeprintui \
		port:boehmgc \
		port:gtkmm \
		port:gnome-vfs \
		port:libxslt \
		port:loudmouth \
		port:lcms

post-patch {
	reinplace "s|USE_NLS=yes|USE_NLS=no|g" ${worksrcpath}/configure
}

configure.args	\
	--mandir=${prefix}/share/man \
	--with-xft \
	--with-gnome-print \
	--with-gnome-vfs \
	--with-perl \
	--enable-inkboard
configure.env \
	CPPFLAGS="-L${prefix}/lib -I${prefix}/include -no-cpp-precomp" \
	CFLAGS="-flat_namespace -undefined suppress -L${prefix}/lib" \
	LDFLAGS="-L${prefix}/lib"

post-destroot {
	system "strip ${destroot}${prefix}/bin/inkscape"
	system "strip ${destroot}${prefix}/bin/inkview"
}
