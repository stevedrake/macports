# $Id: Portfile,v 1.10 2006/01/24 00:46:42 rhwood Exp $
PortSystem 1.0
name		libsoup
version		2.2.7
description	Soup is an HTTP library implementation in C.
long_description	Soup is an HTTP library implementation in C.
maintainers	gnome-darwinports@opendarwin.org
categories	gnome
platforms	darwin 
homepage	http://www.gnome.org/
master_sites	gnome:sources/libsoup/2.2/

checksums	md5 fd1d6bf0ec3e57c8a1498b935d13ace4 \
			sha1 a63893a31f7cf7d671e96b60aa232b672c9bd9fe \
			rmd160 fdaaeea65c353101a045e3659d136409b0b17116

depends_lib \
	port:libxml2 port:zlib lib:libglib-2.0:glib2 lib:libgettextlib:gettext \
	lib:libiconv:libiconv

use_bzip2 	yes

configure.args	--mandir=${prefix}/share/man 
configure.env   CPPFLAGS="-I${prefix}/include -L${prefix}/lib" 

platform darwin 6 {
	post-patch {
	        reinplace "s|#include <time.h>|#include <sys/time.h>|g" \
	                ${worksrcpath}/libsoup/soup-dns.c
	}
}
