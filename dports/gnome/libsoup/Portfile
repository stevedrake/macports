# $Id: Portfile,v 1.12 2006/04/29 16:15:45 rhwood Exp $
PortSystem 1.0
name		libsoup
version		2.2.92
description	Soup is an HTTP library implementation in C.
long_description	Soup is an HTTP library implementation in C.
maintainers	gnome-darwinports@opendarwin.org
categories	gnome
platforms	darwin 
homepage	http://www.gnome.org/
master_sites	gnome:sources/libsoup/2.2/

checksums	md5 44803c568d80f0adf3141fa23998ca74 \
			sha1 4b1f392c5b8dcd357ce0688495becdbaa76879a0 \
			rmd160 a892d7673284fb8275cb67eba8a6595ab5ea308f

depends_lib \
	port:libxml2 port:zlib lib:libglib-2.0:glib2 lib:libgettextlib:gettext \
	lib:libiconv:libiconv

use_bzip2 	yes

configure.args	--mandir=${prefix}/share/man 
configure.env   CPPFLAGS="-I${prefix}/include -L${prefix}/lib" 

platform darwin 6 {
	post-patch {
	        reinplace "s|#include <time.h>|#include <sys/time.h>|g" \
	                ${worksrcpath}/libsoup/soup-dns.c
	}
}
