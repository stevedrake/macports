# $Id$
PortSystem 1.0
name		libsoup
version		2.2.100
description	Soup is an HTTP library implementation in C.
long_description	Soup is an HTTP library implementation in C.
maintainers	rhwood@macports.org openmaintainer@macports.org
categories	gnome
platforms	darwin 
homepage	http://www.gnome.org/
master_sites	gnome:sources/libsoup/2.2/

checksums	md5 936e29d705aab0483b9a5b8860f68c13 \
			sha1 d17c08ec3300d357d71758ce43b1ea5422c61d48 \
			rmd160 ed213162c7c672bd0b12f22db810b365ac82be0c

depends_lib \
	port:libxml2 port:zlib lib:libglib-2.0:glib2 lib:libgettextlib:gettext \
	lib:libiconv:libiconv

use_bzip2 	yes

configure.args	--mandir=${prefix}/share/man 
configure.env   CPPFLAGS="-I${prefix}/include -L${prefix}/lib" 

platform darwin 6 {
	post-patch {
	        reinplace "s|#include <time.h>|#include <sys/time.h>|g" \
	                ${worksrcpath}/libsoup/soup-dns.c
	}
}
