# $Id$

PortSystem  1.0
PortGroup   gnustep 1.0

name        TalkSoup
version     1.0alpha
revision    1
platforms   darwin
maintainers yves@macports.org
homepage    http://talksoup.aeruder.net/

description IRC client for GNUstep.
long_description \
    TalkSoup is an IRC client for OS X and any platform supported by GNUstep. \
    It is highly configurable and extensible \
    with a fully-featured plugin system already in place. \
    It has all the features one would expect from a graphical IRC client.

master_sites    sourceforge:talksoup
checksums       md5 8c0970d44441fe7401b92779a461b6f6
use_bzip2       yes

depends_lib-append  port:netclasses

array set gnustep.post_flags {
    TalkSoupBundles "-lobjc -lgnustep-base"
}

post-patch {
    cd ${worksrcpath}
    reinplace "s|__APPLE__|NeXT_Foundation_LIBRARY|g" \
        Output/GNUstepOutput/Misc/NSObjectAdditions.m
    reinplace "s|\$(GNUSTEP_INSTALLATION_DIR)|${destroot}${prefix}/GNUstep/Local|g" \
        InFilters/DCCSupport/GNUmakefile \
		InFilters/Debold/GNUmakefile \
		InFilters/Decolorizer/GNUmakefile \
		InFilters/Dereverse/GNUmakefile \
		InFilters/Deunderline/GNUmakefile \
		InFilters/Emoticon/GNUmakefile \
		InFilters/Highlighting/GNUmakefile \
		InFilters/KeepAlive/GNUmakefile \
		InFilters/Logging/GNUmakefile \
		InFilters/MessageInTab/GNUmakefile \
		InFilters/MessageOutTab/GNUmakefile \
		InFilters/PrivateBeep/GNUmakefile \
		InFilters/Skeleton/GNUmakefile \
		Input/NetclassesInput/GNUmakefile \
		OutFilters/Colorizer/GNUmakefile \
		OutFilters/Piper/GNUmakefile \
		OutFilters/Skeleton/GNUmakefile \
		Output/GNUstepOutput/Controllers/ServerListController.m \
		Output/GNUstepOutput/GNUmakefile
}
