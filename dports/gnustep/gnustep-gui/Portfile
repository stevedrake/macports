# $Id: Portfile,v 1.3 2006/08/06 15:19:32 yves Exp $

PortSystem  1.0
PortGroup   gnustep 1.0

name        gnustep-gui
version     0.10.3
revision    2
platforms   darwin
maintainers yves@opendarwin.org

description  A library of graphical user interface Objective C classes
long_description \
    The GNUstep gui library is a library of graphical user interface classes \
    written completely in the Objective-C language. The classes are based \
    upon the OpenStep specification as release by NeXT Software, Inc.  These \
    classes include graphical objects such as buttons, text fields, popup \
    lists, browser lists, and windows. There are also many associated \
    classes for handling events, colors, fonts, pasteboards and images.

checksums     md5 ce015fcf9c6ff421e723811275f5a5c6
depends_lib   port:aspell port:audiofile port:gnustep-base port:gnutls \
              port:jpeg port:libpng port:libungif port:tiff

# fix for étoilé
patchfiles    patch-GSToolbar.h patch-GSToolbar.m

use_configure   yes
configure.args-append \
                --with-jpeg-library=${prefix}/lib \
                --with-jpeg-include=${prefix}/include

platform darwin {
    array set gnustep.post_flags {
        TextConverters/RTF "-lgnustep-gui"
    }
    depends_lib-delete      port:audiofile
    configure.args-append   --disable-gsnd
}
