# $Id$

PortSystem  1.0
PortGroup   gnustep 1.0

name        gnustep-gui
version     0.11.0
platforms   darwin
maintainers yves@macports.org

description  A library of graphical user interface Objective C classes
long_description \
    The GNUstep gui library is a library of graphical user interface classes \
    written completely in the Objective-C language. The classes are based \
    upon the OpenStep specification as release by NeXT Software, Inc.  These \
    classes include graphical objects such as buttons, text fields, popup \
    lists, browser lists, and windows. There are also many associated \
    classes for handling events, colors, fonts, pasteboards and images.

checksums     md5 7821a516ce5f683885116d78ac09b79e
depends_lib   port:aspell port:audiofile port:gnustep-base port:gnutls \
              port:jpeg port:libpng port:libungif port:tiff

# fix for étoilé
patchfiles    patch-GSToolbar.h patch-GSToolbar.m

use_configure   yes
configure.args-append \
                --with-jpeg-library=${prefix}/lib \
                --with-jpeg-include=${prefix}/include

platform darwin {
    post-patch {
        set chan [open ${worksrcpath}/TextConverters/RTF/GNUmakefile.preamble a]
        puts $chan "RTFConverter_BUNDLE_LIBS += -lgnustep-gui"
        close $chan
    }
    depends_lib-delete      port:audiofile
    configure.args-append   --disable-gsnd
}
