# $Id: Portfile,v 1.1 2006/04/28 21:15:26 yves Exp $

PortSystem  1.0

name            	gnustep-make-docs
version         	1.12.0
categories          gnustep devel
description     	GNUstep makefile documentation
long_description	${description}
platforms       	darwin
maintainers     	yves@opendarwin.org

depends_build       port:gnustep-make \
                    bin:texi2pdf:texinfo \
                    bin:texi2html:texi2html \
                    bin:pdftex:teTeX
 
checksums			md5 1883a6387405e51ff4c384fb5cc547a7
distname            gnustep-make-${version}
worksrcdir          ${distname}/Documentation

patch {
    reinplace "s|FAQ|FAQs|g" \
        ${worksrcpath}/GNUmakefile
    reinplace "s|GNUstep-HOWTO|GS-HOWTO|g" \
        ${worksrcpath}/GNUmakefile
}

use_configure   no
build.type      gnu
build {}

destroot.args       messages=yes
destroot.destdir \
    GNUSTEP_INSTALLATION_DIR=${destroot}${prefix}/GNUstep/System
destroot {
    cd ${worksrcpath} 
    system "\
        . ${prefix}/GNUstep/System/Library/Makefiles/GNUstep.sh \
        && \
        ${destroot.cmd} ${destroot.target} \
            ${destroot.args} ${destroot.destdir}"
}
