# $Id$

PortSystem  1.0
PortGroup   gnustep 1.0

name        gorm
version     1.1.0
platforms   darwin
maintainers yves@macports.org

description  Graphical Object Relationship Modeller
long_description \
    Gorm stands for "Graphical Object Relationship Modeller" \
    and is GNUstep's easy-to-use interface designer.

master_sites  gnustep:dev-apps
checksums     md5 4eef5a043c6c07ca7269add9ee286b38

post-patch {
    cd ${worksrcpath}/Palettes
	set fl [glob */GNUmakefile.preamble]
	foreach i $fl {
		reinplace "s|GNUSTEP_TARGET_OS),mingw32|CC_BUNDLE),yes|g" $i
		reinplace "s|lGormCore|lGormCore -lGormObjCHeaderParser|g" $i
    }
    reinplace "s|-lGormCore||g" \
        ${worksrcpath}/Palettes/2Controls/GNUmakefile.preamble
}

array set gnustep.post_flags {
    GormCore "-lgnustep-base -lgnustep-gui -lGorm -lGormObjCHeaderParser"
    GormPrefs "-lGorm -lGormCore -L../GormObjCHeaderParser/shared_obj -lGormObjCHeaderParser"
}
