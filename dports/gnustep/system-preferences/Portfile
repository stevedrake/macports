# $Id: Portfile,v 1.1 2006/04/30 00:38:30 yves Exp $

PortSystem  1.0
PortGroup   gnustep 1.0

name        system-preferences
version     1.0.1
platforms   darwin
maintainers yves@macports.org
homepage    http://www.gnustep.it/enrico/system-preferences/
description  GNUstep's System Preferences.
long_description \
    System Preferences is a clone of the \
    Apple OS X System Preferences application \
    based on a GNUstep implementation of the \
    PreferencePanes framework.

depends_lib-append   port:PreferencePanes
master_sites  ${homepage}
checksums     md5 e7524b27588b1705d4b6cc1fcdd21f1f

distname      systempreferences-${version}


build {
    ui_debug "${build.cmd} ${build.target} ${build.args}"
    system "\
        . ${prefix}/GNUstep/System/Library/Makefiles/GNUstep.sh \
        && \
        cd ${worksrcpath}/SystemPreferences \
        && \
        ${build.cmd} ${build.target} ${build.args} \
        && \
        cd ${worksrcpath}/Modules \
        && \
        ${build.cmd} ${build.target} ${build.args}"
}

destroot {
    set destroot.destdir \
        GNUSTEP_INSTALLATION_DIR=${destroot}${prefix}/GNUstep/System
    ui_debug "${destroot.cmd} ${destroot.target} \
            ${destroot.args} ${destroot.destdir}"
    system "\
        . ${prefix}/GNUstep/System/Library/Makefiles/GNUstep.sh \
        && \
        cd ${worksrcpath}/SystemPreferences \
        && \
        ${destroot.cmd} ${destroot.target} \
            ${destroot.args} ${destroot.destdir} \
        && \
        cd ${worksrcpath}/Modules \
        && \
        ${destroot.cmd} ${destroot.target} \
            ${destroot.args} ${destroot.destdir}"
}
