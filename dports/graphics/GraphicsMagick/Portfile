# $Id: Portfile,v 1.3 2006/05/05 19:05:20 mww Exp $

PortSystem 1.0

name			GraphicsMagick
version			1.1.7
categories		graphics
platforms		darwin
maintainers		mww@opendarwin.org
description		image processing tools collection
long_description	GraphicsMagick is the swiss army knife of image \
				processing. It provides a robust collection of tools and \
				libraries which support reading, writing, and manipulating an \
				image in over 88 major formats including important formats \
				like DPX, GIF, JPEG, JPEG-2000, PNG, PDF, SVG, and TIFF.

homepage		http://www.graphicsmagick.org/
master_sites	ftp://ftp.graphicsmagick.org/pub/GraphicsMagick/ \
				sourceforge:${name}
checksums		sha1 b2d3878be34e6d0a8a19e991b7f99da30b02df7e
use_bzip2		yes

depends_lib		port:libxml2 port:bzip2 port:zlib port:libpng port:tiff \
				port:freetype

configure.args	--with-jbig=no --with-wmf=no --with-dps=no \
				--with-lcms=no --with-x=no --with-perl=no \
				--with-trio=no --with-jp2=no --with-fpx=no \
				--with-png=yes --with-tiff=yes --with-bzlib=yes \
				--with-zlib=yes --with-xml=yes --with-ttf=yes \
				--enable-shared=yes --mandir=${prefix}/share/man
configure.env	CFLAGS="-I${prefix}/include/freetype2 -I${prefix}/include" \
				CPPFLAGS="-I${prefix}/include/freetype2 -I${prefix}/include" \
				LDFLAGS=-L${prefix}/lib

platform darwin 8 {
	configure.env-append CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}

