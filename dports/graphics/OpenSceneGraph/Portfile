# $Id$

PortSystem              1.0

name                    OpenSceneGraph
version                 2.4.0
maintainers             ryandesign openmaintainer
platforms               darwin
categories              graphics
homepage                http://www.openscenegraph.org/
master_sites            ${homepage}files/${distname}
use_zip                 yes
use_parallel_build      yes
worksrcdir              ${name}

description             high-performance 3D graphics toolkit

long_description        ${name} is a high-performance 3D graphics toolkit \
                        useful in fields such as visual simulation, games, \
                        virtual reality, scientific visualization and modelling

checksums               md5     4d57fe285a1c6601893b1e0b99ca0bd3 \
                        sha1    93e44719dcb46494560a19af6e1fee1cd030282c \
                        rmd160  0b13d06a72799ca2625ba0244473444f87b9a0cb

patchfiles              patch-pthreads-CMakeLists.txt.diff \
                        patch-CMakeLists.txt.diff

depends_build           port:cmake

depends_lib             port:freetype \
                        port:gdal

configure.cmd           cmake
configure.pre_args      -DCMAKE_INSTALL_PREFIX=${prefix}
configure.args          -DCMAKE_BUILD_TYPE=Release

universal_variant       no
# patch-CMakeLists.txt.diff removes the built-in universal support. We need a
# MacPorts-controlled universal build, but this universal variant is untested.
#variant universal {
#    configure.args-append   -DCMAKE_OSX_ARCHITECTURES="${configure.universal_archs}" \
#                            -DCMAKE_CXX_FLAGS="${configure.universal_cxxflags}"
#}

livecheck.name          osg
