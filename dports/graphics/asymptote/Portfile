# $Id$

PortSystem	1.0

name		asymptote
version		1.40
categories	graphics
maintainers	loshea@gmail.com
description	a vector graphics language
long_description Asymptote is a powerful descriptive \
                 vector graphics language that provides a natural \
                 coordinate-based framework for technical drawing. \
                 Labels and equations are typeset with LaTeX, for \
                 high-quality PostScript output.
homepage	http://asymptote.sourceforge.net
platforms	darwin
configure.args  --with-latex=${prefix}/share/texmf-local/tex/latex \
                --mandir=${prefix}/share/man
distfiles	${distname}.src.tgz:main gc-7.0.tar.gz:gc
master_sites	sourceforge::main \
  http://www.hpl.hp.com/personal/Hans_Boehm/gc/gc_source:gc
checksums	${distname}.src.tgz md5 157b1902766b363bf0d74d059f490861 \
		gc-7.0.tar.gz          md5 3645ccf5f32ebb27d99b27b0d29e9c38
depends_lib	port:readline \
                port:texlive \
                port:ghostscript \
                port:fftw-3 \
                port:gsl \
                port:libsigsegv \
                port:ncurses
extract.only	${distname}.src.tgz

post-extract {
  file copy ${distpath}/gc-7.0.tar.gz ${worksrcpath}
}

post-activate {
  # run `mktexlsr` to make sure the asymptote files are found:
  system "mktexlsr"
}
