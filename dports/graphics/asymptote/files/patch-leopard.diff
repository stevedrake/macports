--- glrender.h	2008-11-22 14:08:09.000000000 +0100
+++ glrender.h	2008-11-22 14:15:34.000000000 +0100
@@ -15,8 +15,12 @@
 #include <OpenGL/glext.h>
 #include <OpenGL/glu.h>
 #include <GLUT/glut.h>
+#ifdef GLU_TESS_CALLBACK_TRIPLEDOT
 typedef GLvoid (* _GLUfuncptr)(...);
 #else
+typedef GLvoid (* _GLUfuncptr)();
+#endif
+#else
 #include <GL/gl.h>
 #include <GL/glext.h>
 #include <GL/glu.h>
--- configure.ac	2008/11/18 17:46:00	3757
+++ configure.ac	2008/11/18 20:46:51	3758
@@ -213,6 +213,16 @@
      darwin*) AC_CHECK_HEADER(GLUT/glut.h,
                                 [AC_DEFINE(HAVE_LIBGLUT, 1,
 		   [Define if you have the `glut' library (-lglut).])
+AC_COMPILE_IFELSE(AC_LANG_PROGRAM([
+#include <OpenGL/gl.h>
+#include <OpenGL/glu.h>
+#ifndef GLU_TESS_CALLBACK_TRIPLEDOT
+typedef GLvoid (* _GLUfuncptr)(...);
+void f(void) {
+  gluNurbsCallback(gluNewNurbsRenderer(),GLU_NURBS_BEGIN,(_GLUfuncptr) glBegin);
+}
+#endif
+]),[AC_DEFINE(GLU_TESS_CALLBACK_TRIPLEDOT, 1, [Define if gluNurbsCallback expects a variadic function.])])
 			   LIBS=$LIBS"-framework GLUT -framework OpenGL -framework Cocoa"],
 				 AC_MSG_NOTICE([*** Could not find glut: will compile without OpenGL support ***]));;
      *) AC_CHECK_LIB([glut], [glutMainLoop],,
