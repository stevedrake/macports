# $Id: Portfile,v 1.14 2006/03/23 07:27:26 mij Exp $

PortSystem 1.0
name		cairo
version		1.0.4
categories	graphics
maintainers	darwinports@opendarwin.org
description	Cairo is a vector graphics library with cross-device output support.
long_description	Cairo is designed to produce identical \
			output on all output media while taking advantage of \
			display hardware acceleration when available \
			(eg. through the X Render Extension).
homepage	http://cairographics.org/
master_sites 	${homepage}releases/
platforms	darwin

checksums	md5 9002b0e69b3f94831a22d3f2a7735ce2 \
		sha1 89e72202e5b51a8914fce60f52f7c51ecdea982a \
		rmd160 40403971bcb6ed9cd4379e8e13a52f515db886cb

depends_lib	lib:libpixman.1:libpixman port:xrender port:fontconfig \
		port:freetype lib:libpng:libpng port:render port:zlib \
		lib:libexpat:expat

post-configure {
	reinplace "s/-dynamiclib/-dynamiclib -flat_namespace/" ${worksrcpath}/libtool

	reinplace "s/#error Not yet implemented//g" ${worksrcpath}/test/cairo-test.c
}
