# $Id$

PortSystem          1.0

name                cairo
version             1.4.10
categories          graphics
maintainers         ryandesign
homepage            http://cairographics.org/
master_sites        ${homepage}releases/
platforms           darwin

description \
	Cairo is a vector graphics library with cross-device output support.

long_description \
	Cairo is designed to produce identical output on all output media \
	while taking advantage of display hardware acceleration when available \
	(eg. through the X Render Extension).

checksums \
	md5 5598a5e500ad922e37b159dee72fc993 \
	sha1 8371097e30650ec817b24694367110139627403e \
	rmd160 ce1cb025d47ec395577e4f4c6fe5092be85e0cbe

depends_lib \
	port:xrender \
	port:fontconfig \
	port:freetype \
	port:libpng \
	port:render \
	port:zlib \
	port:expat

variant glitz description {Add glitz graphics interface} {
	depends_lib-append port:glitz
	configure.args-append --enable-glitz
}

# Quartz and ATSUI support is still experimental in cairo, and the use of
# these variants is not expected to bring you joy at this time.
variant quartz description {Add experimental Quartz graphics interface} {
	configure.args-append --enable-quartz
}
variant atsui description {Add experimental ATSUI font interface} {
	configure.args-append --enable-atsui
}

post-configure {
	reinplace "s/-dynamiclib/-dynamiclib -flat_namespace/" ${worksrcpath}/libtool
}

livecheck.check     regex
livecheck.url       ${homepage}news/
livecheck.regex     ${name}-(\[0-9\]+\\.\[0-9\]*\[02468\]\\.\[0-9\]+)
