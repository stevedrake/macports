# $Id: Portfile,v 1.12 2005/10/14 23:02:48 rhwood Exp $

PortSystem 1.0
name		cairo
version		1.0.2
revision	0
categories	graphics
maintainers	darwinports@opendarwin.org
description	Cairo is a vector graphics library with cross-device output support.
long_description	${description} Cairo is designed to produce identical \
			output on all output media while taking advantage of \
			display hardware acceleration when available \
			(eg. through the X Render Extension).
homepage	http://cairographics.org/
master_sites 	${homepage}releases/
platforms	darwin

checksums	rmd160 59f309974fdac86253ed9a4d00e564a2fac310eb

depends_lib	lib:libpixman.1:libpixman port:xrender port:fontconfig \
		port:freetype lib:libpng:libpng port:render port:zlib \
		lib:libexpat:expat

post-configure {
	reinplace "s/-dynamiclib/-dynamiclib -flat_namespace/" ${worksrcpath}/libtool

	reinplace "s/#error Not yet implemented//g" ${worksrcpath}/test/cairo-test.c
}
