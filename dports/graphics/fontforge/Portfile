# $Id: Portfile,v 1.3 2005/06/12 03:13:19 blb Exp $

PortSystem			1.0
name				fontforge
version				20050502
categories			graphics fonts
maintainers			blb@pobox.com
description			Outline and bitmap font editor/converter for many formats
long_description \
	FontForge allows you to edit outline and bitmap fonts.  You may create \
	new ones or modify old ones.  It is also a format converter and can \
	interconvert between PostScript (ascii & binary Type1, some Type3, \
	some Type0), TrueType, OpenType (Type2), CID, SVG.  Previously known as \
	pfaedit.

platforms			darwin

homepage			http://fontforge.sourceforge.net/
master_sites		${homepage}
distname			${name}_full-${version}
extract.suffix		.tgz

checksums			md5 6a19fe0e0e6c1d70c49014b1f967b481 \
					sha1 b33cdef5b3a6349dd5ed83811f7a9eb316af0d56

worksrcdir			${name}-${version}

depends_lib			lib:libpng:libpng lib:libungif:libungif \
					lib:libtiff:tiff lib:libjpeg:jpeg lib:libX11:XFree86 \
					port:freetype

patchfiles			patch-Makefile.dynamic.in \
					patch-gdraw_Makefile.dynamic.in \
					patch-fontforge_Makefile.dynamic.in \
					patch-Unicode_Makefile.dynamic.in

configure.env		CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"
configure.args		--mandir=${prefix}/share/man

post-destroot {
	xinstall -m 755 -d ${destroot}/${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} AUTHORS INSTALL LICENSE README \
		README-MacOSX README-unix ${destroot}/${prefix}/share/doc/${name}
}

variant autotrace {
	depends_lib-append	bin:autotrace:autotrace
}

variant potrace {
	depends_lib-append	bin:potrace:potrace
}

variant svg {
	depends_lib-append		lib:libxml2.2:libxml2
	configure.args-append	--with-multilayer
}

variant unicode {
	depends_lib-append	lib:libuninameslist.0:libuninameslist
}

