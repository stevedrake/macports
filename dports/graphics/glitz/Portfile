# $Id$
PortSystem 1.0
name		glitz
version		0.5.3
description	Glitz is an OpenGL image compositing library.
long_description	Glitz is an OpenGL image compositing library. Glitz \
			provides Porter/Duff compositing of images and implicit \
			mask generation for geometric primitives including \
			trapezoids, triangles, and rectangles.
maintainers	darwinports@opendarwin.org
categories	graphics devel
platforms	darwin 
homepage	http://www.freedesktop.org/Software/glitz
master_sites	http://cairographics.org/snapshots/
checksums	sha1 a19cf787b375a40b5c5b6461e7a32029eedf59bf
depends_lib	lib:libX11.6:XFree86
configure.args	--mandir=${prefix}/share/man 
configure.env   CPPFLAGS="-I${prefix}/include -L${prefix}/lib" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress" 

post-patch {
# Remove this reinplace on the next upgrade - it is fixed upstream in CVS
        reinplace "s|format.color.fourcc|format.d.color.fourcc|" \
                "${worksrcpath}/src/agl/glitz_agl_format.c"
}

