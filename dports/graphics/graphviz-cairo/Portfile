# $Id: Portfile,v 1.1 2006/03/31 15:22:33 gwright Exp $

PortSystem 1.0
name		graphviz-cairo
version		2.8
categories	graphics
maintainers	gwright@opendarwin.org
description	Rendering plugin for graphviz using the Cairo library.
long_description \
		${description}

platforms	darwin

homepage	http://www.graphviz.org/
master_sites	${homepage}/pub/graphviz/ARCHIVE/

checksums	md5 6aaf70a89eaf36c529f96fa43a228947

platform darwin 7 {
			configure.env-append	MACOSX_DEPLOYMENT_TARGET=10.3
			build.env-append	MACOSX_DEPLOYMENT_TARGET=10.3
}

platform darwin 8 {
			configure.env-append	MACOSX_DEPLOYMENT_TARGET=10.4 \
			CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
			build.env-append	MACOSX_DEPLOYMENT_TARGET=10.4
}

depends_lib	port:graphviz		\
		port:cairo		\
		port:p5-xml-parser
		

configure.env	CPPFLAGS=-I${prefix}/include	\
		LDFLAGS=-L${prefix}/lib

configure.args	--mandir=${prefix}/share/man

# Register the installation with dot.

post-activate	{ system "dot -c" }
