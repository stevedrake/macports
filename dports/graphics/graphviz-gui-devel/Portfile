# $Id$

PortSystem              1.0
PortGroup               xcode 1.0

name                    graphviz-gui-devel
set my_name             graphviz
# keep version in sync between graphviz-devel and graphviz-gui-devel
version                 2.21.20090219.1556
categories              graphics aqua
maintainers             ryandesign
homepage                http://www.graphviz.org/
master_sites            ${homepage}pub/graphviz/development/SOURCES/
use_parallel_build      yes
dist_subdir             ${my_name}
distname                ${my_name}-${version}
xcode.configuration     Release

description \
    Mac OS X Aqua GUI for viewing and exporting Graphviz graphs

long_description \
    ${description}.

checksums \
    md5     9134e5baf075d95640699f14a2cf369a \
    sha1    25f695d20de03b5f3ce2b7e06e661a1844a1a4ba \
    rmd160  9000d76ddb0560ddd9f3080aa90bf5f0ac5d9f11

depends_lib \
    port:graphviz-devel

pre-fetch {
    if {${os.major} < 9} {
        return -code error "${name} requires Mac OS X 10.5 or greater. Try graphviz-oldgui instead."
    }
}

patchfiles              patch-project.pbxproj.diff

build.dir               ${worksrcpath}/macosx
xcode.build.settings    PREFIX=${prefix}

xcode.destroot.settings ${xcode.build.settings}

# keep livecheck in sync between graphviz-devel and graphviz-gui-devel
livecheck.check         regex
livecheck.url           ${homepage}Download_source.php
livecheck.regex         ${my_name}-(\[0-9\]+\\.\[0-9\]*\[13579\](\\.\[0-9\]+)*)\\.tar
