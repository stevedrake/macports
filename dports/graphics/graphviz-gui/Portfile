# $Id$

PortSystem              1.0
PortGroup               xcode 1.0

name                    graphviz-gui
set my_name             graphviz
version                 2.20.3
categories              graphics aqua
maintainers             ryandesign
homepage                http://www.graphviz.org/
master_sites            ${homepage}pub/graphviz/stable/SOURCES/
use_parallel_build      yes
dist_subdir             ${my_name}
distname                ${my_name}-${version}
xcode.configuration     Release

description \
    Graph visualization software from AT&T and Bell Labs

long_description \
    Graph Visualization Software from AT&T Laboratories and \
    Bell Laboratories (Lucent Technologies). \
    The package contains: \
        dot    - batch program for drawing directed graphs as \
         hierarchies \
        neato  - batch program for drawing undirected graphs \
         using Kamada-Kawai spring models. \
    Users wishing to have only the graph layout \
    programs (for non-interactive use) can use the +no_x11 \
    variant to build graphviz without its display routines.

checksums \
    md5     4d94c4b809a5c095acfc973d8d207fa9 \
    sha1    63ae6bdb6b410387477d339225cc4f61c2bc7322 \
    rmd160  64c80f3af55668e487f911132407c332c3c38e87

depends_lib \
    port:graphviz

pre-fetch {
    if {${os.major} < 9} {
        return -code error "${name} requires Mac OS X 10.5 or greater. Try graphviz-oldgui instead."
    }
}

patchfiles              patch-project.pbxproj.diff

build.dir               ${worksrcpath}/macosx
xcode.build.settings    PREFIX=${prefix}

xcode.destroot.settings ${xcode.build.settings}

livecheck.check         regex
livecheck.url           ${homepage}Download_source.php
livecheck.regex         ${my_name}-(\[0-9\]+\\.\[0-9\]*\[02468\](\\.\[0-9\]+)*)\\.tar
