# $Id: Portfile,v 1.18 2004/12/03 03:16:37 gwright Exp $

PortSystem 1.0
name		graphviz
version		1.16
revision	1
categories	graphics
maintainers	gwright@opendarwin.org
description	Graph visualization software from AT&T and Bell Labs
long_description \
		Graph Visualization Software from AT&T Laboratories and \
		Bell Laboratories (Lucent Technologies).		\
									\
		The package contains:					\
    		dotty  - customizable X windows graph viewer written in	\
			 the Lefty editor				\
    		dot    - batch program for drawing directed graphs as	\
			 hierarchies					\
    		neato  - batch program for drawing undirected graphs	\
			 using Kamada-Kawai spring models.

platforms	darwin

homepage	http://www.graphviz.org/
master_sites	http://www.graphviz.org/pub/graphviz/ARCHIVE/

checksums	md5 a2a3bd1b9fe807c46e676fb9a3f0ba22

platform darwin 6 {
			patchfiles-append	patch-Makefile.in
			ui_msg "On Jaguar (OS X 10.2), the gxl2dot and dot2gxl tools do not build."
			ui_msg "Sorry."
		}

#bugs		There's something funny going on with graphviz: the	\
#		build may be tickling a gcc toolchain bug. The patch	\
#		file "patch-panic" works around most of the problem,	\
#		but building the Tcl/Tk tools seems more seriously	\
#		broken, so they aren't built.

patchfiles	patch-panic		\
		patch-common.h

depends_lib	lib:libX11.6:XFree86		\
		lib:libjpeg.62:jpeg		\
		lib:libpng.3:libpng		\
		lib:libfreetype.6:freetype

configure.args	--mandir=${prefix}/share/man	\
		--without-tclsh

