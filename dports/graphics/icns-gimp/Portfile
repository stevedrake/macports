# $Id$

PortSystem 1.0

name            icns-gimp
version         0.1
maintainers     nomaintainer
description     Gimp file format plug-in for Macintosh icon files (.icns)
long_description \
    Gimp file format plug-in for Macintosh icon files (.icns) \
    Currently read-only. \
    Can load true color, 8-bit, 4-bit, and 1-bit icons at 128x128, \
    48x48, 32x32, and 16x16 sizes. \
    Multiple images are loaded as separate layers.

categories      graphics
homepage        http://leuksman.com/pages/icns
platforms       darwin
master_sites    sourceforge:gimp-mac-helper
checksums       md5 e491775279b973db3cab06c7359855e8

depends_lib     lib:libgimp-2.0:gimp2

patch {
    reinplace "s|/sw|${prefix}|g" ${worksrcpath}/Makefile
    reinplace "s|#define ICO_DBG||g" \
        ${worksrcpath}/icnsload.c
}

use_configure   no

build.target    icns

destroot {
    xinstall -m 755 -d ${destroot}${prefix}/lib/gimp/2.0/plug-ins
    xinstall -m 755 ${worksrcpath}/icns \
        ${destroot}${prefix}/lib/gimp/2.0/plug-ins
}

