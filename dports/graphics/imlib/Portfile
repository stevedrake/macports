# $Id: Portfile,v 1.14 2004/05/24 03:07:25 blb Exp $

PortSystem			1.0
name				imlib
version				1.9.14
categories			graphics devel
maintainers			blb@pobox.com
description			Graphics library related to the enlightenment window manager
long_description \
	Imlib is an advanced graphics library meant to replace existing \
	libraries like libXpm, and provides many more features with much greater \
	flexibility and speed.

platforms			darwin

homepage			http://www.enlightenment.org/pages/imlib.html
master_sites		gnome:sources/imlib/1.9
use_bzip2			yes

checksums			md5 a337643f75bb431034d7213ac74f13dc

depends_lib			lib:libgtk.1:gtk1 lib:libjpeg.62:jpeg lib:libtiff.3:tiff \
					lib:libungif.4:libungif lib:libpng.3:libpng

patchfiles			patch-configure patch-ltmain.sh

configure.env		CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"
configure.args		--mandir=${prefix}/share/man

post-destroot {
	xinstall -m 755 -d ${destroot}/${prefix}/share/doc/${name}
	eval xinstall -m 644 -W ${worksrcpath}/doc \
		[glob ${worksrcpath}/doc/*.gif] index.html \
		${destroot}/${prefix}/share/doc/${name}
}

variant darwin {
	patchfiles-append	patch-gdk_imlib-Makefile.am \
						patch-gdk_imlib-Makefile.in
}

