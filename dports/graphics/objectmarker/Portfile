# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                objectmarker
version             dev
revision            2
categories          graphics
platforms           darwin
maintainers         phw openmaintainer
 
description         Tool for opencv to learn to recognize objects

long_description    ${description}

homepage            http://www.cs.utah.edu/~turcsans/DUC_files/HaarTraining/
master_sites        http://www.cs.utah.edu/~turcsans/DUC_files/HaarTraining/

distfiles           ObjectMarker.cpp

depends_build       port:pkgconfig

depends_lib         port:opencv

extract.only

checksums           md5     f1f032209858427156259e7a54b5fe1d \
                    sha1    ce07b8f7b58836192e478bc7f91b967878ff326b \
                    rmd160  8e026342d5b7a21627171ee589c660d49752f057

post-extract {
    xinstall -d ${worksrcpath}
    file copy ${distpath}/ObjectMarker.cpp ${worksrcpath}/
    reinplace "s|#include <io.h>|#include <sys/uio.h>|g" ${distpath}/ObjectMarker.cpp
}

use_configure       no

build.cmd {
    g++ ObjectMarker.cpp `pkg-config --cflags opencv` -o objectmarker `pkg-config --libs opencv`
}
build.target {}

destroot {
    eval xinstall -m 750 ${worksrcpath}/${name} ${destroot}${prefix}/bin/${name}
}

livecheck.type      none
