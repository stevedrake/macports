# $Id: Portfile,v 1.20 2004/11/28 22:43:03 waqar Exp $

PortSystem 1.0
name		tiff
version		3.7.0
revision	1
categories	graphics
maintainers	waqar@opendarwin.org
description	Library and tools for dealing with Tag Image File Format
long_description \
	This software provides support for the Tag Image File \
	Format (TIFF), a widely used format for storing image \
	data.  Included in this software distribution is a \
	library, libtiff, for reading and writing TIFF, a small \
	collection of tools for doing simple manipulations of \
	TIFF images on UNIX systems, documentation on the library \
	and tools.  A small assortment of TIFF-related software \
	for UNIX that has been contributed by others is also \
	included.  The library is capable of dealing with images \
	that are written to follow the 5.0 or 6.0 TIFF spec. \
	There is also considerable support for some of the more \
	esoteric portions of the 6.0 TIFF spec.
homepage	http://www.libtiff.org/
platforms	darwin
master_sites	ftp://ftp.remotesensing.org/pub/libtiff/ \
		http://dl.maptools.org/dl/libtiff/ \
		ftp://ftp.freebsd.org/pub/FreeBSD/ports/distfiles/
checksums	md5 305af467c94d988c17ca6528d8936f27

depends_lib	lib:libjpeg.62:jpeg

configure.args	--mandir=${prefix}/share/man \
		--with-jpeg-include-dir=${prefix}/include \
		--with-jpeg-lib-dir=${prefix}/lib

patchfiles	patch-ltmain.sh

post-destroot {
	xinstall -m 755 -d ${destroot}/${prefix}/share/doc/${name}
	file copy ${worksrcpath}/html/images \
		${destroot}/${prefix}/share/doc/${name}
	eval xinstall -m 644 [glob ${worksrcpath}/html/*.html] \
		${destroot}/${prefix}/share/doc/${name}
}

variant zlib {
	depends_lib-append	lib:XXX:zlib
	configure.args-append	--with-zlib-include-dir=${prefix}/include \
				--with-zlib-lib-dir=${prefix}/lib
}
