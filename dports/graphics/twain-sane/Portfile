# $Id$

PortSystem 1.0
PortGroup xcode 1.0
name            twain-sane
version         1.9
categories      graphics
maintainers     pguyot@kallisys.net
description     TWAIN datasource for SANE
homepage        http://www.ellert.se/twain-sane/

long_description \
				This is a TWAIN datasource for MacOS X that aquires images \
				using the SANE backend libraries. The SANE backend libraries \
				provide access to a large range of scanners connected through \
				SCSI or USB. For a complete list see the documentation on the \
				SANE project homepage. It works with my HP SCSI scanner, and \
				many people have reported success with a large number of \
				different scanners. The feedback from users have helped the \
				SANE developers to fix problems with various backends, so with \
				each release of the SANE backends more of the MacOS X specific \
				problems have been solved.
distname		TWAIN-SANE-Interface-${version}
master_sites    http://www.ellert.se/PKGS/${distname}/src/

checksums       md5 348bc6273d94cc2461482891518f3395 \
				sha1 8c97f4204cf9c4ac9ecb13fe366db9b25ef37511 \
				rmd160 dd25a65ab15cdbb7ba0006a472e5438ab8e70369

depends_lib     lib:libiconv:libiconv \
				lib:libintl:gettext \
				lib:libusb:libusb \
				lib:libsane:sane-backends

pre-build {
	# Generate Info.plist
	cd "${worksrcpath}/src"
	system "./Info.sh > Info.plist"
}

xcode.project			SANE.ds.xcodeproj
xcode.destroot.path		/Library/Image Capture/TWAIN Data Sources
xcode.build.settings	LIBRARY_SEARCH_PATHS=${prefix}/lib \
						HEADER_SEARCH_PATHS=${prefix}/include
xcode.destroot.settings	LIBRARY_SEARCH_PATHS=${prefix}/lib \
						HEADER_SEARCH_PATHS=${prefix}/include
build.dir "${worksrcpath}/src"

livecheck.check	regex
livecheck.regex {<td><a href="../PKGS/TWAIN-SANE-Interface-(.*)/src/TWAIN-SANE-Interface-\1.tar.gz"><img src="../gz.png"></a></td>}
