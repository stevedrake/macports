# $Id: Portfile,v 1.3 2004/04/14 08:58:33 blb Exp $

PortSystem 1.0

name		wxWidgets
version		2.5.1
categories	graphics devel
platforms	darwin
maintainers	mww@opendarwin.org blb@pobox.com
description	mature cross-platform C++ GUI framework
long_description	wxWidgets is a mature open-source cross-platform C++ \
			GUI framework for MacOS, Unix, Linux, Windows. It can \
			make use of a variety of native widget sets as well as \
			its own widget set: MacOS, GTK+, Motif, WIN32. \
			wxWidgets will even run on embedded systems using \
			Linux and X11.

homepage	http://www.wxwidgets.org/
master_sites	sourceforge:wxwindows \
		ftp://biolpc22.york.ac.uk/pub/${version}/
distname	wxAll-${version}
checksums	md5 4445fe0f17130226aff94d92ff891c53

depends_lib	lib:libjpeg:jpeg \
		lib:libtiff:tiff \
		lib:libpng:libpng \
		lib:libfreetype.6:freetype \
		lib:libz:zlib \
		bin:sdl-config:libsdl \
		lib:libSDL_mixer:libsdl_mixer

set worksrcdir	wxWindows-${version}/build

configure.cmd	../configure
configure.env	CPPFLAGS="-I${prefix}/include" \
		LDFLAGS="-L${prefix}/lib"
configure.args	--mandir=${prefix}/share/man \
		--with-libjpeg \
		--with-libtiff \
		--with-libpng \
		--with-freetype \
		--with-zlib \
		--with-sdl \
		--disable-sdltest \
		--disable-shared

build.target

variant mac	{
	configure.args-append	--with-mac \
				--with-opengl
}

post-destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath}/.. BuildCVS.txt CHANGES.txt \
		COPYING.LIB INSTALL-MAC.txt INSTALL-MOTIF.txt INSTALL-X11.txt \
		LICENCE.txt README-MAC.txt README-MOTIF.txt README-X11.txt \
		README.txt ${destroot}${prefix}/share/doc/${name}
}
