# $Id: Portfile,v 1.11 2005/08/26 20:02:49 olegb Exp $
PortSystem 1.0
name		xpdf
version		3.01
description	Xpdf is a viewer for PDF files.
long_description        Xpdf is a viewer for Portable Document Format \
			(PDF) files.  These are also sometimes also called \
			Acrobat files, from the name of Adobes PDF \
			software.
maintainers	olegb@opendarwin.org
categories	graphics print
platforms	darwin 
homepage	http://www.foolabs.com/xpdf/
master_sites    ftp://ftp.foolabs.com/pub/xpdf/ \
 		ftp://ftp.funet.fi/pub/TeX/CTAN/support/xpdf/ \
 		ftp://ctan.unsw.edu.au/tex-archive/support/xpdf/ \
 		ftp://ftp.tex.ac.uk/tex-archive/support/xpdf/ \
 		ftp://ftp.kddlabs.co.jp/CTAN/support/xpdf/ \
 		ftp://ftp.meiji.ac.jp/pub/TeX/CTAN/support/xpdf/ \
 		ftp://ctan.tug.org/tex-archive/support/xpdf/ \
 		ftp://ftp.dante.de/tex-archive/support/xpdf/ \
 		ftp://gd.tuwien.ac.at/publishing/tex/CTAN/support/xpdf/ \
 		ftp://ftp.ntnu.no/pub/tex/CTAN/support/xpdf/ \
 		ftp://www.dnsbalance.ring.gr.jp/pub/text/CTAN/support/xpdf/ \
 		http://www.t.ring.gr.jp/archives/text/CTAN/support/xpdf/ \
 		ftp://ftp.chg.ru/pub/TeX/CTAN/support/xpdf/ 
checksums	md5 e004c69c7dddef165d768b1362b44268
distname	xpdf-3.01
depends_lib	lib:libX11.6:XFree86 lib:libXm.4:openmotif lib:libt1.5:t1lib \
		lib:libfreetype.6:freetype lib:libpaper:libpaper
configure.args	--with-x --mandir=${prefix}/share/man \
		--with-t1-library=${prefix}/lib \
		--with-t1-includes=${prefix}/include \
		--with-libpaper-library=${prefix}/lib \
		--with-libpaper-includes=${prefix}/include \
		--with-freetype2-library=/usr/X11R6/lib \
		--with-freetype2-includes=/usr/X11R6/include/freetype2
configure.env	CXXFLAGS="-I/usr/X11R6/include/freetype2 -I${prefix}/include" \
		CFLAGS="-I/usr/X11R6/include" \
		CPPFLAGS="-I/usr/X11R6/include" \
		LDFLAGS="-lz"
variant a4 {
	configure.args-append --enable-a4-paper
}

variant puredarwin {
		patchfiles patch-SplashFTFontEngine.h patch-SplashFTFontFile.h patch-configure
		depends_lib-delete lib:libXm.4:openmotif
		depends_lib-append lib:libXm.2:lesstif
}
