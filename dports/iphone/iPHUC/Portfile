# $Id$

PortSystem 1.0
name			iPHUC
version			r17
categories		iphone
maintainers		landonf@macports.org openmaintainer
description		A command line AFC interface for managing your iPhone
long_description	${description}

homepage		http://iphone.fiveforty.net/wiki/index.php/IPHUC
platforms		darwin

master_sites		http://landonf.bikemonkey.org/static/iphone/
checksums		md5 5d923b485aad648261afb8a70bfed6c7
depends_lib		port:readline

# We have to use this ugly hack since the Universal SDK -isysroot is prepended to all paths
configure.universal_cxxflags-append	-L/usr/lib
configure.universal_ldflags-append	-F/../../../System/Library/PrivateFrameworks

if {![variant_isset universal]} {
	configure.args-append --with-readline=${prefix}
}

post-patch {
	system "cd ${worksrcpath} && sh ./autogen.sh"
}

post-patch {
	file copy ${filespath}/MobileDevice.h ${worksrcpath}
}
