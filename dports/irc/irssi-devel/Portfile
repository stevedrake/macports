# $Id: Portfile 21745 2007-02-05 02:26:08Z imajes@macports.org $

PortSystem 1.0
name            irssi-devel
version         20070214
revision        0
categories      irc
maintainers     nomaintainer@macports.org
description     modular IRC client
long_description \
    Irssi is a modular IRC client that currently has only text mode user \
    interface, but 80-90% of the code isn't text mode specific, so other \
    UIs could be created pretty easily. Also, Irssi isn't really even \
    IRC specific anymore, there's already a working SILC module \
    available. Support for other protocols like ICQ could be created \
    some day too.
homepage        http://irssi.org/
platforms       darwin
distname        irssi-${version}
master_sites    ${homepage}files/snapshots
checksums       md5 f4a0a169d980053d6da0a613042c9371 \
                  sha1 6b5b89794d5530b75dcf3b309b162fd353a29776 \
                  rmd160 19e59fd945d3674b97fa6a7a76d64374655c1057
depends_lib     port:gettext port:glib2 port:libiconv port:ncurses \
                  port:pkgconfig port:openssl port:zlib
worksrcdir      irssi-0.8.10
configure.env   CPPFLAGS=-no-cpp-precomp
configure.args \
    --without-socks --without-bot --without-proxy --with-perl=no \
    --enable-ipv6 --with-modules --enable-ssl \
    --with-glib-prefix=${prefix} --mandir=${prefix}/share/man

platform darwin 6 {
    depends_lib-append lib:libdl:dlcompat
}

variant perl {
    configure.args-delete   --with-perl=no
    configure.args-append   --with-perl-lib=${prefix}/lib/perl5/darwin \
                              --with-perl=yes 
}
