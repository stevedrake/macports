# $Id: Portfile,v 1.24 2006/06/23 17:10:00 mww Exp $

PortSystem 1.0
name		irssi
version		0.8.10a
categories	irc
maintainers	toby@opendarwin.org
description	modular IRC client
long_description	\
	Irssi is a modular IRC client that currently has only text mode user \
	interface, but 80-90% of the code isn't text mode specific, so other \
	UIs could be created pretty easily. Also, Irssi isn't really even \
	IRC specific anymore, there's already a working SILC module \
	available. Support for other protocols like ICQ could be created \
	some day too.
homepage	http://irssi.org/
platforms	darwin
master_sites	${homepage}files/
checksums	sha1 c27c3aa19f7e54e4295c9e78f522194b296e9f7f
use_bzip2	yes
depends_lib 	port:glib2 port:openssl port:libiconv port:gettext port:zlib

worksrcdir	${name}-0.8.10
configure.env	CPPFLAGS=-no-cpp-precomp
configure.args  \
	--without-socks --without-bot --without-proxy \
	--with-modules --enable-ipv6 --enable-ssl \
	--with-perl=no --with-glib-prefix=${prefix} \
	--mandir=${prefix}/share/man

platform darwin 6 {
	depends_lib-append lib:libdl:dlcompat
}

variant perl {
	configure.args-delete --with-perl=no
	configure.args-append \
		--with-perl=yes --with-perl-lib=${prefix}/lib/perl5/darwin 
}
