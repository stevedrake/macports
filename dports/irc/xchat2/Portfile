# $Id$

PortSystem 1.0

name		xchat2
version		2.8.4
categories	irc
maintainers	afb@macports.org openmaintainer
description	GTK+2 IRC client
homepage	http://www.xchat.org/
platforms	darwin

long_description \
		XChat2 is a graphical IRC client based on GTK2 that has \
		many features and can be scripted with Perl and/or Python.

master_sites	http://xchat.org/files/source/2.8/
patch_sites	http://xchat.org/files/source/2.8/patches/

distname	xchat-${version}

patchfiles	xc284-improvescrollback.diff \
		xc284-scrollbmkdir.diff

checksums	xchat-${version}.tar.bz2 md5 66d60febc62a01bafac9bb3a35fb37ae \
		xchat-${version}.tar.bz2 sha1 6ac509624c241edfac5d53d9d4ece63d917613d6 \
		xchat-${version}.tar.bz2 rmd160 35cf84e03dfda160674d141063c8fc9cd0ac7de2 \
		xc284-improvescrollback.diff md5 a202ee20d7f04f0a515f32190acb65d8 \
		xc284-improvescrollback.diff sha1 533bc8d851055ef6dfaa4a01e47e6febd4919192 \
		xc284-improvescrollback.diff rmd160 268e0fc832be2fe1caf0bbadc9c7c6fd7ee75acf \
		xc284-scrollbmkdir.diff md5 e6f0279d8c01cbe6a6bf698add6113fa \
		xc284-scrollbmkdir.diff sha1 1f6c5071ffc16f9012c82f3f84739083806285f0 \
		xc284-scrollbmkdir.diff rmd160 25823f6c4f2eab546adb06f050095371892188f3
		
use_bzip2	yes

depends_lib	port:gtk2 port:perl5.8

patch.args	-p1

configure.ldflags-append	"-L${x11prefix}/lib"
configure.cflags-append "-I${prefix}/include"
configure.cppflags-append "-I${x11prefix}/include -no-cpp-precomp"

configure.args	--disable-python --disable-mmx

platform darwin 6	{ configure.args-append --enable-tcl=/System/Library/Tcl/8.3 }
platform darwin 7	{ configure.args-append --enable-tcl=/usr/lib }

variant xft	{ configure.args-append --enable-xft }
variant ssl	{ configure.args-append --enable-openssl }
variant ipv6	{ configure.args-append --enable-ipv6 }

livecheck.url	http://www.xchat.org/files/source/2.8/?S=D
livecheck.regex	xchat-(\[0-9.\]+)${extract.suffix}
