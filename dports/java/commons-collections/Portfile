# $Id$

PortSystem 1.0

name				commons-collections
version				3.2

categories			java
maintainers			jberry@macports.org openmaintainer@macports.org
platforms			darwin

description			Jakarta Commons-Collections
long_description	Commons-Collections provides a suite of classes that \
					extend or augment the Java Collections Framework.
homepage			http://commons.apache.org/collections/
				
distfiles			${distname}-src${extract.suffix}
master_sites		apache:commons/collections/source/
checksums			md5 dbf80727b384bfb9c220d78af30ebc14

worksrcdir			${name}-${version}-src

depends_build		bin:ant:apache-ant
depends_lib			bin:java:kaffe \
					port:junit

use_configure		no

build.cmd			ant
build.target		jar javadoc
build.args			-Djar.name=${name}.jar \
					-Djunit.jar=${prefix}/share/java/junit.jar

destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/java \
		${destroot}${prefix}/share/doc
	xinstall -m 644 \
		${worksrcpath}/build/commons-collections.jar \
		${destroot}${prefix}/share/java/
	file copy ${worksrcpath}/build/docs ${destroot}${prefix}/share/doc/${name}
	file attributes ${destroot}${prefix}/share/doc/${name} -permissions goa+r
}

livecheck.check regex
livecheck.url   http://commons.apache.org/downloads/download_collections.cgi
livecheck.regex "${name}-(\\d+\\.\\d+(\\.\\d+)?)-src.tar.gz"