# $Id$

PortSystem 1.0

name				commons-httpclient
version				3.0.1

categories			java
maintainers			jberry@macports.org openmaintainer@macports.org
platforms			darwin

description			Jakarta Commons-HttpClient
long_description	Commons-HttpClient provides a framework for working with \
					the client-side  of the HTTP protocol.
homepage			http://commons.apache.org/httpclient/
				
distname			${name}-${version}-src
master_sites		apache:jakarta/httpcomponents/commons-httpclient-3.x/source/
checksums			md5 abe79c67448079e0deb6a49530f993e2

depends_build		bin:ant:apache-ant
depends_lib			bin:java:kaffe \
					port:junit \
					port:commons-logging \
					port:commons-codec

use_configure		no

worksrcdir			${name}-${version}

build.cmd			ant
build.target		dist
build.args			-Djunit.jar=${prefix}/share/java/junit.jar \
					-Dcommons-logging.jar=${prefix}/share/java/commons-logging.jar \
					-Dcommons-codec.jar=${prefix}/share/java/commons-codec.jar

post-extract	{
	file mkdir ${worksrcpath}/lib
}

destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/java \
		${destroot}${prefix}/share/doc
	xinstall -m 644 \
		${worksrcpath}/dist/commons-httpclient.jar \
		${destroot}${prefix}/share/java/
	file copy ${worksrcpath}/dist/docs ${destroot}${prefix}/share/doc/${name}
}

livecheck.check regex
livecheck.url   http://jakarta.apache.org/site/downloads/downloads_commons-httpclient-3.x.cgi
livecheck.regex "${name}-(\\d+\\.\\d+(\\.\\d+)?)-src.tar.gz"
