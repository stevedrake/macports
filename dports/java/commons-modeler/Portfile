# $Id: Portfile,v 1.4 2005/04/19 18:15:06 jberry Exp $

PortSystem 1.0

name				commons-modeler
version				1.1

categories			java
maintainers			jberry@opendarwin.org
platforms			darwin

description			Jakarta Commons-Modeler
long_description	Commons-Modeler provides mechanisms to create Model MBeans \
					compatible with the Java Management Extensions (JMX) \
					specification.
homepage			http://jakarta.apache.org/commons/modeler/
				
distname			modeler-${version}-src
master_sites		apache:jakarta/commons/modeler/source/
checksums			md5 6de043186a348758c845f1a2321e8308

depends_build		bin:ant:apache-ant
depends_lib			bin:java:kaffe \
					port:junit \
					port:commons-logging \
					port:commons-digester \
					port:mx4j

use_configure		no

worksrcdir			${name}-${version}-src

build.cmd			ant
build.target		init-dist prepare jar javadoc
build.args			-Djunit.jar=${prefix}/share/java/junit.jar \
					-Dcommons-logging.jar=${prefix}/share/java/commons-logging.jar \
					-Dcommons-digester.jar=${prefix}/share/java/commons-digester.jar \
					-Djmx.jar=${prefix}/share/java/mx4j-jmx.jar

destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/java \
		${destroot}${prefix}/share/doc
	xinstall -m 644 \
		${worksrcpath}/dist/commons-modeler.jar \
		${destroot}${prefix}/share/java/
	file copy ${worksrcpath}/dist/docs ${destroot}${prefix}/share/doc/${name}
}
