# $Id$

PortSystem 1.0

name			commons-pool
version			1.3

categories		java
maintainers		jberry@macports.org openmaintainer@macports.org
platforms		darwin

description		Jakarta Commons-Pool
long_description	Commons-Pool provides a generic object pooling \
				interface, a toolkit for creating modular \
				object pools and several general purpose \
				pool implementations.
homepage			http://jakarta.apache.org/commons/pool/

distname		${name}-${version}-src
master_sites		apache:jakarta/commons/pool/source/
checksums		md5 a2dcdff75de2af76f5f2169494ed3499

depends_build		bin:ant:apache-ant
depends_lib			bin:java:kaffe \
				port:junit \
				port:commons-collections

use_configure		no

worksrcdir		${name}-${version}-src

build.cmd		ant
build.target		dist
build.args		-Djunit.jar=${prefix}/share/java/junit.jar \
				-Dcommons-collections.jar=${prefix}/share/java/commons-collections.jar

destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/java \
		${destroot}${prefix}/share/doc
	xinstall -m 644 ${worksrcpath}/dist/commons-pool-${version}.jar \
		${destroot}${prefix}/share/java/
	file copy ${worksrcpath}/dist/docs ${destroot}${prefix}/share/doc/${name}
	file attributes ${destroot}${prefix}/share/doc/${name} -permissions goa+r
}

livecheck.check regex
livecheck.url   http://jakarta.apache.org/site/downloads/downloads_${name}.cgi
livecheck.regex "${name}-(\\d+\\.\\d+(\\.\\d+)?)-src.tar.gz"
