# $Id: Portfile,v 1.1 2004/10/12 16:32:33 mww Exp $

PortSystem 1.0

name			jfreechart
version			0.9.21
categories		java graphics
platforms		darwin
maintainers		mww@opendarwin.org
description		JFreeChart is a free Java class library for generating charts.
long_description	${description}

homepage		http://www.jfree.org/jfreechart/
master_sites	sourceforge
checksums		md5 63007735dfc577464e8375ad2c0f6549

depends_build	bin:ant:apache-ant
depends_lib		bin:java:kaffe \
				lib:XXX:junit \
				lib:XXX:servlet23-api

extract.post_args	"| tar -xf - --exclude 'junit.jar' --exclude 'servlet.jar'"
post-extract	{
	file link ${worksrcpath}/lib/junit.jar ${prefix}/share/java/junit.jar
	file link ${worksrcpath}/lib/servlet.jar \
		${prefix}/share/java/servlet23-api.jar
}

use_configure	no

build.dir		${worksrcpath}/ant
build.cmd		ant
build.target	all

destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/java/ \
		${destroot}${prefix}/share/doc/
	xinstall -m 644 ${worksrcpath}/jfreechart-0.9.21.jar \
		${destroot}${prefix}/share/java/jfreechart.jar
	file copy ${worksrcpath}/javadoc ${destroot}${prefix}/share/doc/${name}
}
