# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                lucene-gosen
version             1.1.1
categories          java textproc japanese
platforms           darwin
maintainers         hum openmaintainer
license             LGPL-2.1

homepage            http://code.google.com/p/${name}/
description         a Japanese morphological analyzer for Apache Lucene/Solr
long_description    ${name} is ${description}.

master_sites        http://${name}.googlecode.com/files/
distfiles           ${distname}-ipadic.jar
checksums           sha1    2637bf3c4bdb4cb0efd095f4d423e5efb37e4543 \
                    rmd160  3feacc9c2ac81e2c15f3b8d6a377a85dd6fb6d01

variant naist description {Use naist chasen dictionary instead of ipadic} {
    distfiles       ${distname}-naist-chasen.jar
    checksums       sha1    bf5cde340da36e0a1fc506c60358eca7c23347fa \
                    rmd160  b76436ceb14bd92cc0ad449734ba8633bb15c02c
}

extract {}

use_configure       no
supported_archs     noarch

build {}

destroot {
    # install the jar file.
    xinstall -d ${destroot}${prefix}/share/java/${name}/lib
    copy ${distpath}/${distfiles} \
                ${destroot}${prefix}/share/java/${name}/lib
    # install the config files.
    xinstall -d ${destroot}${prefix}/share/java/${name}/conf
    xinstall -m 644 -W ${filespath} \
        mapping-japanese.txt \
        stoptags_ja.txt \
        stopwords_ja.txt \
        ${destroot}${prefix}/share/java/${name}/conf
}

livecheck.type      regex
livecheck.url       http://code.google.com/p/${name}/downloads/list
livecheck.regex     ${name}\-(\[0-9.\]+)
