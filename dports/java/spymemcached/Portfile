# $Id$

PortSystem 1.0

name			spymemcached
version			2.1
categories		java
platform		darwin
maintainers		blair
description		A high performance, distributed object caching system.

long_description	Memcached is a high-performance, distributed \
			memory object caching system, generic in nature, \
			but intended for use in speeding up dynamic web \
			applications by alleviating database load.  This \
			Port provides a native Java client written by \
			Dustin Sallings.

homepage		http://code.google.com/p/spymemcached/

master_sites		googlecode
distfiles		memcached-${version}.jar \
			memcached-${version}-javadoc.zip

checksums		memcached-${version}.jar \
				md5 0a9eaa652d051c97c360cf99b7b2c129 \
				sha1 92aacb727aece0099deeb3ce95b7a7c988ef2c28 \
				rmd160 c9742c725de07dd2e539f2c70986c1e86c98cff4 \
			memcached-${version}-javadoc.zip \
				md5 f427d1c2cd7c58f6fb3ed129fe35a455 \
				sha1 97a3b731f28c299fad6219672bf6e1d317532bc7 \
				rmd160 97514209caf27dda08575da963c4e713be003ffa

depends_lib		bin:java:kaffe \
			port:spyjar

use_configure		no

build { }

destroot {
	set javadir ${destroot}${prefix}/share/java
	set docdir ${destroot}${prefix}/share/doc/${name}

	xinstall -d -m 755 ${javadir}
	xinstall -d -m 755 ${docdir}/api

	file copy ${distpath}/memcached-${version}.jar \
		${javadir}/spymemcached.jar
	system "unzip ${distpath}/memcached-${version}-javadoc.zip -d ${docdir}/api"
}
