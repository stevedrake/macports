# $Id$

PortSystem 1.0

name				xom
version				1.2.4

categories			java devel textproc
platforms			darwin
maintainers			jberry openmaintainer

description			A tree-based API for XML processing
long_description	XOM is a new XML object model. It is an open source (LGPL), \
					tree-based API for processing XML with Java that strives for \
					correctness, simplicity, and performance, in that order.
homepage			http://www.xom.nu/

master_sites		http://www.cafeconleche.org/XOM/

checksums           md5     f226cdce8e799ba1e36d5e57ff58e826 \
                    sha1    fc57de2fed7b6d950b2d4fde3c1ffbc08fc07cf2 \
                    rmd160  936e7da6fabbd7afb9fc0a0adaecd404263dbdf6

depends_build		bin:ant:apache-ant
depends_lib			bin:java:kaffe

worksrcdir			XOM

patchfiles          patch-build.xml.diff

use_configure		no

build.cmd			ant
build.target		jar javadoc
build.env			""
build.args			-Djaxen.dir=${prefix}/share/java/jaxen.jar

destroot {
	xinstall -d ${destroot}${prefix}/share/java \
		${destroot}${prefix}/share/doc
	xinstall -m 644 ${worksrcpath}/build/xom-${version}.jar \
		${destroot}${prefix}/share/java/xom.jar
	file copy ${worksrcpath}/build/apidocs \
		${destroot}${prefix}/share/doc/${name}
}

livecheck.type      regex
livecheck.regex     {xom-(\d+(?:\.\d+)*)\.jar}
