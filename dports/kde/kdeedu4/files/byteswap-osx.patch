Index: kdeedu-4.3.2/kstars/kstars/binfilehelper.cpp
===================================================================
--- kdeedu-4.3.2.orig/kstars/kstars/binfilehelper.cpp	2009-10-07 18:49:26.000000000 +0200
+++ kdeedu-4.3.2/kstars/kstars/binfilehelper.cpp	2009-10-07 18:49:51.000000000 +0200
@@ -38,9 +38,15 @@
 #define bswap_16(x) bswap16(x)
 #define bswap_32(x) bswap32(x)
 #else
+#if defined(Q_OS_MAC)
+#include <libkern/OSByteOrder.h>
+#define bswap_16(x) OSSwapInt16(x)
+#define bswap_32(x) OSSwapInt32(x)
+#else
 #include <byteswap.h>
 #endif
 #endif
+#endif
 
 class BinFileHelper;
 
Index: kdeedu-4.3.2/kstars/kstars/skycomponents/starcomponent.cpp
===================================================================
--- kdeedu-4.3.2.orig/kstars/kstars/skycomponents/starcomponent.cpp	2009-10-07 18:49:26.000000000 +0200
+++ kdeedu-4.3.2/kstars/kstars/skycomponents/starcomponent.cpp	2009-10-07 18:49:51.000000000 +0200
@@ -38,13 +38,32 @@
 #include "binfilehelper.h"
 #include "starblockfactory.h"
 
+// Byte-swapping support.
+//
+// bswap_16 is a linuxism, use BSWAP_16 define on Solaris,
+// probably need to usw BSD's swap16() on FreeBSD. This could
+// use some cmake checks to actually check for the supported
+// include files and which form of byte swapping to use.
+//
+#ifdef Q_OS_SOLARIS
+#include <sys/byteorder.h>
+#define bswap_16(x) BSWAP_16(x)
+#define bswap_32(x) BSWAP_32(x)
+#else
 #if defined(Q_OS_FREEBSD) || defined(Q_OS_NETBSD)
 #include <sys/endian.h>
 #define bswap_16(x) bswap16(x)
 #define bswap_32(x) bswap32(x)
 #else
+#if defined(Q_OS_MAC)
+#include <libkern/OSByteOrder.h>
+#define bswap_16(x) OSSwapInt16(x)
+#define bswap_32(x) OSSwapInt32(x)
+#else
 #include <byteswap.h>
 #endif
+#endif
+#endif
 
 #include <kde_file.h>
 
Index: kdeedu-4.3.2/kstars/kstars/skycomponents/deepstarcomponent.cpp
===================================================================
--- kdeedu-4.3.2.orig/kstars/kstars/skycomponents/deepstarcomponent.cpp	2009-10-07 18:49:26.000000000 +0200
+++ kdeedu-4.3.2/kstars/kstars/skycomponents/deepstarcomponent.cpp	2009-10-07 18:50:02.000000000 +0200
@@ -53,9 +53,15 @@
 #define bswap_16(x) bswap16(x)
 #define bswap_32(x) bswap32(x)
 #else
+#if defined(Q_OS_MAC)
+#include <libkern/OSByteOrder.h>
+#define bswap_16(x) OSSwapInt16(x)
+#define bswap_32(x) OSSwapInt32(x)
+#else
 #include <byteswap.h>
 #endif
 #endif
+#endif
 
 DeepStarComponent::DeepStarComponent( SkyComponent *parent, QString fileName, float trigMag, bool staticstars )
     : ListComponent(parent), m_reindexNum( J2000 ), triggerMag( trigMag ), m_FaintMagnitude(-5.0), 
