diff -Naur kdelibs-3.5.8.orig/dcop/dcopserver.cpp kdelibs-3.5.8/dcop/dcopserver.cpp
--- kdelibs-3.5.8.orig/dcop/dcopserver.cpp	2007-10-08 18:52:08.000000000 +0900
+++ kdelibs-3.5.8/dcop/dcopserver.cpp	2007-11-02 03:55:32.000000000 +0900
@@ -1017,6 +1017,12 @@
 	    (void) umask(orig_umask);
 	    // publish available transports.
 	    QCString fName = DCOPClient::dcopServerFile();
+	    {
+	      int i = 0;
+	      while ((i = fName.find('/', i)) != -1) {
+		::mkdir(fName.left(++i).data(), 0777 /*umask will be applied*/ );
+	      }
+	    }
 	    FILE *f;
 	    if(!(f = ::fopen(fName.data(), "w+"))) {
 	        fprintf (stderr, "Can not create file %s: %s\n",
