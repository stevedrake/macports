# $Id$

PortSystem 1.0

name			antlr
version			2.7.7
categories		lang java
platforms		darwin
maintainers		landonf@macports.org openmaintainer
description		antlr is ANother Tool for Language Recognition
long_description	ANTLR, ANother Tool for Language Recognition, is a \
			language tool that provides a framework for \
			constructing recognizers, compilers, and translators \
			from grammatical descriptions containing Java, C#, or \
			C++ actions. 

homepage		http://www.antlr2.org/
master_sites		${homepage}download/ \
			http://www.mirrorservice.org/sites/master.us.finkmirrors.net/distfiles/
checksums		md5 01cc9a2a454dd33dcd8c856ec89af090
patchfiles		patch-configure.diff

configure.env		CLASSPATH=.
configure.pre_args	--prefix=${destroot}${prefix}
configure.args		--disable-csharp

destroot.args	versioneddir=java
post-destroot	{
	reinplace "s|antlr-2.7.3/|java/|g" ${destroot}${prefix}/bin/antlr
	reinplace "s|^prefix=.*|prefix=\"${prefix}\"|g" \
		${destroot}${prefix}/bin/antlr
}

livecheck.check regex
livecheck.url   ${homepage}download.html
livecheck.regex ${name}-(\\d+(?:\\.\\d+)*)
