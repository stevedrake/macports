# $Id: Portfile,v 1.1 2005/10/14 14:59:01 mww Exp $

PortSystem 1.0

name			boo
version			0.7.0.1921
categories		lang mono
platforms		darwin
maintainers		mww@opendarwin.org
description		object oriented statically typed programming language for CLI
long_description	Boo is a new object oriented statically typed programming \
		language for the Common Language Infrastructure with a python inspired \
		syntax and a special focus on language and compiler extensibility.

homepage		http://boo.sourceforge.net/
master_sites	http://dist.codehaus.org/boo/distributions/
distname		${distname}-src
checksums		md5 60ebf10aabe59e9b3da9530f0dbc7a5c
use_bzip2		yes
patchfiles		patch-default.build

depends_lib		port:mono
depends_build	port:nant

worksrcdir		${name}-${version}

use_configure	no

build.cmd		${prefix}/bin/nant
build.target

test.run		no
test.cmd		${build.cmd} compile-tests && nunit-console tests/build/*Tests.dll
test.target

destroot.cmd	${build.cmd}
destroot.destdir	-D:install.prefix=${prefix} -D:install.destdir=${destroot}
post-destroot {
	file delete -force ${destroot}/tmp
	cd ${destroot}${prefix}/bin
	reinplace "s|/usr/local|${prefix}|g" booc booi booish
}
