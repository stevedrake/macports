# $Id$

PortSystem 1.0
name		chicken
version		2.6
categories	lang scheme
maintainers	waqar@macports.org
description	Compiler for the Scheme programming language
long_description	\
	Chicken produces portable, efficient C, supports almost all 	\
	of the current Scheme language standard, the Revised5 Report 	\
	on the Algorithmic Language Scheme (R5RS ), and includes many 	\
	enhancements and extensions.
homepage	http://www.call-with-current-continuation.org/
platforms	darwin
master_sites	http://www.call-with-current-continuation.org/
checksums	sha1 4010d21db1b0d2df3b3ab392503be4bb19073bbd
configure.args  --infodir=${prefix}/share/info --mandir=${prefix}/share/man \
		--enable-gc-hooks --enable-apply-hook \
		--enable-extra-symbol-slot \
		--enable-symbol-gc

platform darwin 8 {
	configure.env CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0 \
		CPPFLAGS=-I/opt/local/include CFLAGS=-I/opt/local/include LDFLAGS=-L/opt/local/lib
}

variant no-hooks {
	configure.args-delete --enable-gc-hooks --enable-apply-hook
	configure.args-append --disable-gc-hooks --disable-apply-hook
}

variant no-symslot {
	configure.args-delete --enable-extra-symbol-slot
	configure.args-append --disable-extra-symbol-slot
}

variant no-symgc {
	configure.args-delete --enable-symbol-gc
	configure.args-append --disable-symbol-gc
}
