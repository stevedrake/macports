# $Id$

PortSystem 1.0

name                clojure
version             20080916
categories          lang java
maintainers         cs.wm.edu:mpd
description         The Clojure programming language
long_description    Clojure is a dynamic programming language for the JVM. \
                    It is interactive, yet compiled, with a robust \
                    infrastructure for concurrency. It is a functional \
                    dialect of Lisp, with a rich set of immutable, \
                    persistent data structures and a macro system.
homepage            http://clojure.org/
platforms           darwin
master_sites        sourceforge:clojure

checksums           md5 289c08f9c8cab51615623704b65048cf \
                    sha1 9df36441c3e2568c93608218cb4f6f13cd22bc95 \
                    rmd160 aa581415707e133e656a157644b687b706e74f3d
distname            ${name}_${version}
use_zip             yes

use_configure       no
build               {}

destroot {
    set javadir ${destroot}${prefix}/share/java
    set clojuredir ${javadir}/clojure
    set clojurejar ${clojuredir}/lib/clojure.jar
    set clojurebin ${clojuredir}/bin/clj
    set bindir ${destroot}${prefix}/bin
    
    xinstall -m 0755 -d ${javadir}
    xinstall -m 0755 -d ${clojuredir}
    xinstall -m 0755 -d ${clojuredir}/lib
    xinstall -m 0755 -d ${clojuredir}/bin
    xinstall -m 0644 -W ${workpath} clojure.jar ${clojurejar}
    xinstall -m 0755 -W ${filespath} clj.sh ${clojurebin}
    ln -s ${prefix}/share/java/clojure/bin/clj ${bindir}/clj
}
