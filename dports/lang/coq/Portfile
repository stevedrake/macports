# $Id: Portfile,v 1.5 2004/10/28 22:57:32 mww Exp $
PortSystem 1.0
name		coq
version		8.0pl1
categories	lang math
maintainers	reilles@loria.fr
description	Proof assistant for higher-order logic
long_description  \
 	Coq is a proof assistant for higher-order logic,\
	which allows the development of computer programs consistent with \
	their formal specification. It is developed using Objective Caml and \
	Camlp4.  For more information, see <http://coq.inria.fr/>.
master_sites	ftp://ftp.inria.fr/INRIA/coq/V8.0pl1/

distfiles               ${name}-${version}.tar.gz:coq \
                        patch-coq-${version}-ocaml-3.08.1:coqpatch

checksums	${name}-${version}.tar.gz md5 95237e64081d7306fdea49e1988bde12 \
					patch-coq-${version}-ocaml-3.08.1 md5 02ac210c6af5d8e258a2805a22822a8b

pre-patch {
        system "cd ${workpath}/${name}-${version} && \
                patch -p0 < ${distpath}/patch-coq-${version}-ocaml-3.08.1"
}

configure.pre_args      -prefix ${prefix}
configure.args 		-emacslib ${prefix}/share/emacs/site-lisp/
depends_build 	bin:ocamlc:ocaml
build.target    world 
destroot.target	install 
destroot.destdir COQINSTALLPREFIX=${destroot} FULLMANDIR=${destroot}${prefix}/share/man/
