# $Id$

PortSystem 1.0
name		ecl
version		0.9i
categories	lang
maintainers	waqar@macports.org
description	Embeddable Common Lisp
long_description	\
	ECL (Embeddable Common Lisp) is an interpreter of the 	\
	Common Lisp language as described in the X3J13 ANSI 	\
	specification, featuring CLOS (Common Lisp Object 	\
	System), conditions, loops, etc, plus a translator to 	\
	C, which can produce standalone executables.

platforms	darwin
homepage       	http://ecls.sourceforge.net/
master_sites   	sourceforge:${name}s
extract.suffix	.tgz
checksums	md5 ea47c0a9f47c510ff4654b44b004537a		\
		sha1 52770a719ad176541ff0ef49c6921cd47ff6194c

depends_lib	port:gmp

configure.args  --with-ffi

pre-destroot	{
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/Makefile
	reinplace s|/man/man1|/share/man/man1|g \
		  ${worksrcpath}/build/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/c/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/gc/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/gmp/Makefile
	reinplace s|${prefix}|${destroot}${prefix}|g \
		  ${worksrcpath}/build/doc/Makefile
	reinplace s|/local/info|/local/share/info|g \
		  ${worksrcpath}/build/doc/Makefile
}
