# $Id: Portfile,v 1.12 2005/11/10 07:39:05 mww Exp $

PortSystem 1.0
name		        gauche
version		        0.8.6
categories	        lang scheme
maintainers	        kogule@opendarwin.org yuhei@pop21.odn.ne.jp
description	        A script interpreter based on Scheme
long_description    Gauche is a script interpreter based on Scheme.  \
                    Gauche conforms the language standard 'Revised^5 \
                    Report on the Algorithmic Language Scheme' and \
                    supports various common libraries defined in SRFIs. \
                    The goal of Gauche is to provide a handy tool for \
                    programmers and system administrators to handle \
                    daily works conveniently and efficiently in the \
                    production environment.\
                    There are lots of Scheme implementations available, \
                    and each of them has its design emphasis and \
                    weeknesses.  Gauche is designed with emphasis on \
                    Quick startup, Multibyte strings, Modular \
                    development, Integrated object system, System \
                    interface and Enhanced I/O.
homepage	        http://www.shiro.dreamhost.com/scheme/gauche/
master_sites	    sourceforge
distname	        Gauche-${version}
distfiles	        ${distname}.tgz
checksums	        md5 68398b2e6136c726bbcbd39e43ae5181
configure.args	    --mandir=${prefix}/share/man --infodir=${prefix}/share/info \
                    --with-local=${prefix} --enable-multibyte=utf-8 \
                    --with-iconv=${prefix} --with-slib=${prefix}/lib/slib \
                    --enable-threads=pthreads --enable-ipv6
depends_lib	    lib:libiconv:libiconv lib:libgdbm:gdbm lib:slib:slib
destroot.target     slibcat-in-place install-pkg install-doc
platform darwin 6 { depends_lib-append lib:libdl:dlcompat }
platform darwin 8 { configure.env CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0 }
variant euc-jp  {   configure.args-delete --enable-multibyte=utf-8
                    configure.args-append --enable-multibyte=euc-jp }
variant sjis    {   configure.args-delete --enable-multibyte=utf-8
                    configure.args-append --enable-multibyte=sjis }
variant no-multibyte {  configure.args-delete --enable-multibyte=utf-8
                        configure.args-append --enable-multibyte=no }
variant no-iconv  { depends_lib-delete lib:libiconv:libiconv
                    configure.args-delete --with-iconv=${prefix} }
variant no-gdbm   { depends_lib-delete lib:libgdbm:gdbm }
variant no-slib   { depends_lib-delete lib:slib:slib
                    configure.args-delete --with-slib=${prefix}/lib/slib }
variant no-threads   {  configure.args-delete --enable-threads=pthreads }
variant no-ipv6 {   configure.args-delete --enable-ipv6 }

