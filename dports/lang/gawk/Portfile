# $Id: Portfile,v 1.11 2005/08/29 21:20:10 toby Exp $

PortSystem 1.0
name		gawk
version		3.1.5
revision	1
categories	lang
maintainers	marius@caos.aamu.edu
platforms	darwin
master_sites	gnu
homepage	http://www.gnu.org/software/gawk/
checksums	md5 5703f72d0eea1d463f735aad8222655f
description	The GNU awk utility.
use_bzip2	yes
depends_lib	lib:libiconv:libiconv
long_description	The awk utility interprets a special-purpose programming \
			language that makes it possible to handle simple \
			data-reformatting jobs with just a few lines of code. \
			It is a free, extended version of 'awk.' 

patchfiles	patch-dfa.c patch-hard-locale.h

configure.args	--with-libiconv-prefix=${prefix} \
				--infodir=${prefix}/share/info \
				--mandir=${prefix}/share/man
configure.env	CFLAGS="-I${prefix}/include -L${prefix}/lib"

post-destroot {
	file delete ${destroot}${prefix}/bin/awk \
		${destroot}${prefix}/lib/charset.alias \
		${destroot}${prefix}/share/locale/locale.alias
}

platform darwin 6 {
	depends_lib-append lib:libdl:dlcompat
}
