# $Id: Portfile,v 1.2 2005/04/08 11:30:46 mww Exp $

PortSystem 1.0

name			gcc33
version			3.3.5
revision		1
platforms		darwin
categories		lang
maintainers		darwinports@opendarwin.org
description		The GNU compiler collection
long_description	${description}

homepage		http://gcc.gnu.org/
master_sites    gnu:/gcc/gcc-${version}
distname		gcc-${version}
checksums		md5 70ee088b498741bb08c779f9617df3a5
use_bzip2		yes

worksrcdir		build

pre-configure {
	file mkdir ${worksrcpath}
}

configure.cmd	${workpath}/gcc-${version}/configure
configure.args	--enable-languages=c,c++,f77,objc \
				--libdir=${prefix}/lib/gcc-${version} \
				--infodir=${prefix}/share/info \
				--mandir=${prefix}/share/man \
				--with-system-zlib \
				--disable-nls \
				--program-suffix=-${version} \
				--with-gxx-include-dir=${prefix}/include/gcc-${version}/c++/${version}

build.target	bootstrap-lean

post-destroot {
	cd ${destroot}${prefix}
	file delete -force share/man/man7
	file delete -force share/info
	file rename share/man/man1/cpp.1 share/man/man1/cpp-${version}.1
	file rename share/man/man1/gcov.1 share/man/man1/gcov-${version}.1
}
