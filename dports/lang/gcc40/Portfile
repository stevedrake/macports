# $Id: Portfile,v 1.3 2005/04/18 16:56:01 mww Exp $

PortSystem 1.0

name			gcc40
version			4.0.0-20050410
platforms		darwin
categories		lang
maintainers		mww@opendarwin.org
description		The GNU compiler collection, beta version
long_description	${description}

homepage		http://gcc.gnu.org/
master_sites    ftp://ftp.gwdg.de/pub/linux/gcc/prerelease-${version}/

distname		gcc-${version}
checksums		md5 db9b31ff0532b1336ce71a1c3a3e8139
use_bzip2		yes

worksrcdir		build

pre-configure {
	file mkdir ${worksrcpath}
}

configure.cmd	${workpath}/gcc-${version}/configure
configure.args	--enable-languages=c,objc \
				--libdir=${prefix}/lib/${name} \
				--infodir=${prefix}/share/info \
				--mandir=${prefix}/share/man \
				--with-local-prefix=${prefix} \
				--with-system-zlib \
				--disable-nls \
				--program-suffix=40 \
				--with-gxx-include-dir=${prefix}/include/${name}/c++/

build.target	bootstrap-lean

post-destroot {
	cd ${destroot}${prefix}
	file delete -force share/man/man7
	file delete -force share/info
}
