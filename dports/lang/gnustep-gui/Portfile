# $Id: Portfile,v 1.2 2006/03/28 04:10:06 yves Exp $

PortSystem   1.0
name        gnustep-gui
version     0.10.3
platforms   darwin
categories  lang gnustep devel cross
maintainers yves@opendarwin.org
homepage    http://www.gnustep.org/

description  A library of graphical user interface Objective C classes
long_description \
    The GNUstep gui library is a library of graphical user interface classes \
    written completely in the Objective-C language. The classes are based \
    upon the OpenStep specification as release by NeXT Software, Inc.  These \
    classes include graphical objects such as buttons, text fields, popup \
    lists, browser lists, and windows. There are also many associated \
    classes for handling events, colors, fonts, pasteboards and images.

master_sites  http://ftp.easynet.nl/mirror/GNUstep/pub/gnustep/core/ \
              ftp://ftp.easynet.nl/mirror/GNUstep/pub/gnustep/core/ \
              http://www.peanuts.org/peanuts/Mirrors/GNUstep/gnustep/core/ \
              http://ftpmain.gnustep.org/pub/gnustep/core/ \
              ftp://ftp.gnustep.org/pub/gnustep/core/ \
              http://archive.progeny.com/gnustep/core/ \
              ftp://archive.progeny.com/gnustep/core/
checksums     md5 ce015fcf9c6ff421e723811275f5a5c6
depends_lib   port:aspell port:gnustep-base port:jpeg port:tiff

configure.args  --disable-gsnd \
                --with-jpeg-library=${prefix}/lib \
                --with-jpeg-include=${prefix}/include \
                CC=gcc-dp-4.1
configure {
    system ". ${prefix}/GNUstep/System/Library/Makefiles/GNUstep.sh &&
        cd ${worksrcpath} &&
        ./configure ${configure.pre_args} ${configure.args}"
}

build.args    messages=yes
build {
    system ". ${prefix}/GNUstep/System/Library/Makefiles/GNUstep.sh &&
        cd ${worksrcpath} &&
        ${build.cmd} ${build.args}"
}

destroot.args messages=yes \
              GNUSTEP_INSTALLATION_DIR=${destroot}${prefix}/GNUstep/System
destroot {
    system ". ${prefix}/GNUstep/System/Library/Makefiles/GNUstep.sh &&
        cd ${worksrcpath} &&
        ${destroot.cmd} ${destroot.target} ${destroot.args}"
}
