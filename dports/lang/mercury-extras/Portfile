# $Id: Portfile,v 1.1 2004/08/13 21:46:22 gwright Exp $

PortSystem 1.0
name		mercury-extras
version		0.11.1-beta
categories	lang
maintainers	gwright@opendarwin.org
platforms	darwin
description	Extra packages for the Mercury Programming Language
long_description	\
		Mercury is a new logic/functional programming	\
		language, which combines the clarity and	\
		expressiveness of declarative programming with	\
		advanced static analysis and error detection	\
		features. Its highly optimized execution	\
		algorithm delivers efficiency far in excess of	\
		existing logic programming systems, and close	\
		to conventional programming systems. Mercury	\
		addresses the problems of large-scale program	\
		development, allowing modularity, separate	\
		compilation, and numerous optimization/time	\
		trade-offs.

homepage	http://www.cs.mu.oz.au/research/mercury/
master_sites	${homepage}/download/files/beta-releases/${version}/

distfiles	${name}-${version}-2004-06-30${extract.suffix}

checksums	${name}-${version}-2004-06-30${extract.suffix} md5  2124c96e8655246693b503f8a989adb3

depends_build	bin:mmc:mercury

post-extract	{ file rename \
			${workpath}/${name}-${version}-2004-06-30 \
			${workpath}/${name}-${version}
		}

patchfiles	patch-posix.m		\
		patch-posix.open.m	\
		patch-scoped_update.m

use_configure	no

build		{ cd ${worksrcpath}
		  system "mmake depend && mmake"
		}

destroot	{ cd ${worksrcpath}
		  system "mmake INSTALL_PREFIX=${destroot}${prefix} install"
		}

