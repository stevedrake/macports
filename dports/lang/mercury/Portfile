# $Id: Portfile,v 1.1 2004/08/13 21:46:22 gwright Exp $

PortSystem 1.0
name		mercury
version		0.11.1-beta
categories	lang
maintainers	gwright@opendarwin.org
platforms	darwin
description	The Mercury Programming Language
long_description	\
		Mercury is a new logic/functional programming	\
		language, which combines the clarity and	\
		expressiveness of declarative programming with	\
		advanced static analysis and error detection	\
		features. Its highly optimized execution	\
		algorithm delivers efficiency far in excess of	\
		existing logic programming systems, and close	\
		to conventional programming systems. Mercury	\
		addresses the problems of large-scale program	\
		development, allowing modularity, separate	\
		compilation, and numerous optimization/time	\
		trade-offs.

homepage	http://www.cs.mu.oz.au/research/${name}/
master_sites	${homepage}/download/files/beta-releases/${version}/

distfiles	${name}-compiler-${version}-2004-06-30${extract.suffix}

checksums	${name}-compiler-${version}-2004-06-30${extract.suffix} md5 38b9e9437d0b40a80117af0c1cc44daf

post-extract	{ file rename \
			${workpath}/${name}-compiler-${version}-2004-06-30 \
			${workpath}/${name}-${version}
		}

configure.args	--prefix=${destroot}/${prefix} \
		--mandir=${destroot}/${prefix}/share/man \
		--infodir=${destroot}/${prefix}/share/info

post-destroot	{ reinplace "s|${destroot}/${prefix}|${prefix}|g" \
			${destroot}/${prefix}/bin/c2init
		  reinplace "s|${destroot}/${prefix}|${prefix}|g" \
			${destroot}/${prefix}/bin/mdb
		  reinplace "s|${destroot}/${prefix}|${prefix}|g" \
			${destroot}/${prefix}/bin/mgnuc
		  reinplace "s|${destroot}/${prefix}|${prefix}|g" \
			${destroot}/${prefix}/bin/ml
		  reinplace "s|${destroot}/${prefix}|${prefix}|g" \
			${destroot}/${prefix}/bin/mmake
		  reinplace "s|${destroot}/${prefix}|${prefix}|g" \
			${destroot}/${prefix}/bin/mmc
		  reinplace "s|${destroot}/${prefix}|${prefix}|g" \
			${destroot}/${prefix}/bin/mprof
		}

