--- configure.in.orig	2012-02-06 15:10:15.000000000 -0800
+++ configure.in	2012-02-06 15:10:10.000000000 -0800
@@ -2684,9 +2684,9 @@
 fi
 if test "${ARCH_FLAG}"; then
     archflagpat=`eval echo '"'"${ARCH_FLAG}"'"' | sed 's/[[][|.*]]/\\&/g'`
-    CFLAGS=`echo "$CFLAGS" | sed "s|$archflagpat"'|$(ARCH_FLAG)|'`
-    CXXFLAGS=`echo "$CXXFLAGS" | sed "s|$archflagpat"'|$(ARCH_FLAG)|'`
-    LDFLAGS=`echo "$LDFLAGS" | sed "s|$archflagpat"'|$(ARCH_FLAG)|'`
+    CFLAGS=`echo "$CFLAGS" | sed "s|$archflagpat"'| $(ARCH_FLAG)|'`
+    CXXFLAGS=`echo "$CXXFLAGS" | sed "s|$archflagpat"'| $(ARCH_FLAG)|'`
+    LDFLAGS=`echo "$LDFLAGS" | sed "s|$archflagpat"'| $(ARCH_FLAG)|'`
 fi
 warnflags="$rb_cv_warnflags"
 AC_SUBST(cppflags, [])dnl
