# $Id: Portfile,v 1.2 2006/02/01 09:37:53 mww Exp $

PortSystem 1.0

name			sketchy
version			20060121
categories		lang scheme
platforms		darwin
maintainers		mww@opendarwin.org
description		interpreter for a purely applicative dialect of Scheme
long_description	Sketchy is an interpreter for a purely applicative dialect \
			of Scheme. It may be considered an implementation of pure LISP \
			plus global definitions, first-class continuations, and \
			input/output functions.

homepage		http://www.t3x.org/sketchy/
master_sites	http://www.t3x.org/sketchy/
checksums		sha1 713fe36192b97815ec29ed68c3ee96769d44dba5
patchfiles		patch-Makefile

use_configure	no

build.args		PREFIX=${prefix}

destroot.destdir	PREFIX=${destroot}${prefix} BINOWN=`id -u` BINGRP=`id -g`
post-destroot {
	reinplace "s|image=\.*|image=\"${prefix}/share/sketchy/sketchy.image\"|g" \
		${destroot}${prefix}/bin/sk
}

platform darwin 8 { build.args-append CC=/usr/bin/gcc-4.0 }

