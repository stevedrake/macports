# $Id$

PortSystem 1.0

name          tcl
version       8.5.1
# Tk (x11/tk) port depends on this version
categories    lang
maintainers   mww openmaintainer
platforms     darwin freebsd
description   Tool Command Language
long_description \
  Tcl (Tool Command Language) is a very powerful but easy to learn dynamic \
  programming language, suitable for a very wide range of uses, including web \
  and desktop applications, networking, administration, testing and many more. \
  Open source and business-friendly, Tcl is a mature yet evolving language \
  that is truly cross platform, easily deployed and highly extensible.

homepage      http://www.tcl.tk/
master_sites  sourceforge

checksums \
  md5 1b5f9a043f53c5828dcde3684e3264d5 \
  sha1 53d64b0a65e7dd231c79297ebc79608780bb7eea \
  rmd160 c90bfa5b1bbc7dc54429e4fe18b6f77a9ad1c18b

dist_subdir     tcltk
distname        ${name}${version}-src
worksrcdir      ${name}${version}/unix
configure.args  --mandir=${prefix}/share/man
configure.cppflags
configure.ldflags

destroot.destdir  INSTALL_ROOT=${destroot}
post-destroot {
    ln -s ${prefix}/bin/tclsh8.5 ${destroot}${prefix}/bin/tclsh
    ln -s ${prefix}/lib/libtcl8.5.dylib ${destroot}${prefix}/lib/libtcl.dylib
}

# Files with failing tests: socket.test
test.run      yes

livecheck.check	freshmeat
livecheck.name	tcltk
