# $Id: Portfile,v 1.1 2006/05/06 20:32:52 markd Exp $
PortSystem      1.0

name                    tclx
version                 8.4
categories              lang
maintainers             markd@opendarwin.org
description             API for parsing XML documents using Tcl
long_description        ${description}
homepage                http://tclx.sourceforge.net/
platforms               darwin
distname                ${name}${version}
master_sites            sourceforge
checksums               md5 395c2fbe35e1723570b005161b9fc8f8
use_bzip2		yes

depends_lib             port:tcl \
			port:tk

configure.env           CPPFLAGS="-L${prefix}/lib" \
                        CFLAGS="-I${prefix}/include" \
                        LDFLAGS="-L${prefix}/lib"

configure.args		--enable-shared \
			--with-help=Help \
			--with-tcl=${prefix}/lib \
			--with-tk=${prefix}/lib

destroot.target		install-binaries install-libraries

post-extract {
# Private headers from Tcl 8.4.12
	file copy -force ${filespath}/tclInt.h ${worksrcpath}/generic
	file copy -force ${filespath}/tclIntDecls.h ${worksrcpath}/generic
	file copy -force ${filespath}/tclIntPlatDecls.h ${worksrcpath}/generic
	file copy -force ${filespath}/tclUnixPort.h ${worksrcpath}/unix
}
