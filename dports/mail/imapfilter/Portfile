# $Id$

PortSystem 1.0

name                imapfilter
version             2.1.2
categories          mail
platforms           darwin
maintainers         mww
license             BSD
description         IMAP message processor/filter
long_description    IMAPFilter connects to remote IMAP mail servers and \
                    processes messages according to defined filters (rules). \
                    It is intended to be executed before a user accesses \
                    his/her mailboxes.

homepage            http://imapfilter.hellug.gr/
master_sites        ${homepage}/source/
checksums           md5     5b5c1e116df52b2d363e36cc86965bd2 \
                    sha1    9744c070de7948adc92da7540b0b96246afbcc2a \
                    rmd160  1644af005a7c68400c884b73967b2bc1e9cd9a14

use_bzip2           yes

depends_lib         port:lua port:openssl port:pcre

configure.pre_args  -d ${prefix} -m ${prefix}/share/man

build.args          CC="${configure.cc} ${configure.cflags}" \
                    INCDIRS="${configure.cppflags}" \
                    LIBDIRS="${configure.ldflags}"

livecheck.type      regex
livecheck.url       ${homepage}
livecheck.regex     imapfilter-(\[0-9\\.\]+\[0-9\])

variant universal {
    configure.cflags-append    "${configure.universal_cflags}"
    configure.cppflags-append    "${configure.universal_cppflags}"
    configure.ldflags-append    "${configure.universal_ldflags}"
}

