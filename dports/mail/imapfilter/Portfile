# $Id$

PortSystem 1.0

name                imapfilter
version             2.2
categories          mail
platforms           darwin
maintainers         mww
license             BSD
description         IMAP message processor/filter
long_description    IMAPFilter connects to remote IMAP mail servers and \
                    processes messages according to defined filters (rules). \
                    It is intended to be executed before a user accesses \
                    his/her mailboxes.

homepage            http://imapfilter.hellug.gr/
master_sites        ${homepage}/source/
checksums           md5     ed50044f18c1d175ea22700e72363bab \
                    sha1    f246b1daf8a6d9efbe7d04ceb9908b7ab1145caf \
                    rmd160  7d5ac673fadc36923a32855158fe8baf3ebeb984

use_bzip2           yes

depends_lib         port:lua port:openssl port:pcre

configure.pre_args  -d ${prefix} -m ${prefix}/share/man

build.args          CC="${configure.cc} ${configure.cflags}" \
                    INCDIRS="${configure.cppflags}" \
                    LIBDIRS="${configure.ldflags}"

livecheck.type      regex
livecheck.url       ${homepage}
livecheck.regex     imapfilter-(\[0-9\\.\]+\[0-9\])

variant universal {
    configure.cflags-append    "${configure.universal_cflags}"
    configure.cppflags-append    "${configure.universal_cppflags}"
    configure.ldflags-append    "${configure.universal_ldflags}"
}

