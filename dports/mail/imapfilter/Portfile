# $Id$

PortSystem 1.0

name                imapfilter
version             2.2.1
categories          mail
platforms           darwin
maintainers         mww
license             BSD
description         IMAP message processor/filter
long_description    IMAPFilter connects to remote IMAP mail servers and \
                    processes messages according to defined filters (rules). \
                    It is intended to be executed before a user accesses \
                    his/her mailboxes.

homepage            http://imapfilter.hellug.gr/
master_sites        ${homepage}/source/
checksums           md5     fd328b5c68dc2b3fc12b5655700b37fb \
                    sha1    f02d9693c087b4c475e599ca9718419dcd11aed1 \
                    rmd160  daf4cb90ea35dc773d3e998a1a266be3c9a433b1

use_bzip2           yes

depends_lib         port:lua port:openssl port:pcre

configure.pre_args  -d ${prefix} -m ${prefix}/share/man

build.args          CC="${configure.cc} ${configure.cflags}" \
                    INCDIRS="${configure.cppflags}" \
                    LIBDIRS="${configure.ldflags}"

livecheck.type      regex
livecheck.url       ${homepage}
livecheck.regex     imapfilter-(\[0-9\\.\]+\[0-9\])

variant universal {
    configure.cflags-append    "${configure.universal_cflags}"
    configure.cppflags-append    "${configure.universal_cppflags}"
    configure.ldflags-append    "${configure.universal_ldflags}"
}

