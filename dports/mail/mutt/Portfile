# $Id$

PortSystem 1.0

name		mutt
version		1.5.17
categories	mail
maintainers	danielbond.org:ports
description	Mongrel of Mail User Agents (part Elm, Pine, Mush, mh, etc)
homepage	http://www.mutt.org/
platforms	darwin linux

long_description Mutt -- "The Mongrel of Mail User Agents" (part Elm, part \
		 Pine, part mh, part slrn, part everything else) is an \
		 interactive screen-oriented mailer program that supersedes \
		 Elm, Pine, mail and mailx.  Features include color support, \
		 message threading, MIME support (including RFC1522 support \
		 for encoded headers), customizable key bindings, POP3, \
		 Delivery Status Notification (DSN) support, and PGP/MIME.

master_sites	sourceforge:mutt
patch_sites	http://mutt.ua.org/download/mutt/mutt-1.5.17/
checksums       ${distfiles} \
                    md5 49387458be0cb52b85ae0d73af699aae \
                    sha1 6b51745fc4baf463adde53e91efb2a6c7eec8492

worksrcdir	${name}-${version}

patch.args	-p1
configure.args	--disable-warnings \
		--mandir='\${prefix}/share/man' \
		--with-docdir='\${prefix}/share/doc/mutt'

platform darwin {
    configure.args-append	--with-libiconv-prefix=${prefix}
    depends_lib			port:gettext
}

platform linux {
    configure.cflags	-I/usr/kerberos/include
}

variant pop	{ configure.args-append --enable-pop }
variant imap	{ configure.args-append --enable-imap }
variant ssl	{ configure.args-append --with-ssl }
variant debug	{ configure.args-append --enable-debug }
variant imap_headercache requires imap { configure.args-append	--enable-hcache }

# use file size attribute instead of access time
variant buffy { configure.args-append --enable-buffy-size }

variant compress {
  configure.args-append		--enable-compressed
  patchfiles-append		patch-1.5.17.rr.compressed.1.gz
  checksums-append		patch-1.5.17.rr.compressed.1.gz sha1 \
				1f28b1a270871332a0c4dbaf11dd7132431b98db
}

variant nntp {
  configure.args-append		--enable-nntp
  patchfiles-append		patch-1.5.17.vvv.nntp.gz
  checksums-append		patch-1.5.17.vvv.nntp.gz sha1 \
				89213b7969197ca5ffe4c86f0cfb199e7e0d7432
}
