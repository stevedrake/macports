# $Id: Portfile,v 1.7 2005/04/05 09:32:40 mww Exp $

PortSystem 1.0

name			putmail
version			0.12
categories		mail
platforms		darwin
maintainers		mww@opendarwin.org
description		putmail is a very lightweight MTA
long_description	putmail is a very lightweight MTA that was designed to \
				replace the sendmail command in certain situations. It \
				supports several configurations, SMTP authentication, TLS and \
				should work with Mutt, nail, mail, and other similar programs.

homepage		http://sourceforge.net/projects/putmail/
master_sites	sourceforge
distname		${name}.py-${version}
checksums		md5 a101c527b2b40c415e26527bd344c819
use_bzip2		yes
patchfiles		patch-install.sh

depends_run		bin:python:python24

configure {
	cd ${worksrcpath}
	reinplace "s|__PREFIX__|${destroot}${prefix}|g" install.sh
	reinplace "s| /usr/bin/python|/usr/bin/env python|g" putmail.py
}

build		{}

destroot {
	system "cd ${worksrcpath} && sh install.sh"
	file rename ${destroot}${prefix}/bin/putmail.py \
		${destroot}${prefix}/bin/putmail
}
