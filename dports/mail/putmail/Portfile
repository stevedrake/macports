# $Id: Portfile,v 1.4 2005/03/09 22:37:26 mww Exp $

PortSystem 1.0

name			putmail
version			0.9
categories		mail
platforms		darwin
maintainers		mww@opendarwin.org
description		putmail is a very lightweight MTA
long_description	putmail is a very lightweight MTA that was designed to \
				replace the sendmail command in certain situations. It \
				supports several configurations, SMTP authentication, TLS and \
				should work with Mutt, nail, mail, and other similar programs.

homepage		http://sourceforge.net/projects/putmail/
master_sites	sourceforge
distname		${name}.py-${version}
checksums		md5 d43e41d8903370c976d0bf81836a2c08
use_bzip2		yes
patchfiles		patch-install.sh

depends_run		bin:python:python24

configure	{
	cd ${worksrcpath}
	reinplace "s|__PREFIX__|${destroot}${prefix}|g" install.sh
	reinplace "s| /usr/bin/python|/usr/bin/env python|g" putmail.py
}

build		{}

destroot	{
	system "cd ${worksrcpath} && sh install.sh"
	system "cd ${destroot}${prefix}/bin && ln -s putmail.py putmail"
}
