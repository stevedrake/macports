# $Id$

PortSystem 1.0
name              spambnc
version           1.9
categories        mail
description       Set of procmail recipies which handle known/suspected spam
maintainers       andrea+darwinports@webcom.it
long_description  The Spam Bouncer is a set of procmail recipes, or instructions, which \
                  search the headers and text of your incoming email to see if it meets \
                  one or more of several categories (known addresses, rogue ISPs, bulk \
                  mail software etc etc).\
                  \
                  The Spam Bouncer sorts suspected spam into two categories -- mail from \
                  known spam sources which is definitely spam, and other mail which is \
                  probably spam, but might also be legitimate. It then tags this email \
                  with appropriate headers giving the spam classification, and responds \
                  according to the parameters you have set.
homepage          http://www.spambouncer.org/
platforms         darwin

master_sites      ${homepage} ftp://ftp.spambouncer.org/
distname          sb
checksums         md5 e6b2c0be71ac2fc3a0dfa76909f85491
dist_subdir       ${portname}/${version}

depends_run       bin:procmail:procmail

worksrcdir        ${portname}

patchfiles        patch-procmail.rc

pre-extract       {
                  file mkdir ${worksrcpath}
}
extract.dir       ${worksrcpath}

configure         {}
build             {}

destroot          {
                  system "cp -pr ${workpath}/${portname} \
                    ${destroot}${prefix}/share/${portname} "
                  reinplace "s=%%SBDIR%%=${prefix}/share/${portname}=" \
                    ${destroot}${prefix}/share/${portname}/procmail.rc
                  xinstall -m 755 -d ${destroot}${prefix}/share/doc/${portname}
                  xinstall -m 644 -c ${filespath}/index.shtml \
                    ${destroot}${prefix}/share/doc/${portname}/documentation.html
}
