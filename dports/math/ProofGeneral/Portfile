# $Id$

PortSystem        1.0

name              ProofGeneral
version           3.7pre071112
categories        math
maintainers       mww
description       A xemacs mode for interactive prooving
long_description  The aim of Proof General is to provide powerful \
                  and configurable interfaces which help user-interaction \
                  with proof assistants. Proof General targets power users \
                  rather than novices, but is designed to be useful to \
                  both. Proof General leads to an environment for \
                  serious proof engineering of interactively-constructed \
                  proofs.
homepage          http://proofgeneral.inf.ed.ac.uk/
master_sites      ${homepage}/releases/
checksums         sha1 bdbc3ff0856894b2c9c72855cb7c4a845e4177ea
patchfiles        patch-bin-proofgeneral

depends_build     port:texinfo
depends_lib       port:xemacs port:isabelle

configure {
    reinplace "s|^DEST_PREFIX=.*|DEST_PREFIX=${prefix}|g" ${worksrcpath}/Makefile
    reinplace "s|^PREFIX=.*|PREFIX=${destroot}${prefix}|g" ${worksrcpath}/Makefile
    reinplace "s|^EMACS=.*|EMACS=xemacs|g" ${worksrcpath}/Makefile
    reinplace "s|/sbin/install-info|${prefix}/bin/install-info|g" ${worksrcpath}/Makefile
    reinplace "s|@EMACS@|${prefix}/bin/xemacs|g" ${worksrcpath}/bin/proofgeneral
}

build.target      clean all

destroot.target   install install-doc
destroot.destdir

