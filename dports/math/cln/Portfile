# $Id: Portfile,v 1.4 2004/08/26 02:41:38 gwright Exp $

PortSystem 1.0
name		cln
version		1.1.8
revision	0
categories	math
platforms	darwin
maintainers	gwright@opendarwin.org
description	Class Library for Numbers
long_description	\
		CLN is a C++ library providing a rich library of 	\
		numeric functions.

use_bzip2	yes

homepage	http://www.ginac.de/CLN/
master_sites	ftp://ftpthep.physik.uni-mainz.de/pub/gnu/

checksums	md5 490dd0697b3d16b2ba6a843829228cba

depends_lib	lib:libgmp:gmp

patchfiles	patch-modules.h

configure.args	--with-gmp --infodir=${prefix}/share/info

configure.env	CC="g++"				\
		CXX="g++"				\
		LDFLAGS="-lstdc++ -L${prefix}/lib"	\
		CPPFLAGS="-I${prefix}/include"		\
		CFLAGS="-O2 -fno-exceptions -finline-limit=1000 -I${prefix}/include"		\
		CXXFLAGS="-O2 -fno-exceptions -finline-limit=1000 -I${prefix}/include -L${prefix}/lib"

build		{ cd ${worksrcpath}
		  system "LDFLAGS=\"-lstdc++ -Wl,-read_only_relocs,warning -L${prefix}/lib\" make all"
		  system "make check"
		}

