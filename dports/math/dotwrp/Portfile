# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem      1.0

name            dotwrp
version         1.0
categories      math science
platforms       darwin
maintainers     takeshi
description     A wrapper for *dot* functions in Accelerate framework
long_description \
    This is a wrapper for four Level 1 BLAS functions \
    CDOTC CDOTU ZDOTC and ZDOTU in Accelerate.framework \
    of Mac OS X.
homepage        https://github.com/tenomoto/dotwrp
fetch.type      git
git.url         git://github.com/tenomoto/dotwrp.git
git.branch      b8c686ef5e995e4a348e

use_configure   no

depends_build   port:g95

set fc ${prefix}/bin/g95
set fflags "${configure.fflags} -fno-underscoring"
build {
    system "cd ${worksrcpath};
        ${fc} ${fflags} -c ${name}.f90;
        /usr/bin/ar -cru lib${name}.a ${name}.o;
        /usr/bin/ranlib lib${name}.a"
}

destroot {
    xinstall -m 644 ${worksrcpath}/lib${name}.a ${destroot}${prefix}/lib
}
