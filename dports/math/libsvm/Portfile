# $Id$

PortSystem 1.0

name			libsvm
version			2.85

categories		math
maintainers		florian.ebeling@gmail.com
platforms		darwin
description		A free Support Vector Machine implementation.
long_description	${description} By Chih-Chung Chang and Chih-Jen Lin of National Taiwan University. \"LIBSVM is an integrated software for support vector classification, (C-SVC, nu-SVC), regression (epsilon-SVR, nu-SVR) and distribution estimation (one-class SVM ). It supports multi-class classification.\"
 
homepage		http://www.csie.ntu.edu.tw/~cjlin/libsvm/
master_sites	        ${homepage}

checksums		md5 c839d919cc6fa7b5ad86ea37b7cebcc3 \
                        sha1 2786cb58027992772ac261f3ae9389eab360ed93 \
                        rmd160 7e6dc8059280ced1bc2c436f81c4805ed15d53ad
patchfiles              patch-Makefile.diff

use_configure	        no

set libver              ${version}.0
build.target            all
build.args              PREFIX=${prefix} VERSION=${libver}

destroot {
    xinstall -m 755 ${worksrcpath}/svm-train ${destroot}${prefix}/bin
    xinstall -m 755 ${worksrcpath}/svm-predict ${destroot}${prefix}/bin
    xinstall -m 755 ${worksrcpath}/svm-scale ${destroot}${prefix}/bin
    xinstall -m 644 ${worksrcpath}/libsvm.a ${destroot}${prefix}/lib
    xinstall -m 644 ${worksrcpath}/svm.h ${destroot}${prefix}/include
    xinstall -m 644 ${worksrcpath}/libsvm.${libver}.dylib ${destroot}${prefix}/lib

    ln -sf ${destroot}${prefix}/lib/${name}.${libver}.dylib \
                   ${destroot}${prefix}/lib/${name}.dylib

    set docs ${destroot}${prefix}/share/doc/${name}
    xinstall -m 755 -d ${docs}
    xinstall -m 644 ${worksrcpath}/COPYRIGHT ${docs}
    xinstall -m 644 ${worksrcpath}/README ${docs}
    xinstall -m 644 ${worksrcpath}/FAQ.html ${docs}
}

