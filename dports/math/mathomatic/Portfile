# $Id: Portfile,v 1.49 2006/01/20 15:31:56 mww Exp $

PortSystem 1.0

name			mathomatic
version			12.5.6
categories		math
platforms		darwin
maintainers		mww@opendarwin.org
description		small, portable symbolic math program
long_description	Mathomatic is a small, portable symbolic math program \
				that can automatically solve, simplify, differentiate, \
				combine, and compare algebraic equations, perform \
				polynomial and complex arithmetic, etc.

homepage		http://www.mathomatic.com/
master_sites	http://www.panix.com/~gesslein/
checksums		md5 54347616d1af96eccdd6a62e5fae2b9f
use_bzip2		yes

depends_lib		port:readline

patch {
	reinplace "s|mathomatic-\$(VERSION)|mathomatic|g" ${worksrcpath}/makefile
}

use_configure	no

build.env		READLINE=1 CFLAGS=-I${prefix}/include LDFLAGS=-L${prefix}/lib

test.run		yes

destroot.destdir	prefix=${destroot}${prefix} mandir=${destroot}${prefix}/share/man docdir=${destroot}${prefix}/share/doc

platform darwin 8 {
	build.args	CC=/usr/bin/gcc-4.0
}

