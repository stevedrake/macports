# $Id: Portfile,v 1.1 2005/11/20 02:17:43 mww Exp $

PortSystem 1.0

name			metis
version			4.0
categories		math
platforms		darwin
maintainers		mww@opendarwin.org
description		A package for unstructured graph partitioning
long_description	\
METIS is a set of programs for partitioning graphs and for producing fill \
reducing orderings for sparse matrices. The algorithms implemented by METIS \
are based on the multilevel graph partitioning scheme described in \[KK95a\] \
and \[KK95e\]. METIS provides high quality partitions, is extremely fast, and \
produces low fill orderings.

homepage		http://www-users.cs.umn.edu/~karypis/metis/metis/
master_sites	http://www-users.cs.umn.edu/~karypis/metis/metis/files/
checksums		md5 0aa546419ff7ef50bd86ce1ec7f727c7

use_configure	no

build.target

destroot {
	xinstall -m 755 -d ${destroot}${prefix}/include/metis \
		${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} graphchk kmetis mesh2dual mesh2nodal \
		oemetis onmetis partdmesh partnmesh pmetis ${destroot}${prefix}/bin
	xinstall -W ${worksrcpath}/Lib defs.h macros.h metis.h proto.h rename.h \
		struct.h ${destroot}${prefix}/include/metis
	xinstall -m 644 ${worksrcpath}/libmetis.a ${destroot}${prefix}/lib
	xinstall -m 644 ${worksrcpath}/Doc/manual.ps \
		${destroot}${prefix}/share/doc/${name}
}

platform darwin 8 { build.args CC=/usr/bin/gcc-4.0 }

