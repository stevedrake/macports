# $Id$

PortSystem 1.0

name                minisat
version             2.2.0
categories          math science
platforms           darwin
maintainers         mww openmaintainer
homepage            http://minisat.se/
license             MIT
description         Minimalistic SAT solver
long_description    MiniSat is a minimalistic, open-source SAT solver, \
                    developed to help researchers and developers alike to get \
                    started on SAT.

master_sites        http://minisat.se/downloads/
patchfiles          patch-mtl-template.mk.diff patch-utils-System.cc.diff

checksums           md5     99a2eaabe528cd366100e4bc0327d22e \
                    sha1    dfc25898bf40e00cf04252a42176e0c0600fbc90 \
                    rmd160  169ec9116befa9067db9076d26309f7e9ab408dd

depends_build       port:gmake
depends_lib         port:zlib

worksrcdir          minisat

use_configure       no

build {
    system -W ${worksrcpath}/simp "MROOT=${worksrcpath} ${prefix}/bin/gmake rs CXX=\"${configure.cxx} ${configure.ldflags} ${configure.cppflags} ${configure.cxxflags}\""
}

destroot {
    xinstall -m 755 -d ${destroot}${prefix}/bin \
        ${destroot}${prefix}/share/doc/${name}
    xinstall -m 755 ${worksrcpath}/simp/minisat_static ${destroot}${prefix}/bin/minisat
    xinstall -m 644 -W ${worksrcpath} README LICENSE doc/ReleaseNotes-2.2.0.txt \
        ${destroot}${prefix}/share/doc/${name}
}

