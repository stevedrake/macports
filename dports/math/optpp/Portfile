# $Id$

PortSystem 1.0

name		optpp
version		2.4
categories	math
maintainers	mmoll@cs.rice.edu

description	C++ library for non-linear optimization
long_description	\
	OPT++ is a C++ library for non-linear optimization. 

homepage	http://csmr.ca.sandia.gov/projects/opt++/
distname	optpp-${version}
master_sites	${homepage}
extract.suffix .tar.gz
checksums	md5 7bd39f389c19ef16c3f62bc6ffa06234

patchfiles patch-acx_blas.m4
use_autoconf yes
configure.env LDFLAGS="-framework vecLib"
configure.args --includedir=${prefix}/include/OPT++ --with-blas

variant mpi {
	configure.args-append --enable-mpi
	configure.env-append MPICC=${prefix}/lib/openmpi/bin/mpicc \
		  		 MPICXX=${prefix}/lib/openmpi/bin/mpic++ \
				 MPILIBS='-L${prefix}/lib'
	depends_lib port:openmpi
}
