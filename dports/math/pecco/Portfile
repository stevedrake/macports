# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                pecco
version             20110829
categories          math
platforms           darwin
maintainers         hum openmaintainer
license             GPL-2

homepage            http://www.tkl.iis.u-tokyo.ac.jp/~ynaga/pecco/
description         simple C++ library for linear classification with conjunctive features
long_description    ${name} is a ${description}.

master_sites        ${homepage}
checksums           sha1    227921d0b70d02a20e8202be06af377eaf23a33c \
                    rmd160  27d609eda4fcc200d89dac976924bfa5faad4ad5

depends_lib         port:darts

worksrcdir          ${name}
use_bzip2           yes

# use darts instead of darts_clone
patchfiles          patch-pecco_conf.h.diff

use_configure       no

variant universal {}
if {[variant_isset universal]} {
    set archflags ${configure.universal_cxxflags}
} else {
    set archflags ${configure.cxx_archflags}
}

build.args          CC="${configure.cxx}" \
                    INCLUDE="${configure.cppflags}" \
                    CFLAGS="${configure.cxxflags} ${archflags}"

destroot {
    xinstall -m 755 -W ${worksrcpath} ${name} ${destroot}${prefix}/bin
    file mkdir ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 -W ${worksrcpath} COPYING GPL README \
                       ${destroot}${prefix}/share/doc/${name}
}

livecheck.type      none
