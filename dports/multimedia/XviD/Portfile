# $Id: Portfile,v 1.6 2004/09/03 04:07:16 blb Exp $

PortSystem			1.0
name				XviD
version				1.0.2
categories			multimedia
maintainers			blb@pobox.com
description			High performance and high quality MPEG-4 video library
long_description 	${description}

platforms			darwin sunos

homepage			http://www.xvid.org/
master_sites		http://files.xvid.org/downloads/
distname			xvidcore-${portversion}
use_bzip2			yes
checksums			md5 e8ffc32146991fcff286ccdcd6a16a49

worksrcdir			${distname}/build/generic

patchfiles			patch-build_generic_Makefile \
					patch-build_generic_configure

post-destroot {
	if {[variant_isset darwin]} {
		system "ln -s libxvidcore.4.dylib \
			${destroot}/${prefix}/lib/libxvidcore.dylib"
		system "ranlib ${destroot}/${prefix}/lib/libxvidcore.a"
	} else {
		system "ln -s libxvidcore.so.4.0 \
			${destroot}/${prefix}/lib/libxvidcore.so.4"
		system "ln -s libxvidcore.so.4.0 \
			${destroot}/${prefix}/lib/libxvidcore.so"
	}
}

# A simple placeholder, since it won't be set otherwise
variant darwin {
}

