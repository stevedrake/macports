# $Id$

PortSystem			1.0

name				XviD
version				1.1.2
categories			multimedia devel
platforms			darwin sunos
maintainers			nox
description			High performance and high quality MPEG-4 video library

long_description 	The Xvid video codec implements MPEG-4 Simple Profile and Advanced \
					Simple Profile standards. It permits compressing and decompressing \
					digital video in order to reduce the required bandwidth of video \
					data for transmission over computer networks or efficient storage on \
					CDs or DVDs. Due to its unrivalled quality Xvid has gained great \
					popularity and is used in many other GPLed applications, like e.g. \
					Transcode, MEncoder, MPlayer, Xine and many more.

homepage			http://www.xvid.org/
master_sites		http://downloads.xvid.org/downloads/
distname			xvidcore-${version}
use_bzip2			yes

checksums			md5 f748d835037fbe314a5fae8880c32f29 \
					sha1 a524c18f34133dc83b7be90abda7d0ae4ab3b7fb \
					rmd160 bc3dfbd176ece5f54bbd72f1e655eba4da9baeb4

worksrcdir			${distname}/build/generic

platform darwin i386 {
	configure.args-append --disable-assembly
}

post-destroot {
	set docdir ${prefix}/share/doc/${name}-${version}

	xinstall -m 0755 -d ${destroot}${docdir}
	xinstall -m 0644 -W ${worksrcpath}/../.. AUTHORS ChangeLog LICENSE ${destroot}${docdir}

	cd ${destroot}${prefix}/lib
	ln -sf libxvidcore.so.4.0 libxvidcore.so.4
	ln -sf libxvidcore.so.4 libxvidcore.so
}
