# $Id$

PortSystem 1.0

name              gnupod
version           0.99.5
categories        multimedia perl
maintainers       pmq
platforms         darwin

description       gnuPod is a collection of tools which allow you to \
                  use your iPod with UNIX-like operating systems.
long_description  ${description}

homepage          http://blinkenlights.ch/gnupod
master_sites      http://www.blinkenlights.ch/gnupod-dist/stable
extract.suffix    .tgz
checksums         sha1 397f5fadfcdc68921249973fc344437b5cd9f671

depends_lib       port:perl5.8 port:p5-mp3-info port:p5-digest-md5 \
                  port:p5-xml-parser port:p5-unicode-string \
                  port:p5-libwww-perl port:p5-digest-sha1

configure.args    --infodir=${prefix}/share/info

post-destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/${name}
    xinstall -m 644 -W ${worksrcpath} doc/gnupodrc.example \
    	     doc/gnutunesdb.example doc/ipod.svg doc/mkspl.html \
	     doc/gnupod.html ${destroot}${prefix}/share/${name}
}

# should also use timidity, oggdec, Audio::FLAC::Header and 
# Ogg::Vorbis::Header::PurePerl
variant all_decoders description "Install helpers to transcode the multimedia files" {
    depends_lib-append  port:ffmpeg port:faac port:lame port:flac
}
