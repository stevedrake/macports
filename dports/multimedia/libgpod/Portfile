# $Id$

PortSystem          1.0

name                libgpod
version             0.8.0
revision            1
categories          multimedia
platforms           darwin
maintainers         rmstonecipher openmaintainer
description         libgpod is a library to access the contents of an iPod.
long_description    ${description} This library is based on code used in the \
                    gtkpod project. Starting with V0.96.CVS gtkpod depends \
                    on this library.

homepage            http://www.gtkpod.org/libgpod/
master_sites        sourceforge:gtkpod
checksums           md5     6660f74cc53293dcc847407aa5f672ce \
                    sha1    ddef7f3583535242b4928b300eb8aa6bc9a0e6dc \
                    rmd160  446d5045f6c91e55e894c5d5370658afc8abe8ef

depends_build       path:bin/pkg-config:pkgconfig

depends_lib         port:p5-xml-parser \
                    port:py26-gobject \
                    port:libplist

set python.branch   2.6
set python.prefix   ${frameworks_dir}/Python.framework/Versions/${python.branch}
set python.bin      ${python.prefix}/bin/python${python.branch}

configure.args-append  --prefix=${python.prefix}
configure.env-append    PYGOBJECT_CODEGEN=${python.prefix}/bin/pygobject-codegen-2.0
configure.pkg_config_path  ${python.prefix}/lib/pkgconfig

livecheck.type		regex
livecheck.url		http://sourceforge.net/projects/gtkpod/files/
livecheck.regex "${name}-(\\d+(?:\\.\\d+)*)${extract.suffix}"
