# $Id$

PortSystem 1.0

name            libmms
version         0.6.1
categories      multimedia
maintainers     boeyms openmaintainer
description     Library for parsing mms:// and mmsh:// network streams
long_description \
    LibMMS is a common library for parsing the legacy mms:// and mmsh:// type \
    network streams, created and now abandoned by Microsoft. These are \
    commonly used to stream Windows Media Video content over the web. LibMMS \
    itself is only for receiving MMS streams, it doesn't handle sending at \
    all. If you need streaming functionality, look at other protocols, such \
    as RT(S)P.
homepage        http://libmms.sourceforge.net/
platforms       darwin
master_sites    sourceforge
checksums           md5     eaa3b311561a1fadb83e9e7004136dab \
                    sha1    fb4732efe39a9d356a28a37763678cd86f5ddda2 \
                    rmd160  d6ed48ba045c31bb81bda0d89629d856ad6fcb09
depends_build   path:bin/pkg-config:pkgconfig
depends_lib     path:lib/pkgconfig/glib-2.0.pc:glib2 port:libiconv port:gettext
configure.args-append \
    --mandir=${prefix}/share/man --infodir=${prefix}/share/info

post-patch {
    # avoid use of C++ keyword this
    reinplace "s|*this|*instance|" \
        ${worksrcpath}/src/mms.h \
        ${worksrcpath}/src/mmsh.h
}
