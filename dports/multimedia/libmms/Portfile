# $Id$

PortSystem 1.0

name            libmms
version         0.6
categories      multimedia
maintainers     boeyms openmaintainer
description     Library for parsing mms:// and mmsh:// network streams
long_description \
    LibMMS is a common library for parsing the legacy mms:// and mmsh:// type \
    network streams, created and now abandoned by Microsoft. These are \
    commonly used to stream Windows Media Video content over the web. LibMMS \
    itself is only for receiving MMS streams, it doesn't handle sending at \
    all. If you need streaming functionality, look at other protocols, such \
    as RT(S)P.
homepage        http://libmms.sourceforge.net/
platforms       darwin
master_sites    sourceforge
checksums           md5     650ad04a4c8bd79246390b81b29680b6 \
                    sha1    d93b9c27e6c83f288e1672029aa3c081270b669b \
                    rmd160  03fb9f957663739bf8e903badba8366b42b4e20b
depends_build   path:bin/pkg-config:pkgconfig
depends_lib     path:lib/pkgconfig/glib-2.0.pc:glib2 port:libiconv port:gettext
configure.args-append \
    --mandir=${prefix}/share/man --infodir=${prefix}/share/info

post-patch {
    # avoid use of C++ keyword this
    reinplace "s|*this|*instance|" \
        ${worksrcpath}/src/mms.h \
        ${worksrcpath}/src/mmsh.h
}
