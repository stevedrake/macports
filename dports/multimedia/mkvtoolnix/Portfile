# $Id$

PortSystem			1.0

name				mkvtoolnix
version				2.3.0
categories			multimedia
maintainers			pguyot@kallisys.net openmaintainer
description			Matroska media files manipulation tools.
long_description	mkvtoolnix will evolve to a set of tools to create, \
					alter and inspect Matroska files under Linux and other \
					Unices, just what the OGMtools do for the OGM format.
homepage			http://www.bunkus.org/videotools/mkvtoolnix/
platforms			darwin
use_bzip2			yes
master_sites		${homepage}sources/
checksums			md5     c50060111ee8e41d73a3cc8b264eec15 \
					sha1    92002a03e6961d52b84493e51420d77d36475292 \
					rmd160  a6a86ec94c0038541af83fadb0523202ffbb476d
depends_lib     	port:libmatroska \
					port:libogg \
					port:libvorbis \
					port:expat \
					port:lzo \
					port:pcre \
					port:boost
configure.args		--mandir=${prefix}/share/man \
					--with-extra-libs=${prefix}/lib \
					--with-extra-includes=${prefix}/include \
					--disable-wxwidgets \
					--without-flac \
					--with-boost-regex=boost_regex-mt

variant wxwidgets description "build with the GUI with wxWidgets" {
	depends_lib-append		port:wxWidgets
	configure.args-delete	--disable-wxwidgets
	configure.args-append	--enable-wxwidgets
}

variant flac description "flac support" {
	depends_lib-append		port:flac
	configure.args-delete	--without-flac
	configure.args-append	--with-flac
}

default_variants	+flac

# livecheck.
livecheck.check		regex
livecheck.url		http://www.archlinux.org/packages/3992/
livecheck.regex		mkvtoolnix (\[0-9.\]+)-\[0-9\]
