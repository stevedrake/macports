# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                mlt
version             20090212
categories          multimedia
maintainers         jmpoure
description         Open source multimedia framework - core libraries
long_description    MLT is an open source multimedia framework, designed and developed for \
                    television broadcasting. It provides a toolkit for broadcasters, video \
                    editors, media players, transcoders, web streamers and many more types of \
                    applications. The functionality of the system is provided via an assortment \
                    of ready to use tools, xml authoring components, and an extendible plug-in \
                    based API. \
                    \
                    This package contains the files necessary for running applications that use \
                    the MLT multimedia framework.
homepage            http://www.mltframework.org
platforms           darwin

fetch.type          svn
svn.url             http://mlt.svn.sourceforge.net/svnroot/mlt/trunk/mlt
svn.tag             1351
worksrcdir          mlt

depends_build       port:pkgconfig \
                    port:subversion \
                    port:doxygen

depends_lib         port:atk \
                    port:frei0r-plugins \
                    path:lib/libavcodec.dylib:ffmpeg \
                    port:gtk2 \
                    port:libdv \
                    port:libsamplerate \
                    port:libsdl \
                    port:libvorbis \
                    port:qt4-mac \
                    port:sox

configure.args      --enable-gpl \
                    --qimage-libdir=/opt/local/libexec/qt4-mac/lib \
                    --qimage-includedir=/opt/local/libexec/qt4-mac/include/Qt \
                    --avformat-swscale \
                    --disable-jackrack

configure.pkg_config_path   ${prefix}/lib/pkgconfig:${prefix}/libexec/qt4-mac/lib/pkgconfig
configure.pkg_config        ${prefix}/bin/pkg-config

configure.cflags-append     "-I${prefix}/include"
configure.cflags-append     "-I${prefix}/libexec/qt4-mac/include"
configure.ldflags-append    "-L${prefix}/lib"
build.env                   CFLAGS="${configure.cflags}" LDFLAGS="${configure.ldflags}"

