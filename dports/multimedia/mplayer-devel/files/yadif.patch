--- libmpcodecs/vf_yadif.c.orig	2011-06-23 12:54:15.000000000 -0700
+++ libmpcodecs/vf_yadif.c	2011-06-23 12:53:19.000000000 -0700
@@ -196,7 +196,7 @@ static void filter_line_mmx2(struct vf_p
 \
             /* if(p->mode<2) ... */\
             "movq    %[tmp3], %%mm6 \n\t" /* diff */\
-            "cmp       $2, %[mode] \n\t"\
+            "cmpl      $2, %[mode] \n\t"\
             "jge       1f \n\t"\
             LOAD4("(%["prev2"],%[mrefs],2)", %%mm2) /* prev2[x-2*refs] */\
             LOAD4("(%["next2"],%[mrefs],2)", %%mm4) /* next2[x-2*refs] */\
