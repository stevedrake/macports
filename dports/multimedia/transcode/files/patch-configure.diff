--- configure.orig	2011-11-06 01:35:12.000000000 -0700
+++ configure	2011-11-06 23:04:37.000000000 -0800
@@ -27483,7 +27483,10 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
+#undef __MACOSX__
+#undef __MACOS__
 #include "SDL.h"
+#define main main
 int main (int argc, char *argv[])
 {
    if ( (SDL_MAJOR_VERSION > $sdl_major_version) ||
