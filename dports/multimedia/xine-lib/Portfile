# $Id$

PortSystem 1.0

name		xine-lib
version		1.1.16
description	xine-lib is a free multimedia engine, released under the GPL.
long_description        ${description}
maintainers	nomaintainer
categories	multimedia
platforms	darwin
homepage	http://xine.sf.net/
master_sites    sourceforge:xine
use_bzip2   yes
checksums   md5     acd1a210c5a6444e8fd44696469352bb \
            sha1    b7a8d159ac81befe2a2cc0df20a4c0a00cef4ad7 \
            rmd160  2fc35e0c5f6dc3f00be0396fecd40e5a2fb388f5
depends_lib lib:libX11.6:XFree86 \
            port:aalib	\
            port:esound \
            port:faad2 \
            port:ffmpeg \
            port:flac \
            port:libogg \
            port:libvorbis \
            port:zlib

configure.env-append    LIBTOOL=glibtool
configure.args  --with-external-libfaad \
                --with-external-ffmpeg
post-configure {
    # See #17952
    reinplace "s|#define HAVE_FFMPEG_AVUTIL_H 1|#undef HAVE_FFMPEG_AVUTIL_H|" \
        ${worksrcpath}/include/configure.h
}

livecheck.distname	${name} (xine core)

platform macosx {
    configure.args-append   --enable-macosx-video \
                            --enable-coreaudio
}
