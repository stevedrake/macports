# $Id: Portfile,v 1.4 2005/04/11 10:38:49 toby Exp $

PortSystem 1.0
name             adns
version          1.1
categories       net
maintainers      toby@opendarwin.org
description      asynchronous DNS client library
long_description \
    adns is a resolver library for C (and C++) programs, and a \
    collection of useful DNS resolver utilities.
homepage         http://www.chiark.greenend.org.uk/~ian/adns/
platforms        darwin

master_sites     ftp://ftp.chiark.greenend.org.uk/users/ian/adns/ \
                 ${homepage}ftp/
checksums        md5 891956e305acf5fc83b099333bf3ffd9

patchfiles       patch-src__parse.c

configure.args   --disable-dynamic

test.run         yes
test.target      check

destroot {
    cd ${worksrcpath}
    xinstall -m 555 client/adnslogres client/adnshost \
        client/adnsresfilter ${destroot}${prefix}/bin
    xinstall -m 444 src/libadns.a ${destroot}${prefix}/lib
    system "ranlib ${destroot}${prefix}/lib/libadns.a"
    xinstall -m 444 src/adns.h ${destroot}${prefix}/include
}
