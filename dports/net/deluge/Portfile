# $Id$

PortSystem 1.0
PortGroup python25 1.0

name		deluge
version		0.5.8.3
categories-append   net gnome
maintainers nomaintainer
description	A GNOME BitTorrent client.
long_description \
	Deluge is a GNOME client for the BitTorrent network written in python.
homepage	http://www.deluge-torrent.org
platforms	darwin

master_sites	http://download.deluge-torrent.org/source/${version}/

checksums       md5 ba4ecd51b4bd52e0946cfeff07d7df80 \
                sha1 1b535882a9068311502bc77342f96beb3c50dc7c \
                rmd160 91de47529a268f916748cac72b40c208d488b17d
worksrcdir      ${name}-torrent-${version}

depends_lib-append	\
	port:dbus-python25 \
	port:gettext \
	port:librsvg \
	port:py25-gtk \
	port:py25-hashlib \
	port:py25-xdg \
	port:py25-zlib \
	port:boost

configure.cflags-append	-I${prefix}/include/boost
configure.cppflags-append -I${prefix}/include/boost
build.env	\
	PYTHON_CFLAGS="-I${prefix}/include -I${prefix}/include/boost" \
	PYTHON_LDFLAGS=-L${prefix}/lib \
	CFLAGS="-I${prefix}/include -I${prefix}/include/boost"

post-patch {
	reinplace "s|, 'rt'||g" ${worksrcpath}/setup.py
}
