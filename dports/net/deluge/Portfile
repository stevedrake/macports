# $Id$

PortSystem 1.0
PortGroup python25 1.0

name		deluge
version		0.5.8.4
categories-append   net gnome
maintainers nomaintainer
description	A GNOME BitTorrent client.
long_description \
	Deluge is a GNOME client for the BitTorrent network written in python.
homepage	http://www.deluge-torrent.org
platforms	darwin

master_sites	http://download.deluge-torrent.org/source/${version}/

checksums       md5 9a550449d8c73cd9c0603ce484f92447 \
                sha1 ff412d6d54d76ff132be78223ce991fcf444c7ee \
                rmd160 233599a98ce8c2a65f98fb2277f1c0658db84774
worksrcdir      ${name}-torrent-${version}

depends_lib-append	\
	port:dbus-python25 \
	port:gettext \
	port:librsvg \
	port:py25-gtk \
	port:py25-hashlib \
	port:py25-xdg \
	port:py25-zlib \
	port:boost

configure.cflags-append	-I${prefix}/include/boost
configure.cppflags-append -I${prefix}/include/boost
build.env	\
	PYTHON_CFLAGS="-I${prefix}/include -I${prefix}/include/boost" \
	PYTHON_LDFLAGS=-L${prefix}/lib \
	CFLAGS="-I${prefix}/include -I${prefix}/include/boost"

post-patch {
	reinplace "s|, 'rt'||g" ${worksrcpath}/setup.py
}
