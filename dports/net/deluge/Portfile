# $Id$

PortSystem 1.0
PortGroup python25 1.0

name		deluge
version		0.5.8.1
categories-append   net gnome
maintainers nomaintainer
description	A GNOME BitTorrent client.
long_description \
	Deluge is a GNOME client for the BitTorrent network written in python.
homepage	http://www.deluge-torrent.org
platforms	darwin

master_sites	http://download.deluge-torrent.org/index.php?dir=tarball/${version}/&file=

checksums       md5 19c1ac3ba6910f52b5918b56526e74a0 \
                sha1 912d16148ddba8b4a21fdf48098c727123cd3e43 \
                rmd160 7c5e40a03c2281a82c8847be2fa8a25d115b4199
worksrcdir      ${name}-torrent-${version}

depends_lib-append	\
	port:dbus-python25 \
	port:gettext \
	port:librsvg \
	port:py25-gtk \
	port:py25-hashlib \
	port:py25-xdg \
	port:py25-zlib \
	port:boost

configure.cflags-append	-I${prefix}/include/boost
configure.cppflags-append -I${prefix}/include/boost
build.env	\
	PYTHON_CFLAGS="-I${prefix}/include -I${prefix}/include/boost" \
	PYTHON_LDFLAGS=-L${prefix}/lib \
	CFLAGS="-I${prefix}/include -I${prefix}/include/boost"

post-patch {
	reinplace "s|, 'rt'||g" ${worksrcpath}/setup.py
}
