# $Id: Portfile,v 1.9 2006/03/13 15:13:06 markd Exp $

PortSystem      1.0
name            dnetc
version         2.9010.495
categories      net 
maintainers     yeled@opendarwin.org
description     distributed.net client
long_description  distributed.net believes in the capability and potential \
                of distributed computing. Their mission consists of three \
                interdependent goals: development, deployment, and \
                advocacy, to be pursued in the advancement of distributed \
                computing. \
                They advocate distributed computing, by encouraging global \
                participation and contributions of processing power, \
                bandwidth, and expertise\; by providing a forum for \
                discussion\; and by raising awareness on the Internet and \
                in the mainstream.

homepage        http://distributed.net/
platforms       darwin
distfiles       dnetc495-macosx-ppc.tar.gz
checksums       md5 a9ce95ebb986cdf3dcab04c4922688ad
master_sites    ftp://ftp.distributed.net/pub/dcti/v2.9010/ \
                http://http.distributed.net/pub/dcti/v2.9010/
worksrcdir      dnetc495-macosx-ppc

    startupitem.create    yes
    startupitem.start "${prefix}/share/${name}/dnetc.sh start"
    startupitem.stop "${prefix}/share/${name}/dnetc.sh stop"

configure {}
build     {}
destroot  { 
  file mkdir ${destroot}${prefix}/bin
  file mkdir ${destroot}${prefix}/share/doc/${name}
  file mkdir ${destroot}${prefix}/share/${name}
  system "install -m 755 ${worksrcpath}/dnetc ${destroot}${prefix}/bin"
  system "install -m 644 ${worksrcpath}/docs/* ${destroot}${prefix}/share/doc/${name}"

  system "install -o root -m 755 -c \
    ${portpath}/files/dnetc.sh ${destroot}${prefix}/share/${name}"
  reinplace "s|__PREFIX|${prefix}|g" \
    ${destroot}${prefix}/share/${name}/dnetc.sh 
}

post-install {
ui_msg "===============================================================================\n"
ui_msg "Please Note! You _need_ to run dnetc with -config the first time you run it, \n"
ui_msg	or '${prefix}/share/${name}/dnetc.sh config' when using the startup script.\n"
ui_msg "===============================================================================\n"
}
