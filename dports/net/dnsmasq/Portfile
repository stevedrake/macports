# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0

name		dnsmasq
version		2.47
categories	net
platforms	darwin
maintainers	snc openmaintainer
description	lightweight DNS forwarder and DHCP server
long_description	Dnsmasq is lightweight, easy to configure DNS \
			forwarder and DHCP server. It is designed to provide \
			DNS and, optionally, DHCP, to a small network. It can \
			serve the names of local machines which are not in the \
			global DNS. The DHCP server integrates with the DNS \
			server and allows machines with DHCP-allocated \
			addresses to appear in the DNS with names configured \
			either in each host or in a central configuration \
			file. Dnsmasq supports static and dynamic DHCP leases \
			and BOOTP for network booting of diskless machines.
homepage	http://www.thekelleys.org.uk/dnsmasq/doc.html
master_sites	http://www.thekelleys.org.uk/dnsmasq/
checksums	md5    4524081e56d0b935717d493e8e8d3e11 \
            sha1   a01ae622410636c5cdad9b789e69fb4bbc3a5d6a \
            rmd160 79c7c4f2fac483f237401294747dfda93921ab1d
patchfiles	patch-src-config.h.diff patch-Makefile.diff

depends_build   port:nawk

post-patch {
	reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/src/config.h
}

use_configure   no

destroot.args   PREFIX=${prefix}

#startupitem.create	yes
#startupitem.type    launchd
