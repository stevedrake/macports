--- ./src/config.h.orig	2008-06-08 00:25:15.000000000 -0500
+++ ./src/config.h	2008-06-15 21:58:11.000000000 -0500
@@ -32,22 +32,30 @@
 #define HOSTSFILE "/etc/hosts"
 #define ETHERSFILE "/etc/ethers"
 #ifdef __uClinux__
-#  define RESOLVFILE "/etc/config/resolv.conf"
+#  define RESOLVFILE "__PREFIX__/etc/config/resolv.conf"
 #else
-#  define RESOLVFILE "/etc/resolv.conf"
+#  define RESOLVFILE "__PREFIX__/etc/resolv.conf"
+#endif
+#ifdef __APPLE__
+#  define RUNFILE "__PREFIX__/var/run/dnsmasq.pid"
+#else
+#  define RUNFILE "__PREFIX__/var/run/dnsmasq.pid"
 #endif
-#define RUNFILE "/var/run/dnsmasq.pid"
 #if defined(__FreeBSD__) || defined (__OpenBSD__) || defined(__DragonFly__)
-#   define LEASEFILE "/var/db/dnsmasq.leases"
+#   define LEASEFILE "__PREFIX__/var/db/dnsmasq.leases"
+#elif __APPLE__
+#   define LEASEFILE "__PREFIX__/var/db/dnsmasq.leases"
 #elif defined(__sun__)
-#   define LEASEFILE "/var/cache/dnsmasq.leases"
+#   define LEASEFILE "__PREFIX__/var/cache/dnsmasq.leases"
 #else
-#   define LEASEFILE "/var/lib/misc/dnsmasq.leases"
+#   define LEASEFILE "__PREFIX__/var/lib/misc/dnsmasq.leases"
 #endif
 #if defined(__FreeBSD__)
-#   define CONFFILE "/usr/local/etc/dnsmasq.conf"
+#   define CONFFILE "__PREFIX__/usr/local/etc/dnsmasq.conf"
+#elif __APPLE__
+#   define CONFFILE "__PREFIX__/etc/dnsmasq.conf"
 #else
-#   define CONFFILE "/etc/dnsmasq.conf"
+#   define CONFFILE "__PREFIX__/etc/dnsmasq.conf"
 #endif
 #define DEFLEASE 3600 /* default lease time, 1 hour */
 #define CHUSER "nobody"
