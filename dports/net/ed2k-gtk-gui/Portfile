# $Id: Portfile,v 1.1 2005/05/28 12:55:27 olegb Exp $
PortSystem		1.0
name			ed2k-gtk-gui
version			0.6.3
categories		net
maintainers		namely_void@yahoo.co.uk
description		a GTK2 gui for eDonkey2000 command line client 
long_description	The ed2k-gtk-gui is a graphical frontend (GUI) that \
			allows you to control an eDonkey2000 command line \
			client (core) running on the local machine or on a \
			remote host. It is based on the GTK+ toolkit and the \
			gnet library.
homepage		http://ed2k-gtk-gui.sourceforge.net
master_sites		http://mesh.dl.sourceforge.net/sourceforge/ed2k-gtk-gui/
checksums		md5 191581cf44cd334a9d56aff2c68f4806
depends_build		bin:pkg-config:pkgconfig
depends_lib		lib:libgtk.2:gtk2 \
			lib:libglib.2:glib2
configure.args		--enable-static-gnet2 --disable-systray --mandir=${prefix}/share/man

post-configure	{ reinplace "s|-pthread|-lpthread|g" \
			${worksrcpath}/ed2k_gui/Makefile
		  reinplace "s|-pthread|-lpthread|g" \
			${worksrcpath}/gnet/Makefile
		  reinplace "s|-pthread|-lpthread|g" \
			${worksrcpath}/libglade/Makefile
		}

variant gnet {
	configure.args-delete --enable-static-gnet2
	depends_lib-append	lib:libgnet.2:gnet2
}
