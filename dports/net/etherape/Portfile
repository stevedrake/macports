# $Id: Portfile,v 1.6 2006/02/22 20:08:19 markd Exp $
PortSystem        1.0
name              etherape
version           0.9.4
categories        net
maintainers       markd@opendarwin.org
description       graphical network monitor
long_description  \
		  EtherApe is a graphical network monitor for Unix modeled after \
		  etherman. Featuring link layer, ip and TCP modes, it displays network \
		  activity graphically. Hosts and links change in size with traffic. \
		  Color coded protocols display. It supports Ethernet, FDDI, Token \
		  Ring, ISDN, PPP and SLIP devices. It can filter traffic to be shown, \
		  and can read traffic from a file as well as live from the network. 
homepage          http://etherape.sourceforge.net/
master_sites      sourceforge:etherape
platforms         darwin
checksums         md5 22f25464deca3f4a09f0247513ec5d2a

depends_lib    	port:libgnomeui \
		  		port:libglade2 \
		  		port:libiconv \
		  		port:gettext \
		  		port:libpcap
		  		
configure.args    --mandir=${prefix}/share/man \
		  --disable-thread-resolver

configure.env     LDFLAGS="-L${prefix}/lib -lintl -lresolv" CFLAGS="-I${prefix}/include"

platform darwin  {
	patchfiles	patch-resolv.c \
			patch-main.c \
			patch-globals.h \
			patch-names.c
}

post-extract {
        reinplace "s|,--export-dynamic| |g" ${worksrcpath}/src/Makefile.in
}
