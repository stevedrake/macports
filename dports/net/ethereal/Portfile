# $Id: Portfile,v 1.24 2004/03/29 09:25:20 toby Exp $

PortSystem 1.0
name		ethereal
version		0.10.3
categories	net
maintainers	opendarwin.org@darkart.com toby@opendarwin.org
description	Graphical network analyzer and capture tool
homepage	http://ethereal.com/
platforms	darwin

long_description A network analyzer that lets you capture and \
		 interactively browse Ethernet frames. \
		 Packet data can be read from a file, or live from a local \
		 network interface.

master_sites	ftp://ftp.ethereal.com/pub/ethereal/all-versions/ \
		ftp://ftp.planetmirror.com/pub/ethereal/all-versions/ \
		ftp://ftp.mirrors.wiretapped.net/pub/security/packet-capture/ethereal/all-versions/ \
		ftp://gd.tuwien.ac.at/infosys/security/ethereal/all-versions/ \
		ftp://ftp.sunet.se/pub/network/monitoring/ethereal/all-versions/ \
		ftp://ftp.ayamura.org/pub/ethereal/all-versions/ \
		ftp://ftp.azc.uam.mx/mirrors/ethereal/all-versions/

checksums	md5 6902272eb5304f57db76bf91abe453d1

use_bzip2	yes

depends_lib	lib:libglib.2:glib2 lib:libgtk.2:gtk2 \
		lib:XXX:libpcap

configure.args	--without-plugins --enable-gtk2 \
		--with-net-snmp=no --with-ucd-snmp=no \
		--mandir=\\\${prefix}/share/man \
		--infodir=\\\${prefix}/share/info

variant no-x11	{
	configure.args-append	--disable-ethereal
	depends_lib-delete	lib:libgtk.2:gtk2
}

variant pcre {
	configure.args-append	--with-pcre=${prefix}
	depends_lib-append	lib:libpcre:pcre
}

variant net-snmp {
	configure.args-append	--with-net-snmp=${prefix}/bin/net-snmp-config
	configure.args-delete	--with-net-snmp=no
	depends_lib-append	lib:XXX:net-snmp
}

variant adns {
	configure.args-append	--with-adns=${prefix}
	depends_lib-append	lib:XXX:adns
}
