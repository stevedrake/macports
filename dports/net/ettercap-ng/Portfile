# $Id: Portfile,v 1.2 2004/08/15 10:44:09 toby Exp $

PortSystem 1.0
name             ettercap-ng
version          0.7.0
categories       net security
maintainers      ultrix@gmail.com
description      multipurpose sniffer/interceptor/logger for switched LAN
long_description \
    Ettercap is a multi-functional packet sniffer/interceptor/logger \
    that works on switched LANs. It allows the active and passive \
    dissection of numerous protocols, including ciphered ones, such as \
    SSH1, and includes features for network and host analysis. Four \
    modes are available: IP Based, MAC Address Based, ARP Based, and \
    PublicARP Based.
homepage         http://ettercap.sourceforge.net/
platforms        darwin freebsd

master_sites     sourceforge:ettercap
distname         ettercap-NG-${version}
checksums        md5 41eb78c0f047dddbcb81c5444ecbfc96

patchfiles       patch-src__ec_threads.c

depends_lib      lib:libssl.0:openssl \
                 lib:XXX:libpcap \
                 lib:XXX:libnet11 \
                 lib:libpcre.0:pcre

configure.args   --disable-gtk \
                 --disable-plugins \
                 --with-openssl=${prefix} \
                 --with-libpcap=${prefix} \
                 --with-libnet=${prefix} \
                 --with-libpcre=${prefix}

variant gtk {
    depends_lib-append    lib:libgtk.2:glib2 \
                          lib:libgtk.2:gtk2
    configure.args-delete --disable-gtk
    configure.args-append --enable-gtk
}

variant plugins {
    configure.args-delete --disable-plugins
    configure.args-append --enable-plugins
}
