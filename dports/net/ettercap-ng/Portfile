# $Id: Portfile,v 1.4 2004/12/23 18:40:52 toby Exp $

PortSystem 1.0
name             ettercap-ng
version          0.7.1
categories       net security
maintainers      ultrix@gmail.com
description      multipurpose sniffer/interceptor/logger for switched LAN
long_description \
    Ettercap is a multi-functional packet sniffer/interceptor/logger \
    that works on switched LANs. It allows the active and passive \
    dissection of numerous protocols, including ciphered ones, such as \
    SSH1, and includes features for network and host analysis. Four \
    modes are available: IP Based, MAC Address Based, ARP Based, and \
    PublicARP Based.
homepage         http://ettercap.sourceforge.net/
platforms        darwin freebsd

master_sites     sourceforge:ettercap
distname         ettercap-NG-${version}
checksums        md5 a78b914b9863668f962c9bd7b8733fc1

patchfiles       patch-src-Makefile.in

depends_lib      lib:XXX:openssl \
                 lib:XXX:libpcap \
                 lib:XXX:libnet11 \
                 lib:libpcre.0:pcre

configure.args   --disable-gtk \
                 --disable-plugins \
                 --with-openssl=${prefix} \
                 --with-libpcap=${prefix} \
                 --with-libnet=${prefix} \
                 --with-libpcre=${prefix} \
                 --mandir=\\\${prefix}/share/man \
                 --infodir=\\\${prefix}/share/info

variant gtk {
    depends_lib-append    lib:libglib.2:glib2 \
                          lib:libgtk.2:gtk2
    configure.args-delete --disable-gtk
    configure.args-append --enable-gtk
}

variant plugins {
    configure.args-delete --disable-plugins
    configure.args-append --enable-plugins
}
