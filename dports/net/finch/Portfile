# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                finch
version             2.6.5
revision            1
categories          net
platforms           darwin
maintainers         nomaintainer
description         Multi-protocol Instant Messaging client
long_description    "Pidgin is an Open Source clone of America OnLine's \
                    Instant Messenger client that uses GTK+ version 2.  It \
                    features multiple groups, group chat, user information \
                    fetching and registration, time stamping, and more.  It \
                    also supports other IM protocols, including Yahoo!, MSN, \
                    ICQ, Jabber, Napster, IRC, and Zephyr via included \
                    plugins."

homepage            http://www.pidgin.im/
master_sites        sourceforge:pidgin
checksums           md5     90847ed22ec830db5d9768748812b661 \
                    sha1    e50edbe0fe588d7222d54154942550ef1788b89d \
                    rmd160  ca1867476c3cae0be5f4d56cbb58391758da00a9

distname            pidgin-${version}
use_bzip2           yes

depends_lib         port:audiofile \
                    port:libao \
                    port:libxml2 \
                    port:nspr \
                    port:nss \
                    port:p5-xml-parser \
                    path:lib/pkgconfig/glib-2.0.pc:glib2 \
                    port:intltool \
                    port:libidn

patchfiles          patch-finch_libgnt_Makefile.in.diff patch-finch_libgnt_gntwm.c

configure.args      --disable-avahi \
                    --disable-gtkui \
                    --disable-dbus \
                    --disable-gstreamer \
                    --disable-gtkspell \
                    --disable-meanwhile \
                    --disable-nm \
                    --disable-screensaver \
                    --disable-sm \
                    --disable-startup-notification \
                    --disable-vv \
                    --enable-nss \
                    --mandir=${prefix}/share/man \
                    --with-nspr-includes=${prefix}/include/nspr \
                    --with-nspr-libs=${prefix}/lib/nspr \
                    --with-nss-includes=${prefix}/include/nss \
                    --with-nss-libs=${prefix}/lib/nss \
                    --disable-perl \
                    --without-x
configure.ldflags-append    -bind_at_load
configure.cppflags-append   -no-cpp-precomp

livecheck.distname  Pidgin
