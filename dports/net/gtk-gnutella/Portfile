# $Id: Portfile,v 1.10 2006/02/24 02:04:00 mij Exp $

PortSystem 1.0
name		gtk-gnutella
version		0.96.1
categories	net
maintainers	mij@macports.org
description	GTK-based Gnutella client
homepage	http://gtk-gnutella.sourceforge.net/
platforms	darwin

long_description GTK-Gnutella is a Gnutella client that features search, \
		 download, file sharing, bandwidth limiting, host caching, \
		 and some basic statistics.

master_sites	sourceforge

checksums	md5 6529379cc105c1e98f501a67e8e875fd \
		sha1 28540c4e78f4c3513ac15b95228a98d17ace2091 \
		rmd160 58fc8eb3aea991e81d96435f11665d6f50ccc1de

use_bzip2	yes

depends_lib	lib:libxml.2:libxml2 lib:libgtk.2:gtk2

depends_build	bin:gawk:gawk

configure.env	CPPFLAGS="-I${prefix}/include -no-cpp-precomp"

configure.args	-Oders \
		-D prefix=${prefix} \
		-D official=true \
		-D ccflags='-I/${prefix}/include' \
		-D sysman=${prefix}/share/man \
		-D libpth="${prefix}/lib /usr/lib" \
		-D remotectrl=true -D gtkversion=2

configure.pre_args-delete	--prefix=${prefix}

variant gtk1 {
	depends_lib-delete	lib:libgtk.2:gtk2
	depends_lib-append	lib:libgtk.1:gtk1
	configure.args-delete	'-D gtkversion=2'
	configure.args-append	'-D gtkversion=1'
}

destroot.destdir	INSTALL_PREFIX=${destroot}
