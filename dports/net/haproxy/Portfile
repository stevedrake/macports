# $Id$

PortSystem 1.0

name              haproxy
version           1.4.18
categories        net
platforms         darwin
maintainers       samgranieri.com:sam
description       The Reliable, High Performance TCP/HTTP Load Balancer

long_description  HAproxy is a high-performance and highly-robust TCP/HTTP \
                  load balancer which provides cookie-based persistence, \
                  automatic failover, header insertion, deletion, modification \
                  on the fly, advanced logging contents to help trouble-shooting \
                  buggy applications and/or networks, and a few other features. It \
                  uses its own state machine to achieve up to ten thousands hits \
                  per second on modern hardware, even with thousands simultaneous connections.

homepage          http://haproxy.1wt.eu/
master_sites      http://haproxy.1wt.eu/download/1.4/src/

checksums         md5     4ac88bb1a76c4b84ed4f6131183bedbe \
                  sha1    191dbcb5880c711580693bd081ca5fdd8dde3012 \
                  rmd160  16729f0519a47123d88e849ae95d600c590c8583

configure  {
  reinplace "s#/usr/local#${prefix}#g" ${worksrcpath}/Makefile
}

build.target TARGET=osx

post-destroot  {
  set docdir ${destroot}${prefix}/share/doc
  # xinstall -d ${docdir}
  file rename ${destroot}${prefix}/doc ${docdir}
}
