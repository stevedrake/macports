# $Id$

PortSystem 1.0

name                iodine
version             0.6.0-rc1
categories          net
license             ISC
maintainers         gmail.com:tomhennigan
description         IPv4 over DNS
long_description    iodine lets you tunnel IPv4 data through a DNS server. This can be usable in different situations where internet access is firewalled, but DNS queries are allowed.
homepage            http://code.kryo.se/iodine/
master_sites        http://code.kryo.se/iodine/

platforms           darwin

checksums           md5     a15bb4faba020d217016fde6e231074a \
                    sha1    4fa9a248b8a84df8a727a5d749e669e58136edca \
                    rmd160  6974beac28e07b0c280d7095f15d13699e9cad65

# Iodine has no configure script so we pass in CC/CXX/CPP at build time.
# http://trac.macports.org/wiki/UsingTheRightCompiler
build.args-append   CC=${configure.cc} \
                    CXX=${configure.cxx} \
                    CPP=${configure.cpp}

patchfiles          patch-Makefile.diff

use_configure       no

post-patch {
    reinplace "s|@PREFIX@|${prefix}|" ${worksrcpath}/Makefile
}
