# $Id$

PortSystem                  1.0

name                        kerberos5
conflicts                   e2fsprogs
version                     1.4.3
set branch                  [join [lrange [split ${version} .] 0 1] .]
categories                  net security
maintainers                 nomaintainer
platforms                   darwin
homepage                    http://web.mit.edu/kerberos/www/
master_sites                ${homepage}dist/krb5/${branch}/
distname                    krb5-${version}
distfiles                   ${distname}-signed.tar
worksrcdir                  ${distname}/src

description                 Kerberos is a network authentication protocol.

long_description            Kerberos is a network authentication protocol. \
                            It is designed to provide strong authentication \
                            for client/server applications by using secret-key \
                            cryptography. A free implementation of this protocol \
                            is  available from the Massachusetts Institute of \
                            Technology. Kerberos is available in many commercial \
                            products as well.

checksums                   sha1 94bd12d664b1ef32bbf5b8ffe062fe473909f9a7

depends_build               bin:gpg:gnupg

extract.cmd                 cat
extract.pre_args

configure.args              --mandir=${prefix}/share/man

post-extract {
    system "cd ${workpath} && gzip -dc ${distname}.tar.gz | tar -xf -"
}

#post-extract {
#   if { system "cd ${workpath} && gpg --verify ${distame}.tar.gz.asc \
#       ${distname}-${version}.tar.gz && gzip -dc ${distame}.tar.gz | tar -xf" }
#   {} else {
#       ui_error "pgp signature not valid"
#       exit(1)
#   }
#}
