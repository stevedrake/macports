# $Id$

PortSystem 1.0

name		libfetch
version		4.6.2-RELEASE
revision	2
categories	net
maintainers	nomaintainer@macports.org
description	FreeBSD file fetching library
long_description	These functions implement a high-level library for retrieving and \
			uploading files using Uniform Resource Locators (URLs).
platforms	darwin
use_bzip2	yes
homepage	http://www.freebsd.org/
master_sites	macports
checksums	md5 81e390ad3bf8309f65c923a0c034e841
patchfiles	patch-Makefile patch-http.c
build.type	bsd
worksrcdir	${name}
use_configure	no
set libver	3
destroot	{ cd ${workpath}/${worksrcdir}
		xinstall -m 644 -c libfetch.${libver}.dylib \
			${destroot}${prefix}/lib
		system "ln -sf libfetch.3.dylib ${destroot}${prefix}/lib/libfetch.dylib"
		xinstall -m 644 -c fetch.h ${destroot}${prefix}/include
		xinstall -m 644 -c fetch.3 ${destroot}${prefix}/share/man/man3 }

platform darwin 6 {
	patchfiles-append patch-ftp.c
}

platform darwin {
	build.env	LDADD="-Wl,-install_name,${prefix}/lib/libfetch.${libver}.dylib"
}
