--- libproxy/modules/config_gnome.cpp.orig	2010-03-21 01:33:48.000000000 +0100
+++ libproxy/modules/config_gnome.cpp	2010-03-21 01:35:57.000000000 +0100
@@ -114,7 +114,7 @@
 			throw runtime_error("Unable to open gconf helper!");
 
 		// Set the read pipe to non-blocking
-		if (fcntl(fileno(this->read), F_SETFL, FNONBLOCK) == -1) {
+		if (fcntl(fileno(this->read), F_SETFL, O_NONBLOCK) == -1) {
 			fclose(this->read);
 			fclose(this->write);
 			kill(this->pid, SIGTERM);
