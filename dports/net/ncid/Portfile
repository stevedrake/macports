# $Id$

PortSystem              1.0

name                    ncid
version                 0.73
categories              net
maintainers             davidlaporte.org:david ryandesign
homepage                http://ncid.sourceforge.net/
master_sites            sourceforge
platforms               darwin
distname                ${name}-${version}-src
worksrcdir              ${name}
use_configure           no
build.target            local
build.post_args         settag="Macintosh OS X" STRIP=
destroot.target         mac-install
destroot.destdir        prefix=${destroot}${prefix}
universal_variant       no
use_parallel_build      yes

description \
    Network Caller ID system

long_description \
    NCID is Caller ID (CID) distributed over a network to a variety of \
    devices and computers. It consists of a server that obtains the \
    Caller ID information and various clients that receive the \
    information from the server and act on it in various ways. \
    The NCID package consists of a server called ncidd, a universal \
    client called ncid and a CID client called ncidsip. \
    The server obtains the Caller ID information from a modem, a CID \
    device or one or more CID clients, and then sends the information \
    to each connected client.

checksums \
    md5     db1000260db2004b32ac4dbd7ee4013d \
    sha1    1e0de43e8fc2ea18f21ab0c0c13edb9a116c67b6 \
    rmd160  71527189a0a73a7899adceb020c3c51fa8e81a82

depends_lib \
    port:tcl \
    port:tk

patchfiles \
    patch-Makefile.diff \
    patch-manpages.diff

post-patch {
    reinplace "s|@PREFIX@|${prefix}|g" \
        ${worksrcpath}/Makefile \
        ${worksrcpath}/man/ncid.1 \
        ${worksrcpath}/man/ncidd.8 \
        ${worksrcpath}/man/ncidmodules.1 \
        ${worksrcpath}/man/ncidrotate.1 \
        ${worksrcpath}/man/ncidsip.8 \
        ${worksrcpath}/man/ncidtools.1 \
        ${worksrcpath}/man/sip2ncid.8 \
        ${worksrcpath}/man/yac2ncid.1
}
