# $Id$

PortSystem          1.0

name                ncid
version             0.67
categories          net
maintainers         ryandesign@macports.org
homepage            http://ncid.sourceforge.net/
master_sites        sourceforge
platforms           darwin
worksrcdir          ${name}
use_configure       no
build.target        mac
destroot.target     install-mac
destroot.destdir    prefix=${destroot}${prefix}

description \
	Network Caller ID system

long_description \
	NCID is Caller ID (CID) distributed over a network to a variety of \
	devices and computers. It consists of a server that obtains the \
	Caller ID information and various clients that receive the \
	information from the server and act on it in various ways. \
	The NCID package consists of a server called ncidd, a universal \
	client called ncid and a CID client called ncidsip. \
	The server obtains the Caller ID information from a modem, a CID \
	device or one or more CID clients, and then sends the information \
	to each connected client.

checksums \
	md5 b49d6ca63a7740a286548000f6a895e4 \
	sha1 06699d7675f6b5e29b0b5192f6c86cd7f74682fe \
	rmd160 84d58ea8b075c0f6fa663994349f0a9bb190bf81

patchfiles \
	patch-Makefile.diff \
	patch-manpages.diff

post-patch {
	reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/Makefile
	reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/man/ncid.1
	reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/man/ncidd.8
	reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/man/ncidscripts.1
	reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/man/ncidsip.8
	reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/man/ncidtools.1
}
