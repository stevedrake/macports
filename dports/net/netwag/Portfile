# $Id: Portfile,v 1.1 2004/10/26 12:49:37 mww Exp $

PortSystem 1.0

name			netwag
version			5.25.0
categories		net
platforms		darwin
maintainers		jmpalacios@ml1.net
description		Graphical front end for the netwox toolkbox.
long_description	Netwag is a TCL/TK based graphical frontend for the netwox \
				network toolbox, based on the netwib library. It allows one to \
				easily search amongst tools proposed in netwox and run them, \
				construct command line instructions, keep a history of \
				commands, etc.

homepage		http://www.laurentconstantin.com
master_sites	${homepage}/common/netw/${name}/download/v5/ \
				http://www.mirrors.wiretapped.net/security/packet-construction/${name}
extract.suffix	.tgz
distfiles		${distname}-src${extract.suffix} \
				${distname}-doc_html${extract.suffix}
checksums		${distname}-src${extract.suffix} \
					md5 be9c185e8d26739372b95d2ee6a86012 \
				${distname}-doc_html${extract.suffix} \
					md5 2f808ba441cacacab11a56f24a444a46

depends_lib		bin:wish:tk \
				bin:netwox525:netwox

worksrcdir		${distname}-src/src

pre-configure	{
	cd ${worksrcpath}
	reinplace "s|/usr/local|${prefix}|g" config.dat
	reinplace "s|man|share/man|g" config.dat
	reinplace "s|share/man1|man1|g" config.dat			
}

configure.cmd	./genemake
configure.pre_args      {}

post-destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/
	file copy ${workpath}/${distname}-doc_html \
		${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -v -W ${worksrcpath}/../doc/ changelog.txt credits.txt \
		todo.txt ${destroot}${prefix}/share/doc/${name}/
}
