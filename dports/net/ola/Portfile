# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                ola
version             0.8.9-1
categories          net comms
platforms           darwin
license             GPL-2+ LGPL-2.1+
maintainers         gmail.com:nomis52 p3k.org:interface

description         An open framework for DMX512 lighting control

long_description    The Open Lighting Architecture (OLA) provides a plugin \
                    framework for distributing DMX512 control signals on \
                    Mac and Linux. It provides C++ and Python libraries \
                    which abstract away the underlying DMX over IP protocol \
                    or DMX interface.

homepage            http://opendmx.net/index.php/OLA
master_sites        googlecode:linux-lighting

checksums           sha1    2acc4a9120bf936f0b9aa78f7a7fb3743f2c247f \
                    rmd160  e2ba861c6ef4be4fb13e6f9e17d2b95d02b04512

worksrcdir          ${name}-[lindex [split ${version} -] 0]

depends_build       port:pkgconfig

depends_lib         port:cppunit \
                    port:protobuf-cpp \
                    port:unittest-cpp

configure.args      --disable-http \
                    --disable-libusb

variant python description {Enable the Python API} {
    configure.args-append   --enable-python-libs
}

variant http description {Build with embedded web server} {
    depends_lib-append      port:libmicrohttpd
    configure.args-delete   --disable-http
}

variant libusb description {Build with libusb support} {
    depends_lib-append      port:libusb
    configure.args-delete   --disable-libusb
}

default_variants    +http +python +libusb

test.run            yes
test.target         check
