# -*- coding: utf-8; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                pastebinit
version             0.11.2
maintainers         mnick

categories          net python
description         pastebinit is a command-line tool to send data to a "pastebin"
long_description    ${description}: \
                    a web site which allows its users to upload snippets of text for public viewing.

platforms           darwin

homepage            http://www.stgraber.org/category/pastebinit
master_sites        http://launchpad.net/pastebinit/trunk/${version}/+download/

checksums           md5     64b620d7ae9fbdac8f2e23fbfecbdec3 \
                    sha1    57c3a9b21b8b1e6330546e17fd3e30628963f803 \
                    rmd160  ff5450bb10994982875eeceb1d8b60afdfe20c6e

use_configure       no

set sharedir        ${prefix}/share/${name}/
set localedir       ${prefix}/share/locale/

build {
    system "cd ${worksrcpath}/po && make"
}

destroot {
    xinstall -m 755 ${worksrcpath}/pastebinit ${destroot}${prefix}/bin
    
    # Localization
    xinstall -m 755 -d ${destroot}${localedir}
    foreach f  [glob ${worksrcpath}/po/mo/*] {
        file copy ${f} ${destroot}${localedir}
    }

    # Example config
    xinstall -m 755 -d ${destroot}${sharedir}
    foreach f {pastebinit.xml COPYING} {
        file copy ${worksrcpath}/${f} ${destroot}${sharedir}
    }
}

livecheck.type      regex
livecheck.url       http://launchpad.net/pastebinit
livecheck.regex     Latest version is (.*)
