--- src/psi-otr.cpp.orig	2008-03-20 19:55:35.000000000 +0100
+++ src/psi-otr.cpp	2008-03-20 22:21:10.000000000 +0100
@@ -24,6 +24,7 @@
 
 
 #include "psi-otr.h"
+#include <QDebug>
 
 /**
  * The default constructor.
@@ -141,8 +142,16 @@
 				removeResourceFromJid(fromJid).toStdString().c_str(),
 				removeResourceFromJid(toJid).toStdString().c_str(), 
 				QString(message.toUtf8()).toStdString().c_str());
-	
-	return QString::fromUtf8(encrypted);
+
+	// Bad ugly hack
+	if (encrypted != NULL && strlen(encrypted)>1) {
+		return QString::fromUtf8(encrypted);
+	} else if ((encrypted != NULL) && (strlen(encrypted) != 0)) {
+		return message;
+	}
+
+	return QString();
+
 }
 
 
