# $Id: Portfile,v 1.17 2004/08/12 18:20:16 mww Exp $

PortSystem 1.0

name		rsync
version		2.6.2
revision	2
categories	net
maintainers	mww@opendarwin.org
description	tool that provides fast incremental file transfer
long_description	rsync is a file transfer program for Unix systems. \
		rsync uses the 'rsync algorithm' which provides a very fast \
		method for bringing remote files into sync. It does this by \
		sending just the differences in the files across the link, \
		without requiring that both sets of files are present at one \
		of the ends of the link beforehand. 

homepage	http://samba.org/rsync/
master_sites	http://samba.org/ftp/rsync/ \
		ftp://samba.anu.edu.au/pub/rsync/  \
		ftp://sunsite.auc.dk/pub/unix/rsync/  \
		ftp://ftp.sunet.se/pub/unix/admin/rsync/  \
		ftp://ftp.fu-berlin.de/pub/unix/network/rsync/
checksums	md5 bcacd9a9108a9e4760832212ec3d658d
platforms	darwin freebsd sunos

patchfiles	patch-util.c.diff

configure.args	--mandir=${prefix}/share/man

variant ipv6 	{
	configure.args-delete	--disable-ipv6
	configure.args-append	--enable-ipv6
}

platform darwin 6	{
	patchfiles-append	patch-darwin6-configure.diff
}

build.type	gnu

post-destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} COPYING INSTALL NEWS OLDNEWS TODO \
		README doc/README-SGML doc/profile.txt doc/rsync.sgml \
		${destroot}${prefix}/share/doc/${name}
}
