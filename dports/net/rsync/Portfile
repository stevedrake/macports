# $Id: Portfile,v 1.23 2005/07/29 05:22:32 mww Exp $

PortSystem 1.0

name			rsync
version			2.6.6
categories		net
maintainers		mww@opendarwin.org
description		tool that provides fast incremental file transfer
long_description	rsync is a file transfer program for Unix systems. \
				rsync uses the 'rsync algorithm' which provides a very fast \
				method for bringing remote files into sync. It does this by \
				sending just the differences in the files across the link, \
				without requiring that both sets of files are present at one \
				of the ends of the link beforehand. 

homepage		http://samba.org/rsync/
master_sites	http://samba.org/ftp/rsync/ \
				ftp://samba.anu.edu.au/pub/rsync/  \
				ftp://sunsite.auc.dk/pub/unix/rsync/  \
				ftp://ftp.sunet.se/pub/unix/admin/rsync/  \
				ftp://ftp.fu-berlin.de/pub/unix/network/rsync/
checksums		md5 30c4e2849cbeae93f55548453865c2f2
platforms		darwin freebsd sunos

depends_lib		port:popt

configure.args	--mandir=${prefix}/share/man \
				--with-rsyncd-conf=${prefix}/etc/rsyncd.conf
configure.env	CFLAGS=-I${prefix}/include \
				LDFLAGS=-L${prefix}/lib

platform darwin 6 {
	patchfiles-append	patch-darwin6-configure.diff
}

build.type		gnu

post-destroot {
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} COPYING INSTALL NEWS OLDNEWS TODO \
		README doc/README-SGML doc/profile.txt doc/rsync.sgml \
		${destroot}${prefix}/share/doc/${name}
}
