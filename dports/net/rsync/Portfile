# $Id$

PortSystem 1.0

name            rsync
version         3.0.0
categories      net
platforms       darwin freebsd sunos
maintainers     mww@macports.org
description     tool that provides fast incremental file transfer
long_description \
	Rsync version 3.0.0 released on March 1st, 2008 \
	Rsync version 3.0.0 is finally here! This is a feature release \
	that also includes quite a few bug fixes. \
	The 3.0.0 version number is such a large bump up from 2.6.9 due \
	to the addition of an incremental recursion scan (which helps \
	a lot with large transfers) and the official arrival of several \
	other new features, including ACL support, extended attribute \
	support, filename character-set conversion, etc. \
	You can read all about the latest improvements and bug-fixes \
	in the NEWS file. The pre-release version of the manpages are \
	also available for both rsync and rsyncd.conf. \
	Related pages:                                                  \
	http://rsync.samba.org/ftp/rsync/rsync-3.0.0-NEWS
homepage        http://samba.org/rsync/
master_sites    http://rsync.samba.org/ftp/rsync/
checksums \
  md5 2122d460b4119749c6e5993938a9b501 \
  sha1 8c5582ba2977cd4bf96add95226c64b949931eec \
  rmd160 ab71155c8329a195f2c194c2284546d4cae07a97

distname        rsync-${version}

depends_lib     port:popt port:libiconv

configure.args  --mandir=${prefix}/share/man \
                --with-rsyncd-conf=${prefix}/etc/rsyncd.conf \
                --enable-ipv6 \
                --enable-xattr-support
configure.cflags   "-Os -I${prefix}/include"

post-destroot {
        xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
        xinstall -m 644 -W ${worksrcpath} COPYING INSTALL NEWS OLDNEWS  \
                TODO README doc/README-SGML doc/profile.txt             \
                doc/rsync.sgml \
                        ${destroot}${prefix}/share/doc/${name}
}
