# $Id: Portfile,v 1.2 2006/06/13 22:24:19 landonf Exp $

PortSystem 1.0
PortGroup python24 1.0

name			splat
version			1.0-rc2
categories		net
platforms		darwin
maintainers		landonf@opendarwin.org
description		Splat: Scalable Periodic LDAP Attribute Transmogrifier
long_description	Splat is a daemon designed to help keep information \
			in an LDAP directory in sync with information \
			outside of an LDAP directory. This information can \
			be any set of attributes on any object in the LDAP \
			directory.

homepage		http://dpw.threerings.net/projects/splat/
master_sites		${homepage}
checksums		md5 c1a160719e592dd645cd9ef9cad08ffb

depends_lib		port:py-ldap port:py-twisted port:py-zconfig

startupitem.create	yes
startupitem.name	Splat
startupitem.start	"${prefix}/sbin/splatd -f ${prefix}/etc/splat.conf -p /var/run/splatd.pid"
startupitem.stop	"kill `cat /var/run/splatd.pid`"

post-destroot {
	xinstall -m 644 ${worksrcpath}/splat.conf ${destroot}${prefix}/etc/splat.conf.sample
	file rename ${destroot}${prefix}/bin/splatd ${destroot}${prefix}/sbin/splatd
}
