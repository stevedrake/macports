--- src/store.cc.orig	2011-12-03 17:18:46.000000000 +1100
+++ src/store.cc	2011-12-06 14:15:54.000000000 +1100
@@ -368,7 +368,7 @@ StoreEntry::StoreEntry(const char *aUrl,
 
 #if USE_ADAPTATION
 void
-StoreEntry::deferProducer(const AsyncCall::Pointer &producer)
+StoreEntry::deferProducer(AsyncCall::Pointer &producer)
 {
     if (!deferredProducer)
         deferredProducer = producer;
--- src/Store.h.orig	2011-12-03 17:18:46.000000000 +1100
+++ src/Store.h	2011-12-06 14:21:26.000000000 +1100
@@ -191,7 +191,7 @@ public:
 
 #if USE_ADAPTATION
     /// call back producer when more buffer space is available
-    void deferProducer(const AsyncCall::Pointer &producer);
+    void deferProducer(AsyncCall::Pointer &producer);
     /// calls back producer registered with deferProducer
     void kickProducer();
 #endif
