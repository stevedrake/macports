# $Id$

PortSystem 1.0

name             tcpflow
version          0.21
revision         1
categories       net security
maintainers      simon openmaintainer
description      TCP flow recorder
long_description \
    tcpflow is a program that captures data transmitted as part of TCP \
    connections (flows), and stores the data in a way that is convenient \
    for protocol analysis or debugging. A program like tcpdump(4) shows \
    a summary of packets seen on the wire, but usually doesn't store the \
    data that's actually being transmitted.  In contrast, tcpflow \
    reconstructs the actual data streams and stores each flow in a \
    separate file for later analysis.  tcpflow understands TCP sequence \
    numbers and will correctly reconstruct data streams regardless of \
    retransmissions or out-of-order delivery.
homepage         http://www.circlemud.org/~jelson/software/tcpflow/
platforms        darwin freebsd
master_sites     http://www.circlemud.org/pub/jelson/tcpflow/
checksums        md5 45a5aef6f043312315b7f342afc4a9c5
depends_lib      port:libpcap

configure.args   --mandir=${prefix}/share/man

platform darwin {
    depends_lib-append port:libtool
    pre-configure {
        copy -force ${prefix}/share/libtool/config.guess ${prefix}/share/libtool/config.sub ${worksrcpath}
    }
}

platform darwin 9 {
#macosx_deployment_target 10.4
     configure.env-append MACOSX_DEPLOYMENT_TARGET=10.4
     build.env-append MACOSX_DEPLOYMENT_TARGET=10.4
     destroot.env-append MACOSX_DEPLOYMENT_TARGET=10.4
}

livecheck.check   regex
livecheck.regex   "${name} is v(\\d+(?:\\.\\d+)*)"
