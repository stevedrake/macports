# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                tnftpd
version             20091122
categories          net
license             BSD
maintainers         snc openmaintainer
description         Internet File Transfer Protocol server
long_description    ${name} is the Internet File Transfer Protocol server \
                    process.  The server uses the TCP protocol and listens at \
                    the port specified in the ``ftp'' service specification\; \
                    see services(5).
    
homepage            ftp://ftp.netbsd.org/pub/NetBSD/misc/tnftp/
platforms           darwin

master_sites        ${homepage}
checksums           md5     e7f86e7680648b675ee27c94655de494 \
                    sha1    82feb3cf2124eb5aa3edb2be6a468df2c05bc1b0 \
                    rmd160  8eaffa2b0d3c8fb0b33dae1e1dd9cd58c7c45afd

use_autoconf        yes

configure.args-append   --with-pam

destroot {
    xinstall -m 555 ${worksrcpath}/src/${name} ${destroot}${prefix}/sbin/

    xinstall -m 444 ${worksrcpath}/src/ftpd.conf.man ${destroot}${prefix}/share/man/man5/ftpd.conf.5
    xinstall -m 444 ${worksrcpath}/src/ftpusers.man ${destroot}${prefix}/share/man/man5/ftpdusers.5
    xinstall -m 444 ${worksrcpath}/src/${name}.man ${destroot}${prefix}/share/man/man8/${name}.8

    xinstall -d 555 ${destroot}${prefix}/share/${name}/examples/
    xinstall -m 444 ${worksrcpath}/examples/ftpd.conf ${destroot}${prefix}/share/${name}/ftpd.conf.default
    xinstall -m 444 ${worksrcpath}/examples/ftpusers ${destroot}${prefix}/share/${name}/ftpusers

    xinstall -m 444 ${worksrcpath}/COPYING ${destroot}${prefix}/share/${name}/
    xinstall -m 444 ${worksrcpath}/NEWS ${destroot}${prefix}/share/${name}/
    xinstall -m 444 ${worksrcpath}/README ${destroot}${prefix}/share/${name}/
    xinstall -m 444 ${worksrcpath}/THANKS ${destroot}${prefix}/share/${name}/
}

