# $Id: Portfile,v 1.6 2004/04/27 01:06:51 matt Exp $
PortSystem 1.0
name		wakeonlan
version		0.40
categories	net
maintainers	mww@opendarwin.org
platforms	darwin freebsd
description	wakeonlan sends magic packets for network-devices to wake up
long_description	Wakeonlan is a Perl script that sends 'magic packets' \
			to wake-on-LAN enabled ethernet adapters and \
			motherboards, in order to switch on remote computers. 

homepage	http://gsd.di.uminho.pt/jpo/software/wakeonlan/
master_sites	${homepage}downloads/
checksums	md5 d045e8e4c1db580e9bc16404c711dabc

depends_build   bin:perl:perl5.8
depends_run	bin:perl:perl5.8

patch		{ reinplace "s|/usr/bin/perl -w|/usr/bin/env perl|g" \
			${worksrcpath}/wakeonlan }
configure 	{ system "cd ${worksrcpath} && perl Makefile.PL" }

destroot 	{ system "cd ${worksrcpath} \
		&& install -m 644 ${worksrcpath}/blib/man1/wakeonlan.1 \
			${destroot}${prefix}/share/man/man1/ \
		&& install -m 755 ${worksrcpath}/blib/script/wakeonlan \
			${destroot}${prefix}/bin/ \
		&& install -m 755 -d ${destroot}${prefix}/share/doc/${name} \
		&& cp Changes MANIFEST README examples/lab001.wol \
			${destroot}${prefix}/share/doc/${name}" }

