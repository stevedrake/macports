
PortSystem		1.0
name			slrn-devel
set betaversion		0.9.8.1pl2
set cvsversion		20070125
version			${betaversion}-${cvsversion}
categories		news net
platforms		darwin
maintainers		sbranzo@gmail.com
homepage		http://slrn.sourceforge.net/
description		A powerful console-based newsreader

long_description	slrn is an easy to use but powerful NNTP/spool based \
			newsreader.  It is highly customizable, supports \
			scoring, free key bindings, and can be extended using \
			the SLang macro language.
			
master_sites 		http://ftp.debian.org/debian/pool/main/s/slrn/
distname		slrn_${betaversion}~cvs${cvsversion}.orig
worksrcdir      	slrn-${betaversion}~cvs${cvsversion} 
checksums		sha1 6154f18f059c707d281a0627c7186cbe376729a4

use_bzip2		no

depends_lib		port:slang2 \
			port:libiconv


# Works for tiger (automake-1.6)
pre-configure		{ 
			system "cd ${worksrcpath}/autoconf; rm config.guess config.sub depcomp install-sh missing"
			system "cd ${worksrcpath}/autoconf; ln -s /usr/share/automake-1.6/config.guess config.guess" 
			system "cd ${worksrcpath}/autoconf; ln -s /usr/share/automake-1.6/config.sub config.sub" 
			system "cd ${worksrcpath}/autoconf; ln -s /usr/share/automake-1.6/depcomp depcomp" 
			system "cd ${worksrcpath}/autoconf; ln -s /usr/share/automake-1.6/install-sh install-sh" 
			system "cd ${worksrcpath}/autoconf; ln -s /usr/share/automake-1.6/missing missing" 
			}

configure.args		--with-libiconv-prefix=${prefix} 

# adds slrnpull
variant	pull		{ configure.args-append	--with-slrnpull }

# ssl variant 		
variant ssl		{ 
			configure.args-append 	--with-ssl=${prefix} \
						--with-ssl-includes=${prefix}/include/openssl
			
			depends_lib-append	port:openssl
}
