# $Id$

PortSystem 1.0

name            xpn
version         1.2.5
categories      news
description     Graphical newsreader written in PyGtk.
long_description XPN (X Python Newsreader) is a news client written in \
                Python and based on the GTK+ library. It offers a good \
                MIME support, scoring system, filtered views, random \
                tag-lines, external editor support, one-key navigation, \
                ROT13, Face and X-Face headers decoding, spoiler char \
                and many more.
maintainers     nomaintainer
platforms       darwin
homepage        http://xpn.altervista.org/
master_sites    ${homepage}codice
checksums       md5     9098ceac4cb3f93a7179845830bb626b \
                sha1    121d5c7cbedb2854582ab71bf0e361f0233944e0 \
                rmd160  cbbcf910f358a5b3ac4bf6f0be694d7feb51550a
depends_lib     port:py25-gtk \
                port:py25-sqlite3
use_configure   no
universal_variant no
build           {}
destroot {
    file copy ${worksrcpath} ${destroot}${prefix}/share
    file copy ${filespath}/xpn.sh ${destroot}${prefix}/bin/xpn
    system "chmod +x ${destroot}${prefix}/share/xpn-${version}"
    system "chmod -R og+rw ${destroot}${prefix}/share/xpn-${version}"
    system "chmod +x ${destroot}${prefix}/bin/xpn"
}

post-destroot {
    reinplace "s|__PREFIX__|${prefix}|g" ${destroot}${prefix}/bin/xpn
    reinplace "s|__VERSION__|${version}|g" ${destroot}${prefix}/bin/xpn
}

post-activate {
    ui_msg "------------------------------------------------------"
    ui_msg "XPN has been installed in ${prefix}/share/xpn-${version}"
    ui_msg "and can be launched by calling the script 'xpn'"
    ui_msg "that has been created in ${prefix}/bin"
    ui_msg "------------------------------------------------------"
}
