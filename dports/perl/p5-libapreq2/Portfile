# $Id$

PortSystem                1.0
PortGroup                 perl5 1.0

perl5.setup               libapreq2 2.12 Apache2
maintainers               narf_tm openmaintainer
description               Methods for dealing with client request data
long_description          Apache::Request is a subclass of the Apache class, \
                          which adds methods for parsing GET requests and POST \
                          requests where Content-type is one of \
                          application/x-www-form-urlencoded or \
                          multipart/form-data.

platforms                 darwin

checksums                 md5 76e2acde0d82246dea6f2565f3746eec \
                          sha1 0199b9d7a6d85b2df849f29e41a4a4d7a83a2a3f \
                          rmd160 576b3a514e943ef3c28c45530d9e5a6d75132902

depends_lib-append        port:apache2 \
                          port:mod_perl2 \
                          port:p5-extutils-xsbuilder

configure.args            --with-apache2-apxs=${prefix}/apache2/bin/apxs --with-mm-opts="${configure.args}"

destroot.pre_args         install

destroot.violate_mtree    yes

## stolen from perl5 group code
post-destroot         {
                          foreach packlist [exec find ${destroot} -name .packlist] {
                              ui_info "Fixing packlist ${packlist}"
                              reinplace "s|${destroot}||" ${packlist}
                          }
                          foreach badfile [exec find ${destroot} -name perllocal.pod] {
                              ui_info "Removing ${badfile}"
                              file delete ${badfile}
                          }
                      }
