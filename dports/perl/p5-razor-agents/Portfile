# $Id: Portfile,v 1.4 2004/03/31 18:09:47 rshaw Exp $
PortSystem 1.0
PortGroup perl5 1.0

perl5.setup		razor-agents 2.36
revision		2
maintainers		rshaw@opendarwin.org
categories-append	mail
description		a distributed, collaborative, spam detection and filter network
long_description	Vipul's Razor is a distributed, collaborative, spam \
					detection and filtering network. Through user \
					contribution, Razor establishes a distributed and \
					constantly updating catalogue of spam in propagation \
					that is consulted by email clients to filter out \
					known spam.  Detection is done with statistical and \
					randomized signatures that efficiently spot mutating \
					spam content. User input is validated through \
					reputation assignments based on consensus on report \
					and revoke assertions which in turn is used for \
					computing confidence values associated with \
					individual signatures.
homepage		http://razor.sourceforge.net/
master_sites	sourceforge:razor
checksums		md5 5deaae3ea2300bf480b6904f8a69a7f1
platforms		darwin

# Depends on these Perl modules
depends_lib		lib:XXX:p5-digest-nilsimsa \
				lib:XXX:p5-digest-sha1 \
				lib:XXX:p5-net-dns \
				lib:XXX:p5-uri

patchfiles		patch-razor2.spamassassin

post-destroot {
	foreach script {razor-admin razor-check razor-report razor-revoke} {
		ui_info "Creating link ${destroot}${prefix}/bin/${script}"
		system "ln -fs razor-client ${destroot}${prefix}/bin/${script}"
	}
}

