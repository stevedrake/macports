# $Id: Portfile 70937 2010-08-27 00:39:37Z ryandesign@macports.org $

PortSystem              1.0

name                    php5-unit
set cap_name            PHPUnit
version                 3.5.13
categories              php devel
maintainers             singingwolfboy openmaintainer
homepage                http://www.phpunit.de
master_sites            http://pear.phpunit.de/get/
distname                ${cap_name}-${version}
extract.suffix          .tgz
platforms               darwin freebsd
checksums               md5     698e97db8c8147398e2db030a3b370e0 \
                        sha1    5441614f57d16920b45ecd778ce6711e2b12087c \
                        rmd160  3ed936f15a2d1df6c652ac7a908d8eb6fcba785e
description             unit testing for PHP
long_description \
    PHPUnit  is a member of the  xUnit family of testing frameworks \
    and provides both a framework that makes the writing of tests easy \
    as well as the functionality to easily run the tests and analyse \
    their results.

depends_lib             port:php5

use_configure           no
build                   {}
destroot {
    reinplace "s|@php_bin@|${prefix}/bin/php|" ${worksrcpath}/${name}.php
    reinplace "s|@php_bin@|${prefix}/bin/php|" ${worksrcpath}/${cap_name}/Util/PHP.php
    
    xinstall -m 755 ${worksrcpath}/${name}.php ${destroot}${prefix}/bin/${name}
    file copy ${worksrcpath} ${destroot}${prefix}/lib/php/
}
