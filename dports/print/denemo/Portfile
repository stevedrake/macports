# $Id: Portfile,v 1.3 2006/04/30 01:06:54 yves Exp $

PortSystem 1.0
name			denemo
version			0.7.5
categories		print audio x11
platforms		darwin
maintainers		yves@opendarwin.org
description		Denemo is a unique score editor
long_description \
    Denemo is a unique score editor which exports notation \
    to LilyPond and ABC music formats. \
    It also acts as a frontend for Csound score files. \
    Denemo is different from most graphic music editors, \
    this is partly because it was created to help edit Lilypond notation \
    and partly because of its unique design philosophy. 

homepage		http://denemo.sourceforge.net/

master_sites    sourceforge
checksums       md5 2975d77d8fdfb2a8848e9b49ff28643f

depends_lib     port:librsvg
depends_run     port:qtplay
                #port:csound

patchfiles      patch-denemo.conf patch-prefops.c
post-patch {
    reinplace "s|../../mkinstalldirs|mkinstalldirs|g" \
        ${worksrcpath}/pixmaps/Makefile.in
    system "touch ${worksrcpath}/src/malloc.h"
}

configure.env   CFLAGS="-I${prefix}/include -DDEBUG" \
                LDFLAGS="-L${prefix}/lib"
configure.args  --disable-alsa \
                --with-plugins=analysis,midiinput,rumour
