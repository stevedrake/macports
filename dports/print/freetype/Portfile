# $Id$

PortSystem	1.0
name            freetype
version         2.3.3
categories      print graphics
maintainers     ryandesign@macports.org openmaintainer@macports.org
description     A software font engine
long_description \
		FreeType2 is a software font engine that is designed to \
		be small, efficient, highly customizable and portable while \
		capable of producing   high-quality output (glyph images). \
		It can be used in graphics libraries, display servers, font \
		conversion tools, text image generation tools, and many \
		other products as well.
homepage        http://freetype.sourceforge.net/
platforms       darwin
master_sites    http://download.savannah.gnu.org/releases/freetype/ \
                    sourceforge
use_bzip2       yes
checksums \
	md5 c0367b4059f672789b7a41e65f7a4b4a \
	sha1 01796d4ac2875b47e81cf9b0aae710459bfca633 \
	rmd160 bec85941cb22fc43ab4935a074d32dc37c24b483

patchfiles      patch-modules.cfg.diff
depends_lib     port:zlib
configure.env   CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"

variant x86	{
	patchfiles-append	patch-builds-unix-configure
}

variant bytecode {
    pre-configure {
        ui_msg "\n\n\
            You may want not to compile a bytecode interpreter into the\n\
            TrueType driver. Without this you will only compile the code\n\
            necessary to load TrueType glyphs without hinting.\n\n\
            Note that there are important patent issues related to the\n\
            use of the interpreter.\n\n"
    }
    patchfiles-append patch-ftoption.h
}
