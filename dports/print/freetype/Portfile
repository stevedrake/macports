# $Id: Portfile,v 1.20 2006/05/27 18:56:29 yves Exp $

PortSystem	1.0
name            freetype
version         2.2.1
categories      print graphics
maintainers     yves@opendarwin.org
description     A software font engine
long_description \
		FreeType2 is a software font engine that is designed to \
		be small, efficient, highly customizable and portable while \
		capable of producing   high-quality output (glyph images). \
		It can be used in graphics libraries, display servers, font \
		conversion tools, text image generation tools, and many \
		other products as well.
homepage        http://freetype.sourceforge.net/
platforms       darwin
master_sites    http://download.savannah.gnu.org/releases/freetype/ \
                    sourceforge
use_bzip2       yes
checksums       md5  5b2f827082c544392a7701f7423f0781 \
				sha1 4aa7d5ce2198fad586cf09ef7c9d3a6277320167
depends_lib     port:zlib
configure.args  --with-zlib=${prefix}
configure.env   CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"

variant x86	{
	patchfiles-append	patch-builds-unix-configure
}

variant bytecode {
    pre-configure {
        ui_msg "\n\n\
            You may want not to compile a bytecode interpreter into the\n\
            TrueType driver. Without this you will only compile the code\n\
            necessary to load TrueType glyphs without hinting.\n\n\
            Note that there are important patent issues related to the\n\
            use of the interpreter.\n\n"
    }
    patchfiles-append patch-ftoption.h
}
