# $Id: Portfile,v 1.2 2004/10/14 19:39:49 olegb Exp $
PortSystem 1.0
name		freetype1
version		1.3.1
revision	1
categories	print
maintainers	olegb@opendarwin.org
description	Free and portable render engine for TrueType fonts
long_description	The FreeType engine is a free and portable TrueType \
			font rendering engine. It has been developed to \
			provide TT support to a great variety of platforms \
			and environments. Notice that FreeType is a *library*. \
			It is *not* a font server for your preferred environment, \
			even though it was designed to allow the design of \
			many font servers.  
platforms	darwin
distname	freetype-${version}
master_sites	sourceforge:freetype
checksums	md5 9a9e7ad00c1ef6dfbf8f8e19ceefb300
platform darwin {
	pre-configure 	{ 
		file copy -force /usr/share/libtool/config.sub ${worksrcpath} 
		file copy -force /usr/share/libtool/config.guess ${worksrcpath} 
		reinplace "s|all: ttlib tttest ttpo|all: ttlib ttpo|g" \
			${worksrcpath}/Makefile.in
	}
}
configure.args	--mandir=${prefix}/share/man --prefix=${destroot}${prefix}
destroot 	{
			system "cd ${worksrcpath}/lib \
			&& make -f arch/unix/Makefile install"

			system "cd ${worksrcpath}/po \
                        && make install"
		}
post-destroot	{
			system "cd ${destroot}/${prefix} \
			&& mv include/freetype include/freetype1"
		}
