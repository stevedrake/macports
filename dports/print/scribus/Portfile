# $Id$

PortSystem		1.0
name			scribus
version			1.3.3.4
categories		print
maintainers		takanori@macports.org
description		X11-based WYSIWYG desktop publishing application
long_description	Scribus is an open source desktop publishing program. It provides  true \
			WYSIWYG  editing,  excellent PDF export facilities, and a wide range of \
			other input and output options.
platforms		darwin
homepage		http://www.scribus.net/
master_sites		sourceforge:scribus
checksums		md5 ccd7fb34a77b7e3d83e902fb3f5b731b \
			sha1 e8fb443035125e9db604202991f65729998c7538 \
			rmd160 71f1313299d0f38083fb3909773c643539f93f9e
use_bzip2		yes
depends_build		bin:perl:perl5.8
depends_lib		bin:gs:ghostscript \
			lib:libX11.6:XFree86 \
			port:cairo \
			port:expat \
			port:fontconfig \
			port:freetype \
			port:jpeg \
			port:libart_lgpl \
			port:libiconv \
			port:libpng \
			port:lcms \
			port:libxml2 \
			port:openssl \
			port:pkgconfig \
			port:qt3 \
			port:tiff \
			port:Xft2 \
			port:xrender \
			port:zlib

configure.env		CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib" HOME=${worksrcpath}
configure.args		--with-qt-dir=${prefix}/lib/qt3 --without-python --enable-cairo \
			--with-extra-includes=${prefix}/include --with-extra-libs=${prefix}/lib \
			--disable-dependency-tracking --mandir=${prefix}/share/man
pre-configure	{
		if {[file exists ${prefix}/bin/cups-config]} {
			ui_msg "port:cups-headers may prevent building this port."
			ui_msg "Please uninstall (or deactivate) cups-headers and restart the build."
			exit 1
		}
}
build.env		HOME=${worksrcpath}
#destroot.target	install-strip

livecheck.check regex
livecheck.url   ${homepage}
livecheck.regex Scribus v(\[0-9.\]+)
