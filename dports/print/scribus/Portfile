# $Id$

PortSystem		1.0
name			scribus
version			1.3.3.8
categories		print
maintainers		nomaintainer@macports.org
description		X11-based WYSIWYG desktop publishing application
long_description	Scribus is an open source desktop publishing program. It provides  true \
			WYSIWYG  editing,  excellent PDF export facilities, and a wide range of \
			other input and output options.
platforms		darwin
homepage		http://www.scribus.net/
master_sites		sourceforge:scribus
checksums		md5 fa79c8bba3e6e09b0bdeaf16579d6fa1 \
			sha1 45c13e3b09c1e6994dd3bd5989f80b10eae237c7 \
			rmd160 e50dbf3eadcccc2509b2b6f61290628d6b451346
use_bzip2		yes
depends_build		bin:perl:perl5.8
depends_lib		bin:gs:ghostscript \
			lib:libX11.6:XFree86 \
			port:cairo \
			port:expat \
			port:fontconfig \
			port:freetype \
			port:jpeg \
			port:libart_lgpl \
			port:libiconv \
			port:libpng \
			port:lcms \
			port:libxml2 \
			port:pkgconfig \
			port:qt3 \
			port:tiff \
			port:Xft2 \
			port:xrender \
			port:zlib

configure.env		CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib" HOME=${worksrcpath}
configure.args		--with-qt-dir=${prefix}/lib/qt3 --without-python --enable-cairo \
			--with-extra-includes=${prefix}/include --with-extra-libs=${prefix}/lib \
			--disable-dependency-tracking --mandir=${prefix}/share/man
pre-configure	{
		if {[file exists ${prefix}/bin/cups-config]} {
			ui_msg "port:cups-headers may prevent building this port."
			ui_msg "Please uninstall (or deactivate) cups-headers and restart the build."
			exit 1
		}
}
build.env		HOME=${worksrcpath}
#destroot.target	install-strip

livecheck.check regex
livecheck.url   ${homepage}
livecheck.regex Scribus v(\[0-9.\]+)
