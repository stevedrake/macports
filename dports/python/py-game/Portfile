# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0
PortGroup python24 1.0

name            py-game
version         1.8.0
categories      python devel multimedia graphics
platforms       darwin
maintainers     nomaintainer
description     Python modules for writing games
long_description    Pygame is a set of Python modules designed for \
                writing games. It is written on top of the excellent \
                SDL library. This allows you to create fully featured \
                games and multimedia programs in the python language. \
                Pygame is highly portable and runs on nearly every \
                platform and operating system.
homepage        http://www.pygame.org/
master_sites    ${homepage}ftp/
distname        pygame-${version}release
checksums       md5 8d9cca47d356db2ada07865aa066dceb \
                sha1 00ef4695efc7a666017862ae4cffc316902dd99b \
                rmd160 6df6f88deea5a1ef19933e6a0696e102843b293c

patchfiles      patch-config_darwin.py.diff

depends_lib-append     port:libsdl \
                port:libsdl_mixer \
                port:libsdl_image \
                port:libsdl_ttf \
                port:smpeg \
                port:py-numeric \
                port:py-pyobjc

use_configure   yes
configure.env-append LOCALBASE=${prefix}
configure.cmd   ${python.bin} config.py

platform darwin 9 {
    depends_lib-delete port:py-pyobjc
    depends_lib-append port:py-pyobjc2 port:py-pyobjc2-cocoa
}

post-destroot   {
    file delete -force ${destroot}${prefix}/share/doc/${name}
    file copy ${worksrcpath}/docs ${destroot}${prefix}/share/doc/${name}
    file copy ${worksrcpath}/examples ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 -W ${worksrcpath} install.html WHATSNEW \
        readme.txt ${destroot}${prefix}/share/doc/${name}
}

livecheck.check regex
livecheck.url   http://pypi.python.org/pypi/Pygame/
livecheck.regex {Pygame ([0-9]\.[0-9]+\.[0-9]+)}
