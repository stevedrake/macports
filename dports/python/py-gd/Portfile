# $Id: Portfile,v 1.11 2004/12/28 06:51:29 mww Exp $

PortSystem 1.0
PortGroup python24 1.0

name			py-gd
version			0.53
revision		1
categories		python graphics
maintainers		mww@opendarwin.org
platforms		darwin
description		py-gd is a python wrapper for the GD library
long_description	py-gd is a python wrapper for the graphics library GD \
				so you can use python to create/manipulate images \
				(png, jpeg) by drawing lines, text, doing flood-fills, \
				etc.

homepage		http://newcenturycomputers.net/projects/gdmodule.html
master_sites	http://newcenturycomputers.net/projects/download.cgi/
distname		gdmodule-${version}
checksums		md5 4a6c69697e1ff9825b23624cdab8dbdc
patchfiles		patch-Setup.py.diff

depends_lib-append	lib:libgd.2:gd2

post-patch	{
	file rename ${worksrcpath}/Setup.py ${worksrcpath}/_Setup.py
	file rename ${worksrcpath}/_Setup.py ${worksrcpath}/setup.py
	reinplace "s|PREFIX|${prefix}|g" ${worksrcpath}/setup.py
}

build.env	LDFLAGS="-L${prefix}/lib"

post-destroot   {
	xinstall -m 644 -W ${worksrcpath} README gd-ref.html \
		install_notes.html ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/gddemo.py \
		${destroot}${prefix}/share/doc/${name}/examples/
}
