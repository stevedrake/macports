# $Id: Portfile,v 1.4 2004/12/28 06:34:46 mww Exp $

PortSystem 1.0
PortGroup python24 1.0

name			py-gdbm
version			2.4
categories		python databases
platforms		darwin
maintainers		mww@opendarwin.org
description		Python bindings to the GNU dbm library
long_description	${description}

homepage		http://www.python.org/doc/current/lib/module-gdbm.html
master_sites	http://www.python.org/ftp/python/${version}/
distname		Python-${version}
dist_subdir		python24
checksums		md5 44c2226eff0f3fc1f2fedaa1ce596533
use_bzip2		yes

depends_lib-append	lib:libgdbm:gdbm

worksrcdir	${worksrcdir}/Modules

extract.post_args	"| tar -xf - ${distname}/Modules/gdbmmodule.c"
post-extract {
	file copy	${filespath}/setup.py ${worksrcpath}
}

patch	{
	reinplace "s|VERSION|${version}|g" ${worksrcpath}/setup.py
}
