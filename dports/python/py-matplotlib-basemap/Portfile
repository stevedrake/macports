# $Id$

PortSystem        1.0
PortGroup         python 1.0

name              py-matplotlib-basemap
version           1.0.1
revision          2
categories        python graphics math
platforms         darwin
maintainers       ram openmaintainer

description       matplotlib toolkit for plotting data on map projections
long_description  Matplotlib basemap is a matplotlib toolkit python library \
                  for plotting data on map projections

homepage          http://matplotlib.sourceforge.net
master_sites      sourceforge:project/matplotlib/matplotlib-toolkits/basemap-${version}/
distname          basemap-${version}

checksums         md5 3548c3751bdd52f18199dab5c02f7b4e \
                  sha1 bd278580c004ec597020e313cc2c568593a018eb \
                  rmd160 0f4d666856726bfe290311610a5bbf569a4d25d5

python.versions   24 25 26 27

depends_lib-append port:geos

if {${subport} == "py24-matplotlib-basemap"} {
  depends_lib-append port:py-matplotlib \
                     port:py-httplib2 \
                     port:py-dap
} elseif {${subport} != ${name}} {
  depends_lib-append port:py${python.version}-matplotlib \
                     port:py${python.version}-httplib2 \
                     port:py${python.version}-dap
}

patchfiles        patch-setup.cfg.diff

build.env-append    GEOS_DIR="${prefix}"
destroot.env-append GEOS_DIR="${prefix}"

universal_variant no

post-destroot {
  delete ${destroot}${python.pkgd}/mpl_toolkits/__init__.py
  delete ${destroot}${python.pkgd}/mpl_toolkits/__init__.pyc
}

livecheck.type     regex
livecheck.url      http://sourceforge.net/projects/matplotlib/files/matplotlib-toolkits
livecheck.regex    {basemap-(\d+(\.\d+)*)}
