# $Id: Portfile,v 1.9 2005/07/11 14:24:31 mww Exp $

PortSystem		1.0
PortGroup		python24 1.0

name			py-pil
version			1.1.5
maintainers		rshaw@opendarwin.org
description		Python Imaging Library
long_description	The Python Imaging Library (PIL) adds image \
					processing capabilities to your Python interpreter. \
					This library supports many file formats, and \
					provides powerful image processing and graphics \
					capabilities. 
categories-append	graphics
platforms		darwin freebsd
homepage		http://www.pythonware.com/
master_sites	http://effbot.org/downloads/
distname		Imaging-${version}
checksums		md5 a64512e39469213ced0d091b9eba76c0
patchfiles		patch-setup.py

depends_lib-append	port:jpeg \
					port:freetype \
					port:zlib

post-patch {
	reinplace s,__PREFIX__,${prefix},g ${worksrcpath}/setup.py
}

post-destroot {
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}
	xinstall -m 0644 -W ${worksrcpath} BUILDME CHANGES-115 CONTENTS README \
		${destroot}${prefix}/share/doc/${name}
}

# broke this variant during update to 1.1.5!
#variant tk {
#	build.env			WITH_TK=yes ${configure.env}
#	depends_lib-append	port:tk port:py-tkinter
#}
