# $Id$

PortSystem 1.0
PortGroup python24 1.0

name			py-pygresql
version			3.8.1
categories		python databases
platforms		darwin
maintainers		jwa openmaintainer
description		Python module that interfaces to a PostgreSQL database
long_description	PyGreSQL is an open-source Python module that \
    interfaces to a PostgreSQL database. It embeds the PostgreSQL query \
    library to allow easy use of the powerful PostgreSQL features from a \
    Python script.

homepage		http://www.pygresql.org/
master_sites		ftp://ftp.pygresql.org/pub/distrib/ freebsd
distname		PyGreSQL-${version}
extract.suffix		.tgz
checksums		sha1 341d14beb99e88f779657db3ce146b41c897f975

depends_lib-append	port:postgresql82

patch {
    reinplace "s|\"pg_config|\"${prefix}/lib/postgresql82/bin/pg_config|g" \
	${worksrcpath}/setup.py
}

post-destroot	{
    xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
    foreach doc [glob ${worksrcpath}/docs/*] {
	xinstall -m 644 ${doc} ${destroot}${prefix}/share/doc/${name}
    }
    foreach doc [glob ${worksrcpath}/tutorial/*] {
	xinstall -m 644 ${doc} ${destroot}${prefix}/share/doc/${name}
    }
}

livecheck.check	regex
livecheck.url	${homepage}announce.html
livecheck.regex	PyGreSQL version (3\.\[0-9\.\]+)
