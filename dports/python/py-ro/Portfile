# $Id: Portfile,v 1.5 2004/05/03 14:45:59 mww Exp $

PortSystem 1.0
PortGroup python 1.0

name		py-ro
version		3.3
categories	python devel
maintainers	mww@opendarwin.org
platforms	darwin freebsd
description	advanced Distributed Object Technology for python
long_description	Pyro is an acronym for PYthon Remote Objects. It is \
		an advanced and powerful Distributed Object Technology system \
		written entirely in Python, that is designed to be very easy \
		to use. It resembles Java's Remote Method Invocation (RMI). It \
		is less similar to CORBA - which is a system- and language \
		independent Distributed Object Technology and has much more to \
		offer than Pyro or RMI. But Pyro is small, simple and free \
		(MIT software license).

homepage	http://pyro.sourceforge.net/
master_sites	sourceforge:pyro
distname	Pyro-${version}
checksums	md5 09faeec7aa07e88187902f42d74a4514
patchfiles	patch-setup.cfg.diff

post-patch	{
	reinplace "s|DESTROOT|${destroot}${prefix}|g" ${worksrcpath}/setup.cfg
}

post-build	{
	reinplace "s|python|${python.bin}|g" ${worksrcpath}/bin/es \
		${worksrcpath}/bin/genguid ${worksrcpath}/bin/ns \
		${worksrcpath}/bin/nsc ${worksrcpath}/bin/pyroc \
		${worksrcpath}/bin/rns ${worksrcpath}/bin/wxnsc \
		${worksrcpath}/bin/xnsc
}

post-destroot	{
	xinstall -m 644 -W ${worksrcpath}/docs 1-intro.html 10-errors.html \
		11-implementation.html 12-changes-archive.html 12-changes.html \
		2-concepts.html 3-install.html 4-usage.html 5-nameserver.html \
		6-eventserver.html 7-features.html 8-example.html \
		9-security.html LICENSE PyroManual.html index.html \
		${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} README.txt TODO \
		${destroot}${prefix}/share/doc/${name}
}
