--- spyderlib/spyder.py.orig	2011-08-11 13:54:43.000000000 -0500
+++ spyderlib/spyder.py	2011-08-11 13:58:55.000000000 -0500
@@ -101,9 +101,9 @@
             return osp.join(doc_path, python_chm[0])
     else:
         vinf = sys.version_info
-        doc_path = '/usr/share/doc/python%d.%d/html' % (vinf[0], vinf[1])
+        doc_path = '@@PREFIX@@/share/doc/python%d%d-doc' % (vinf[0], vinf[1])
     python_doc = osp.join(doc_path, "index.html")
     if osp.isfile(python_doc):
-        return python_doc
+        return 'file://' + python_doc
     
 def open_python_doc():
@@ -651,6 +651,8 @@
                     spyder_doc = osp.join(osp.dirname(__file__), os.pardir,
                                           'build', 'lib', 'spyderlib', 'doc',
                                           "index.html")
+                else:
+                    spyder_doc = "file://" + spyder_doc
             doc_action = create_bookmark_action(self, spyder_doc,
                                _("Spyder documentation"), shortcut="F1",
                                icon=get_std_icon('DialogHelpButton'))
