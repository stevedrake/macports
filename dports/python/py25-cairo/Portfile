# $Id$

PortSystem      1.0

name            py25-cairo
set my_name     pycairo
version         1.4.12
revision        2
categories      python x11
platforms       darwin
maintainers     mcalhoun
description     Pycairo is set of Python bindings for the cairo graphics library

long_description \
    ${description}

homepage        http://cairographics.org/pycairo/
master_sites    http://cairographics.org/releases/
distname        ${my_name}-${version}

checksums       md5 c63199d35b1e1d3c5133509f315f70d7 \
                sha1 580255db6f3ab4c44ac44dfe0a9f7d1f598c2ab3 \
                rmd160 f44bb6bcc6b366568e0297689164537dc891b278 

depends_build   port:pkgconfig
depends_lib     port:python25 \
                port:cairo \
                port:py25-numpy

configure.python    ${prefix}/bin/python2.5

platform darwin 9 { 
    post-patch { 
        reinplace "s| -export-symbols-regex.*||g" ${worksrcpath}/cairo/Makefile.am 
        reinplace "s| -export-symbols-regex.*||g" ${worksrcpath}/cairo/Makefile.in 
    } 
} 

post-destroot {
    set docdir ${prefix}/share/doc/${name}-${version}
    xinstall -d ${destroot}${docdir}
    xinstall -m 0644 -W ${worksrcpath} AUTHORS COPYING NEWS doc/NOTES doc/FAQ README \
        ${destroot}${docdir}
}

livecheck.check regex
livecheck.regex ${my_name}-(\\d+(?:\\.\\d+)*)

