# $Id$

PortSystem 1.0
PortGroup python25 1.0

name			py25-gdbm
version			2.5
categories		python databases
platforms		darwin
maintainers		mww@macports.org
description		Python bindings to the GNU dbm library
long_description	${description}

homepage		http://www.python.org/doc/current/lib/module-gdbm.html
master_sites	http://www.python.org/ftp/python/${version}/
distname		Python-${version}
dist_subdir		python25
checksums		sha1 98ce9346cc4a7ef4621ecdcfc3957d595d97a078
use_bzip2		yes

depends_lib-append	port:gdbm

worksrcdir	${worksrcdir}/Modules

extract.post_args	"| tar -xf - ${distname}/Modules/gdbmmodule.c"
post-extract {
	file copy	${filespath}/setup.py ${worksrcpath}
}

patch {
	cd ${worksrcpath}
	reinplace "s|__VERSION__|${version}|g" setup.py
	reinplace "s|__PREFIX__|${prefix}|g" setup.py
}

livecheck.check	regex
livecheck.url	http://www.python.org/download/releases/
livecheck.regex	Python (2.5?\[0-9\]+)
