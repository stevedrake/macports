# $Id$

PortSystem 1.0

name            py25-gnome
version         2.22.0
categories      python gnome
platforms       darwin
maintainers     pguyot@kallisys.net
description     gnome-python is a set of python interfaces to gnome-libs.
long_description    ${description}

homepage        http://www.pygtk.org/
master_sites    gnome:sources/gnome-python/[strsed ${version} {/\.[0-9]*$//}]/
use_bzip2       yes
distname        gnome-python-${version}
checksums	md5 ff84c54314adec195149c59365e35a13 \
		sha1 824fc626ca8d3fd26a03998cad740d466cd77051 \
		rmd160 017c772a9ce8ef315885a4353378a7ee22a89acc

depends_lib     port:libgnomeui \
                port:py25-gtk \
                port:py25-orbit

build.args      PYTHON_LDFLAGS= PYTHON_LIBS=

configure.python ${prefix}/bin/python2.5

platform darwin 9 { 
    post-patch { 
        reinplace "s| -export-symbols-regex.*||g" \
            ${worksrcpath}/bonobo/Makefile.in \
            ${worksrcpath}/gconf/Makefile.in \
            ${worksrcpath}/gnome/Makefile.in \
            ${worksrcpath}/gnomecanvas/Makefile.in \
            ${worksrcpath}/gnomevfs/Makefile.in
    } 
}

livecheck.check	md5
livecheck.url	ftp://ftp.gnome.org/pub/GNOME/sources/gnome-python/
livecheck.md5	0cc88801d2019c3ec94f296cda5f57f9
