# $Id$

PortSystem			1.0
PortGroup			python25 1.0

name				py25-nose
version				0.11.3
license             LGPL-2.1
categories-append		www
maintainers			openmaintainer stechert akitada
description			A Python unittest extension.
long_description		A unittest extension offering automatic test \
				suite discovery, simplified test authoring, \
				and output capture. Nose provides an alternate \
				test discovery and running process for \
				unittest, one that is intended to mimic the \
				behavior of py.test as much as is reasonably \
				possible without resorting to magic.

platforms			darwin

homepage			http://somethingaboutorange.com/mrl/projects/nose/
master_sites			${homepage}
distname			nose-${version}

depends_lib			port:py25-setuptools

checksums           md5     7f1dc53750811f78bedef9e14a4bc5a5 \
                    sha1    37c03a5b9738575e25ef99a5ca3b021f66c53421 \
                    rmd160  9f5e93d9bcfa2f294f97f6a5c31e462eb13e43e2

patch {
	reinplace "s|man/man|share/man/man|" ${worksrcpath}/setup.py
}

test.run            yes

post-destroot {
    set docdir ${prefix}/share/doc/${name}
    xinstall -d ${destroot}${docdir}
    xinstall -m 644 -W ${worksrcpath} AUTHORS CHANGELOG NEWS README.txt \
        lgpl.txt ${destroot}${docdir}
}

livecheck.type      regex
livecheck.regex     {/(\d+(?:\.\d+)*)/}
