# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           python25 1.0

name                py25-quodlibet
set my_name         quodlibet
version             2.2
categories-append   audio
maintainers         elelay openmaintainer
platforms           darwin
description         audio library manager and player for GTK+

long_description \
Quod Libet is a GTK+-based audio player written in Python, \
using the Mutagen tagging library and GStreamer for playback.\
It provides several different ways to view your audio library, \
as well as support for Internet radio and audio feeds.\
It has extremely flexible metadata tag editing and searching capabilities.

homepage            http://code.google.com/p/quodlibet/
master_sites        googlecode:quodlibet
distname            ${my_name}-${version}

checksums           md5     ff8bb5f9e680797dfb60d437368298f9 \
                    sha1    f7a189533d948f17d38998cf8162acf4efb5095a \
                    rmd160  71d309a0e9b0aa1dd3893ea68a4ec72b23218cd8

depends_lib         port:gst-plugins-good \
                    port:py25-gst-python \
                    port:py25-mutagen \
                    port:py25-feedparser

patchfiles          patch-setup.py.diff

post-patch {
    foreach file { quodlibet.py exfalso.py } {
        reinplace "s|/usr/bin/env python|${frameworks_dir}/Python.framework/Versions/2.5/bin/python2.5|g" \
            ${worksrcpath}/${file}
    }
}

livecheck.type		regex
livecheck.url		http://code.google.com/p/quodlibet/downloads/list
livecheck.regex		"${my_name}-(\\d+(?:\\.\\d+)*)${extract.suffix}"
