# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           python26 1.0

name                py26-mysql
version             1.2.2
revision            0
categories          python devel databases
platforms           darwin

maintainers         nomaintainer

description         Python interface to MySQL
long_description    A package containing a Python module that allows you to \
                    connect to MySQL databases.

homepage            http://sourceforge.net/projects/mysql-python/
master_sites        sourceforge:mysql-python

distname            MySQL-python-${version}

checksums           md5     532268f02870bea18c1d465e88afff30 \
                    sha1    945a04773f30091ad81743f9eb0329a3ee3de383 \
                    rmd160  3f3ff52102c41f86de3181d33132f15a9882a5b1

patchfiles          patch-_mysql.c.diff

depends_lib-append  port:py26-distribute

variant mysql4 conflicts mysql5 description {Build with MySQL 4} {
    depends_lib-append  port:mysql4
}

variant mysql5 conflicts mysql4 description {Build with MySQL 5} {
    patchfiles-append   patch-setup_posix.py.diff
    depends_lib-append  path:bin/mysql_config5:mysql5
}

if {![variant_isset mysql4]} {
    default_variants +mysql5
}

pre-fetch {
    if {![variant_isset mysql4] && ![variant_isset mysql5]} {
        return -code error "you must select either mysql4 or mysql5"
    }
}
