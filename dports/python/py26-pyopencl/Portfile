# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           python26 1.0

name                py26-pyopencl
version             0.91.5
categories-append   science

maintainers         stromnov openmaintainer

description         Python wrapper for OpenCL.

long_description    PyOpenCL lets you access GPUs and \
                    other massively parallel compute \
                    devices from Python.

platforms           darwin

homepage            http://mathema.tician.de/software/pyopencl
master_sites        http://cheeseshop.python.org/packages/source/p/pyopencl/
distname            pyopencl-${version}

checksums           md5     e09ad8c07b5412e965d6004ba3a644b8 \
                    sha1    e616f1c63471154bb185d6502ee912cbbf7da4c5 \
                    rmd160  e4e425d62384d9eada1661c2880c6c1dd003ddb9

patchfiles          patch-wrap_cl.hpp.diff \
                    patch-siteconf.py.diff

depends_build-append \
                    port:py26-distribute \
                    port:py26-numpy \
                    port:boost

post-patch {
        reinplace "s|@@PREFIX@@|${prefix}|g" ${worksrcpath}/siteconf.py
        reinplace "s|@@GCC@@|gcc|g" ${worksrcpath}/siteconf.py
}

livecheck.type      regex
livecheck.url       ${master_sites}
livecheck.regex     "pyopencl-(\\d+(?:\\.\\d+)*)${extract.suffix}"
