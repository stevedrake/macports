# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem			1.0
PortGroup  python26 1.0

name				py26-setuptools
version				0.6c10
categories-append	devel
maintainers		    mcalhoun openmaintainer
description			distutils enhancement for build and distribution
long_description \
	setuptools is a collection of enhancements to the Python distutils that \
	allow you to more easily build and distribute Python packages, \
	especially ones that have dependencies on other packages.

platforms			darwin

homepage			http://peak.telecommunity.com/DevCenter/setuptools
master_sites		http://pypi.python.org/packages/source/s/setuptools
distname			setuptools-${version}

conflicts			py26-distribute

checksums			md5     30f822f19b02c3082cb1ba1d69be35dd \
					sha1    e55a2687b5214cbb23826cd796d5b69f20084506 \
					rmd160  000f776c456bd40490eb82a1d1fd70f1a5a670f0

post-destroot {
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} EasyInstall.txt api_tests.txt \
		pkg_resources.txt setuptools.txt \
		${destroot}${prefix}/share/doc/${name}
    ln -s ${python.prefix}/bin/easy_install-2.6 ${destroot}${prefix}/bin/
}

test.run  yes
test.cmd  ${python.bin} setup.py

livecheck.type   regex
livecheck.url    [lindex ${master_sites} 0]?C=M&O=D
livecheck.regex  setuptools-(\\d+(?:\\.\\d+)*c\\d+(?:\\.\\d+)*)
