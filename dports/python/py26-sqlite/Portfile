# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0
PortGroup           python26 1.0

name                py26-sqlite
version             2.5.6
categories          python databases
maintainers         snc openmaintainer
platforms           darwin
description         python database extension for sqlite
long_description    PySQLite is a Python extension for SQLite that \
                    conforms to the Python Database API Specification 2.0.

homepage            http://pysqlite.googlecode.com/
master_sites        googlecode:pysqlite
distname            pysqlite-${version}
checksums           md5     1b2f338c8d6db971e34edb799a92e2ee \
                    sha1    79b5c4067c0ca237240eb32e6fde7ed84636d13d \
                    rmd160  8174ecfbee2f9526f7a1100b1afa78f3786916dd

depends_lib-append  port:sqlite3

patchfiles          patch-setup.py

if { ${os.major} == 10} {
    set os.my_version 10.6
}
if { ${os.major} == 9} {
    set os.my_version 10.5
}
if { ${os.major} == 8} {
    set os.my_version 10.4
}
test.dir            "${worksrcpath}/build/lib.macosx-${os.my_version}-${os.arch}-${python.branch}"
test.run            yes
test.cmd            ${python.bin} -c "'from pysqlite2.test import test; test()'"
