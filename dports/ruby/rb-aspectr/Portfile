# $Id: Portfile,v 1.1 2004/04/11 06:06:21 rshaw Exp $
PortSystem 1.0

name			rb-aspectr
version			0.3.5
categories		ruby devel
maintainers		shu@rufuran.org
description		Simple aspect-oriented programming in Ruby
long_description        Aspect-oriented programming concepts to Ruby. \
                        Essentially it allows you to wrap code around existing \
                        methods in your classes. This can be a good thing (and \
                        even affect how you design your code) since it \
                        separates different concerns into different parts of \
                        the code. It is somewhat similar to Aspect

homepage		http://aspectr.sf.net/
platforms		darwin
master_sites		sourceforge:aspectr
dist_subdir		ruby
distname		aspectr-[strsed ${version} {g/[.]/-/}]
checksums		md5 c640a1a82802ddb107c3ee1245a22705

set ruby ${prefix}/bin/ruby
depends_build           path:${ruby}:ruby

use_configure		no
build {}

destroot {
	set rubylibpath [exec ${ruby} -rrbconfig -e "print Config::CONFIG\['vendorlibdir'\]"]
	regsub ${prefix} ${rubylibpath} ${destroot}${prefix} rubylibpath
	xinstall -d -m 0755 ${rubylibpath}
	xinstall -m 0644 ${worksrcpath}/lib/aspectr.rb ${rubylibpath}
}
