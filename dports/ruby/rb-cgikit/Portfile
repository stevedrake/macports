# $Id: Portfile,v 1.1 2004/04/19 18:06:40 rshaw Exp $
PortSystem 1.0

name			rb-cgikit
version			1.2.0
categories		ruby www
maintainers		rshaw@opendarwin.org
description		Component-based web application framework
long_description	CGIKit is a web application framework written in \
					Ruby. This framework is based on components for \
					development, so you can develop CGI applications \
					quickly and efficiently.
homepage		http://www.spice-of-life.net/cgikit/index_en.html
master_sites	http://www.spice-of-life.net/cgikit/archive/
dist_subdir		ruby
distname		cgikit-${version}
checksums		md5 e3f81debd652b0f77c9f243cd30fe4fe
platforms		darwin

set ruby ${prefix}/bin/ruby
depends_build	path:${ruby}:ruby

configure.cmd		${ruby} -rvendor-specific install.rb
configure.pre_args	config

build				{}

destroot.cmd		${ruby} -rvendor-specific install.rb
destroot.target		install
destroot.destdir
pre-destroot {
	reinplace "s|${prefix}|${destroot}${prefix}|g" ${worksrcpath}/config.save
}
post-destroot {
	cd ${worksrcpath}
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}
	set cmd "cp -R examples ${destroot}${prefix}/share/doc/${name}/examples"
	ui_info ${cmd}; system ${cmd}
	set cmd "cp -R docs ${destroot}${prefix}/share/doc/${name}/docs"
	ui_info ${cmd}; system ${cmd}
	set cmd "cp -R misc ${destroot}${prefix}/share/doc/${name}/misc"
	ui_info ${cmd}; system ${cmd}
}

