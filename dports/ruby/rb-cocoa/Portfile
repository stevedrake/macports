# $Id: Portfile,v 1.14 2005/08/15 05:33:43 pguyot Exp $
PortSystem		1.0
PortGroup		ruby 1.0
revision		2

ruby.setup		{cocoa rubycocoa} 0.4.1 install.rb {ReadMe.ascii.html}
maintainers		yuhei@pop21.odn.ne.jp
description		Ruby bindings for writing cocoa programs
long_description	RubyCocoa is a Ruby library for using Cocoa Objects \
					on Mac OS X in Ruby scripts. You can use RubyCocoa \
					to work with Cocoa objects in Ruby scripts, write \
					Cocoa applications with Ruby and Interface Builder, \
					develop small scale simple Cocoa applications and \
					such.
categories-append	devel
homepage		http://${ruby.project}.sourceforge.net/
master_sites	sourceforge:${ruby.project}
extract.suffix	.tgz
checksums		md5 05aa5c4835153ead032b877b84fe8bba
platforms		darwin

if {${xcodeversion} == "2.1"} {
  distfiles   rubycocoa-0.4.1-xcode-2.1-patched.tgz
  checksums   md5 ce498e990a4ac9de289c839aaa0c0b57
}

post-patch {
  if {[catch {set pbxbuild [binaryInPath pbxbuild]}]} {
    # Avoid installing extra files for ProjectBuilder
    reinplace "s%pbextras_dir, xcodeextras_dir%xcodeextras_dir%" \
      ${worksrcpath}/pre-install.rb
  } 
}

configure.args		--install-prefix=${destroot}${prefix} \
					--install-root=${destroot}

