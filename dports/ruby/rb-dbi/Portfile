# $Id: Portfile,v 1.1 2004/04/11 04:10:04 rshaw Exp $
PortSystem 1.0

name			rb-dbi
version			0.0.21
categories		ruby databases
maintainers		shu@rufuran.org
description		The Ruby port of DBI
long_description	A database independent interface for accessing \
			databases, similar to Perl's DBI. Drivers for it are \
			available as separate ports.

homepage		http://ruby-dbi.sf.net/
platforms		darwin
master_sites		sourceforge:ruby-dbi
dist_subdir		ruby
distname		ruby-dbi-all-${version}
worksrcdir		ruby-dbi-all
checksums		md5 e71784353b914ecdd02c9bdc5a21e65e

set ruby ${prefix}/bin/ruby
depends_build		path:${ruby}:ruby

configure.cmd		${ruby} -rvendor-specific setup.rb config
configure.pre_args
configure.args		--with=dbi
build.cmd		${ruby} -rvendor-specific setup.rb setup
build.target
destroot.cmd		${ruby} -rvendor-specific setup.rb
destroot.destdir

pre-destroot {
	reinplace "s|${prefix}|${destroot}${prefix}|g" ${worksrcpath}/config.save
}
