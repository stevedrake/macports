# $Id: Portfile,v 1.1 2004/04/12 22:09:19 rshaw Exp $
# vim: ts=8 sw=8
PortSystem 1.0

name			rb-fcgi
version			0.8.4
categories		ruby www
maintainers		shu@rufuran.org
description		The Ruby interface to FastCGI
long_description	FastCGI is a language independent, scalable, open \
			extension  to CGI that provides high performance \
			without the limitations of server specific APIs. \
			This is the Ruby interface.

homepage		http://rwiki.moonwolf.com/rw-cgi.cgi?cmd=view\;name=fcgi
master_sites		ftp://ftp.iDaemons.org/pub/distfiles/ruby/
dist_subdir		ruby
distname		ruby-fcgi-${version}
checksums		md5 52f2bf1e2676f405a2a38c80133ed7ee
platforms		darwin

set ruby ${prefix}/bin/ruby
depends_build		path:${ruby}:ruby
depends_lib		lib:libfcgi.2:fcgi

configure.cmd		${ruby} -rvendor-specific install.rb config
build.cmd		${ruby} -rvendor-specific install.rb setup
build.target
destroot.cmd		${ruby} -rvendor-specific install.rb
destroot.destdir

pre-destroot {
	reinplace "s|${prefix}|${destroot}${prefix}|g" ${worksrcpath}/config.save
}
