# $Id: Portfile,v 1.1 2004/04/28 06:45:45 rshaw Exp $
PortSystem		1.0

name			rb-getopt-declare
version			1.09.7
categories		ruby
maintainers		rshaw@opendarwin.org
description		Declaratively Expressed Command-Line Arguments via RegExp
long_description	Getopt::Declare is yet another command-line argument \
					parser, one which is specifically designed to be \
					powerful but exceptionally easy to use. It supports \
					many options not supported by optparser or \
					getoptlong as well as it has a simpler syntax.
homepage		http://rubyforge.org/projects/getoptdeclare/
master_sites	http://rubyforge.org/frs/download.php/311/
dist_subdir		ruby
distname		getoptdeclare_v${version}
use_zip			yes
worksrcdir		Getopt
checksums		md5 b1ad91235915295c877a69a1d38a9815
platforms		darwin

set ruby ${prefix}/bin/ruby
depends_build	path:${ruby}:ruby

post-patch {
	reinplace "s|CONFIG|'${destroot}'+&|" ${worksrcpath}/install.rb
}

use_configure	no
build			{}

destroot.cmd	${ruby} -rvendor-specific install.rb
destroot.target
destroot.destdir
post-destroot {
	cd ${worksrcpath}
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}
	xinstall -m 0644 Declare.rdoc ${destroot}${prefix}/share/doc/${name}
	system "cp -R doc ${destroot}${prefix}/share/doc/${name}/rdoc"
	system "cp -R samples ${destroot}${prefix}/share/doc/${name}/samples"
}

