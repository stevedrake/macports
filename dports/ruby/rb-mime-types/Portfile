# $Id: Portfile,v 1.1 2004/04/19 03:59:33 rshaw Exp $
PortSystem 1.0

name			rb-mime-types
version			1.13
categories		ruby mail
maintainers		rshaw@opendarwin.org
description		MIME::Types for Ruby
long_description	This is MIME::Types for Ruby, based on the Perl \
					package of the same name. It is generally kept in \
					sync with the Perl version of MIME::Types.  This \
					package works on the same concept as mailcap, which \
					uses extensions to determine the file's likely MIME \
					content type. This package does not analyse files \
					for magic bytes to determine the appropriate MIME \
					content type.
homepage		http://www.halostatue.ca/ruby/MIME__Types.html
master_sites	http://www.halostatue.ca/files/
dist_subdir		ruby
distname		mime-types-${version}
checksums		md5 a69a2fa6f2b46e1c1dddc5c936f7813a
platforms		darwin

set ruby ${prefix}/bin/ruby
depends_build	path:${ruby}:ruby

use_configure	no
build			{}

test.run		yes
test.dir		${worksrcpath}/tests
test.cmd		${ruby} tests.rb

destroot.env	DESTDIR=${destroot}
destroot.cmd	${ruby} -rvendor-specific install.rb
destroot.target
destroot.args	--no-ri --no-tests
destroot.destdir
post-destroot {
	cd ${worksrcpath}
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}
	set cmd "cp -R doc ${destroot}${prefix}/share/doc/${name}/rdoc"
	ui_info ${cmd}; system ${cmd}
}

