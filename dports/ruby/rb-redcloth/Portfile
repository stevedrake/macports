# $Id: Portfile,v 1.3 2004/04/22 22:25:42 rshaw Exp $
PortSystem 1.0

name			rb-redcloth
version			2.0.7
categories		ruby textproc
maintainers		rshaw@opendarwin.org
description		Textile for Ruby
long_description	RedCloth is a module for using Textile in Ruby. \
					Textile is a text format. A very simple text format. \
					Another stab at making readable text that can be \
					converted to HTML. 
homepage		http://rubyforge.org/projects/redcloth/
master_sites	http://rubyforge.org/frs/download.php/555/
dist_subdir		ruby
distname		redcloth-${version}
checksums		md5 6e6a0e9434e40da53d507fd890caa35d
platforms		darwin

set ruby ${prefix}/bin/ruby
depends_build	path:${ruby}:ruby

configure.cmd		${ruby} -rvendor-specific install.rb
configure.pre_args	config

build.cmd			${ruby} -rvendor-specific install.rb
build.target		setup

test.run			yes
test.cmd			${ruby} -I./lib run-tests.rb

destroot.cmd		${ruby} -rvendor-specific install.rb
destroot.target		install
destroot.destdir
pre-destroot {
	reinplace "s|${prefix}|${destroot}${prefix}|g" ${worksrcpath}/config.save
}

