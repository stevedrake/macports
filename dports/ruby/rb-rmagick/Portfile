# $Id: Portfile,v 1.3 2004/09/08 00:38:54 rshaw Exp $
PortSystem		1.0
PortGroup		ruby 1.0

ruby.setup		RMagick 1.5.0 gnu {README.html README.txt examples} \
				rubyforge:550
revision		2
maintainers		shu@rufuran.org
description		The Ruby interface to ImageMagick and GraphicsMagick
long_description	RMagick is an interface between the Ruby programming \
					language and the ImageMagick (tm) and GraphicsMagick \
					image processing libraries. It is fully featured and \
					has good documentation.
categories-append	graphics
use_bzip2		yes
checksums		md5 282164e8548262110a4d4fd6d9d4d4ff
platforms		darwin

depends_lib-append		lib:libMagick:ImageMagick

pre-configure {
	foreach exe {wmf2eps gs} {
		if {[catch {set found [binaryInPath ${exe}]}] != 0} {
			ui_warn "${exe} is not installed, some RMagick examples will fail."
		} else {
			ui_info "${exe} found: ${found}"
		}
	}
}
configure.args	--with-doc-dir=${prefix}/share/doc/${name}/userguide \
				--enable-allow-example-errors

