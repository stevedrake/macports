# $Id: Portfile,v 1.2 2004/04/28 17:04:15 rshaw Exp $
PortSystem 1.0

name			rb-rmail
version			0.17
categories		ruby mail
maintainers		shu@rufuran.org
description		A Ruby mail handling library
long_description	This is RubyMail, a lightweight mail library \
					containing various utility classes and modules that \
					allow Ruby scripts to parse, modify, and generate \
					MIME mail messages.
homepage		http://www.lickey.com/rubymail/
master_sites	${homepage}/download/
dist_subdir		ruby
distname		rubymail-${version}
checksums		md5 68ed70492541086b4bf17e8e75857e2e
platforms		darwin

set ruby ${prefix}/bin/ruby
depends_build	path:${ruby}:ruby

configure.cmd	${ruby} -rvendor-specific install.rb config

build.cmd		${ruby} -rvendor-specific install.rb
build.target	setup

test.run		yes
test.cmd		${ruby} tests/runtests.rb

destroot.cmd	${build.cmd}
destroot.destdir	--prefix=${destroot}

post-destroot {
	cd ${worksrcpath}
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}
	system "cp -R guide/* ${destroot}${prefix}/share/doc/${name}"
	system "cp -R doc ${destroot}${prefix}/share/doc/${name}/rdoc"
}
