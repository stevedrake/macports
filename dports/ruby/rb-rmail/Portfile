# $Id: Portfile,v 1.1 2004/04/18 23:47:10 rshaw Exp $
PortSystem 1.0

name			rb-rmail
version			0.16
categories		ruby mail
maintainers		shu@rufuran.org
description		A Ruby mail handling library
long_description	This is RubyMail, a lightweight mail library \
			containing various utility classes and modules that \
			allow Ruby scripts to parse, modify, and generate \
			MIME mail messages.
homepage		http://www.lickey.com/rubymail/
master_sites		${homepage}/download/
distname		rubymail-${version}
dist_subdir		ruby
checksums		md5 e1ebe23fe9b6e8117be15e74ef6405b2
platforms		darwin

set ruby ${prefix}/bin/ruby
depends_build		path:${ruby}:ruby

configure.cmd		${ruby} -rvendor-specific install.rb config

build.cmd		${ruby} -rvendor-specific install.rb
build.target		setup

test.run		yes
test.cmd		${ruby} tests/runtests.rb

destroot.cmd		${build.cmd}
destroot.destdir	--prefix=${destroot}

post-destroot {
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}
	system "cp -R ${worksrcpath}/guide/* ${destroot}${prefix}/share/doc/${name}"
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}/rdoc
	system "cp -R ${worksrcpath}/doc/* ${destroot}${prefix}/share/doc/${name}/rdoc"
}
