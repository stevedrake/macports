# $Id$

PortSystem		1.0
PortGroup		ruby 1.0

name			rb-rubygems
categories		ruby devel
version			1.2.0
#revision		0

homepage		http://www.rubygems.org
master_sites		http://rubyforge.org/frs/download.php/38646/

distname                rubygems-${version}
dist_subdir             ruby

maintainers		mr_bond openmaintainer
description		a package management framework for Ruby
long_description	RubyGems is the Ruby standard for publishing and \
					managing third party libraries.

checksums		md5 	b77a4234360735174d1692e6fc598402 \
			sha1	89f8e35f03e1e8057cc8e237f2df025642653dde \
			rmd160	c66444cc3f372f7170ba1d8ef3c456052acb2bde


extract.suffix		.tgz
platforms		darwin

configure { }
build { }

destroot.cmd	${ruby.bin} setup.rb
destroot.args	--prefix=${prefix} --destdir=${destroot}
destroot.env

set gems_libdir ${destroot}${prefix}/lib/ruby/gems/${ruby.version}
destroot.keepdirs \
        ${gems_libdir}/doc \
        ${gems_libdir}/gems \
        ${gems_libdir}/specifications


post-destroot {
	file mkdir ${destroot}${ruby.lib}
	file rename ${destroot}${prefix}/lib/rubygems ${destroot}${ruby.lib}
	file rename ${destroot}${prefix}/lib/rbconfig ${destroot}${ruby.lib}
	file rename ${destroot}${prefix}/lib/rubygems.rb ${destroot}${ruby.lib}
	file rename ${destroot}${prefix}/lib/ubygems.rb ${destroot}${ruby.lib}
}

depends_lib     port:ruby

