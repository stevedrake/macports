# $Id: Portfile,v 1.10 2004/12/31 16:10:33 rshaw Exp $
PortSystem		1.0
PortGroup		ruby 1.0

ruby.setup		rubygems 0.8.3 setup.rb {README doc examples gemspecs} \
				rubyforge:2128
revision		1
maintainers		rshaw@opendarwin.org
description		a package management framework for Ruby
long_description	RubyGems is the Ruby standard for publishing and \
					managing third party libraries.
categories-append	devel
checksums		md5 6e6da80f61d6e77d0ad9e531767f6fd5
platforms		darwin

post-patch {
	reinplace "s%Gem.dir%'${destroot}'+&%" ${worksrcpath}/post-install.rb
}
pre-destroot {
	xinstall -d -m 0755 ${destroot}/${prefix}/lib/ruby/gems/${ruby.version}
}
post-destroot {
	foreach script {gem gem_server generate_yaml_index.rb update_rubygems} {
		reinplace "s%^#!.*ruby%#!${ruby.bin}%" ${destroot}${prefix}/bin/$script
	}
}

