# $Id$ 

PortSystem		1.0
PortGroup		ruby 1.0

name			rb-rubygems
version			1.1.0

homepage		http://www.rubygems.org
master_sites		http://rubyforge.org/frs/download.php/34638/

distname                rubygems-1.1.0
dist_subdir             ruby

maintainers		mr_bond openmaintainer
description		a package management framework for Ruby
long_description	RubyGems is the Ruby standard for publishing and \
					managing third party libraries.
categories-append	devel
checksums		md5 	85f994904c5b4045f0a859b29d0be717 \
			sha1	2379e510267ed1c979987a618c9f139e58266d28

extract.suffix		.tgz
platforms		darwin

configure { }
build { }

destroot.cmd	${ruby.bin} setup.rb 
destroot.args	--prefix=${destroot}${prefix} 
destroot.env

set gems_libdir ${destroot}${prefix}/lib/ruby/gems/${ruby.version}
destroot.keepdirs \
        ${gems_libdir}/doc \
        ${gems_libdir}/gems \
        ${gems_libdir}/specifications


post-destroot {
	file mkdir ${destroot}${ruby.lib}
	file rename ${destroot}${prefix}/lib/rubygems ${destroot}${ruby.lib}
	file rename ${destroot}${prefix}/lib/rbconfig ${destroot}${ruby.lib}
	file rename ${destroot}${prefix}/lib/rubygems.rb ${destroot}${ruby.lib}
	file rename ${destroot}${prefix}/lib/ubygems.rb ${destroot}${ruby.lib}
}

depends_lib     port:ruby
depends_build	port:autoconf
