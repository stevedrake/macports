# $Id: Portfile,v 1.1 2004/04/22 23:47:51 rshaw Exp $
PortSystem 1.0

name			rb-sys-uptime
version			0.3.2
categories		ruby sysutils
maintainers		rshaw@opendarwin.org
description		'uptime' information via Ruby - C extension
long_description	A Ruby interface to the 'uptime' command. This is a \
					C extension, not parsed output.
homepage		http://ruby-sysutils.sourceforge.net/
master_sites	sourceforge:ruby-sysutils
distname		sys-uptime-${version}
dist_subdir		ruby
checksums		md5 e1d30e3d30da46bd59248e0611b2adfd
platforms		darwin

set ruby ${prefix}/bin/ruby
depends_build	path:${ruby}:ruby

pre-configure {
	reinplace "s|exit!|exit|" ${worksrcpath}/extconf.rb
}
configure.cmd	${ruby} -rvendor-specific extconf.rb

test.run		yes
test.dir		${worksrcpath}/test
test.cmd		${ruby} test.rb

destroot.args	RUBY=${ruby}
post-destroot {
	cd ${worksrcpath}
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}
	set cmd "cp -R doc/* ${destroot}${prefix}/share/doc/${name}"
	ui_info ${cmd}; system ${cmd}
}

