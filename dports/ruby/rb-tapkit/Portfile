# $Id: Portfile,v 1.2 2004/06/14 03:37:03 rshaw Exp $
PortSystem		1.0
PortGroup		ruby 1.0

ruby.setup		tapkit 0.5.0 setup.rb {README examples docs}
revision		1
maintainers		rshaw@opendarwin.org
description		Object-Relational Bridge Framework
long_description	TapKit is an Object-Relational Bridge framework like \
					Enterprise Objects Framework in WebObjects of Apple \
					Computer, Inc. This framework services database \
					programming without SQL language.
categories-append	databases
homepage		http://www.spice-of-life.net/${ruby.module}/
master_sites	${homepage}/archive/
checksums		md5 4cd5c84b16ae6f910c421c8d2c6f0ba4
platforms		darwin

depends_lib		lib:XXX:rb-dbi

post-configure {
	reinplace "s|^#!.*ruby|#!${ruby.bin}|" ${worksrcpath}/bin/modeler
}

# Must have existing MySQL database running and have loaded test data
# from examples/sql into your database before tests can be run. If not,
# most tests will fail.
test.run			yes
test.dir			${worksrcpath}/test
test.cmd			${ruby.bin} run.rb

