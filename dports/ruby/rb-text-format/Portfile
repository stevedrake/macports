# $Id: Portfile,v 1.1 2004/04/19 04:09:43 rshaw Exp $
PortSystem 1.0

name			rb-text-format
version			0.64
categories		ruby
maintainers		rshaw@opendarwin.org
description		Text::Format for Ruby
long_description	Text::Format provides strong text formatting \
					capabilities to Ruby. Based on Perl's Text::Format \
					0.52, it offers all of the functionality of that \
					module and new capabilities besides. 
platforms		darwin
homepage		http://www.halostatue.ca/ruby/Text__Format.html
master_sites	http://www.halostatue.ca/files/
dist_subdir		ruby
distname		text-format-${version}
checksums		md5 f9e1aa720f39fffd4c83aeae4ba9e90f

set ruby ${prefix}/bin/ruby
depends_build	path:${ruby}:ruby

use_configure	no
build			{}

test.run		yes
test.dir		${worksrcpath}/tests
test.cmd		${ruby} unit_tests.rb

destroot {
	set rubylibpath [exec ${ruby} -rrbconfig -e "print Config::CONFIG\['vendorlibdir'\]"]
	xinstall -d -m 0755 ${destroot}${rubylibpath}/text
	xinstall -m 0644 ${worksrcpath}/lib/text/format.rb ${destroot}${rubylibpath}/text
	xinstall -d -m 0755 ${destroot}${prefix}/share/doc/${name}
	set cmd "cp -R ${worksrcpath}/doc ${destroot}${prefix}/share/doc/${name}/rdoc"
	ui_info ${cmd}; system ${cmd}
}
