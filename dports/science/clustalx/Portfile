# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                clustalx
version             2.1
categories          science
maintainers         snc openmaintainer
license             LGPL
description         An interface for the ClustalW multiple sequence alignment\
                    program.
long_description    ${name} provides an integrated environment for performing\
                    multiple sequence and profile alignments and analysing the\
                    results. The sequence alignment is displayed in a window on\
                    the screen. A versatile coloring scheme has been\
                    incorporated allowing you to highlight conserved features\
                    in the alignment. The pull-down menus at the top of the\
                    window allow you to select all the options required for\
                    traditional multiple sequence and profile alignment.
homepage            http://www.clustal.org/

platforms           darwin
depends_build       port:qt4-mac

master_sites        http://www.clustal.org/download/current/ \
                    ftp://ftp.ebi.ac.uk/pub/software/clustalw2/${version}/

checksums           sha1    63196a4e113a22e5e575f223d76b7406f4f70795 \
                    rmd160  a50b74d2b698a6ab618c5ce8bcb0139976814ffd

configure.cmd       ${prefix}/bin/qmake
configure.pre_args  PREFIX=${prefix}

destroot {
    xinstall -d ${destroot}${applications_dir}/${name}.app/Contents/MacOS
    xinstall -d ${destroot}${applications_dir}/${name}.app/Contents/Resources
    eval xinstall -m 755 [glob ${worksrcpath}/${name}.app/Contents/MacOS/*] \
        ${destroot}${applications_dir}/${name}.app/Contents/MacOS/
    eval xinstall -m 755 [glob ${worksrcpath}/${name}.app/Contents/Resources/*] \
        ${destroot}${applications_dir}/${name}.app/Contents/Resources/
    xinstall -m 644 -W ${worksrcpath} \
        colprot.xml coldna.xml colprint.xml clustalx.hlp \
        ${destroot}${applications_dir}/${name}.app/Contents/MacOS/
}

livecheck.type      regex
livecheck.url       ${homepage}
livecheck.regex     "currently (\\d+(\\.\\d+)+)"
