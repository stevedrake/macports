# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                gwyddion
version             2.12
categories          science x11
platforms           darwin
maintainers         rowue@macports.org yeti@gwyddion.net
description         Software for SPM Analysis

long_description \
    Gwyddion is a modular program for SPM (scanning probe microscopy) data \
    visualization and analysis. It uses gtk2 for the user interface.

homepage            http://gwyddion.net
master_sites        sourceforge
use_bzip2           yes
use_parallel_build  yes

checksums           md5     41ee994f554cadafed035e1afb9e9c33 \
                    sha1    ebaf2dfbe080e030092a4e42111b0f2cc39dd2ad \
                    rmd160  8e700b5062c2842e239a153fe0062d21229eb692

depends_lib         port:gtk2 \
                    port:libxml2 \
                    port:fftw-3 \
                    port:gtkglext

configure.args      --disable-desktop-file-update

platform darwin 9 {
                    set darwin_9_glpath   /System/Library/Frameworks/OpenGL.framework/Versions/
                    configure.ldflags-append -Wl,-dylib_file,${darwin_9_glpath}/A/Libraries/libGL.dylib:\
                     ${darwin_9_glpath}/A/Libraries/libGL.dylib
}

post-activate {
        system "${prefix}/bin/update-mime-database ${prefix}/share/mime ; true"
}
