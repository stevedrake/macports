# $Id$

PortSystem      1.0

name            gwyddion
version         2.10
categories      science x11
revision        1
platforms       darwin
maintainers     rowue@macports.org yeti@gwyddion.net
description     Software for SPM Analysis

long_description \
    Gwyddion is a modular program for SPM (scanning probe microscopy) data \
    visualization and analysis. It uses gtk2 for the user interface.

homepage        http://gwyddion.net
master_sites    sourceforge
use_bzip2       yes

checksums       md5 11fb3cddf827a445b2b78bab4cf90c55 \
                sha1 186d0cc03edefd807b33efdbb6d59cc7f98fdad6 \
                rmd160 a4c32fefe9c31c1aee9169cad6399f25ec3bbff6

depends_lib     port:gtk2 \
                port:libxml2 \
                port:fftw-3 \
                port:gtkglext

configure.args  --disable-desktop-file-update

platform darwin 9 {
                set darwin_9_glpath   /System/Library/Frameworks/OpenGL.framework/Versions/
                configure.ldflags -Wl,-dylib_file,${darwin_9_glpath}/A/Libraries/libGL.dylib:\
                    ${darwin_9_glpath}/A/Libraries/libGL.dylib
}

post-activate {
     system "${prefix}/bin/update-mime-database ${prefix}/share/mime ; true"
}
