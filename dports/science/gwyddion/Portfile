# $Id$

PortSystem      1.0

name            gwyddion
version         2.11
categories      science x11
platforms       darwin
maintainers     rowue@macports.org yeti@gwyddion.net
description     Software for SPM Analysis

long_description \
    Gwyddion is a modular program for SPM (scanning probe microscopy) data \
    visualization and analysis. It uses gtk2 for the user interface.

homepage        http://gwyddion.net
master_sites    sourceforge
use_bzip2       yes

checksums       md5 dd4428c7ae77b7d1752d8fef988beefc \
                sha1 3fb35be8638c080b1537d478f4e471e30b5ec8a0 \
                rmd160 099d315715d54df615b4f92c1ecafb2a2bb3fe4b

depends_lib     port:gtk2 \
                port:libxml2 \
                port:fftw-3 \
                port:gtkglext

configure.args  --disable-desktop-file-update

platform darwin 9 {
                set darwin_9_glpath   /System/Library/Frameworks/OpenGL.framework/Versions/
                configure.ldflags-append -Wl,-dylib_file,${darwin_9_glpath}/A/Libraries/libGL.dylib:\
                    ${darwin_9_glpath}/A/Libraries/libGL.dylib
}

post-activate {
     system "${prefix}/bin/update-mime-database ${prefix}/share/mime ; true"
}
