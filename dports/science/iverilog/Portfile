# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem 1.0
name             iverilog
version          0.9.2
set branch       [join [lrange [split ${version} .] 0 1] .]
categories       science
maintainers      nomaintainer
description      Icarus Verilog
long_description \
    Icarus Verilog is a Verilog simulation and synthesis tool. It \
    operates as a compiler, compiling source code writen in Verilog \
    (IEEE-1364) into some target format. For batch simulation, the \
    compiler can generate C++ code that is compiled and linked with \
    a run time library (called \"vvm\") then executed as a command to \
    run the simulation. For synthesis, the compiler generates netlists \
    in the desired format.
homepage         http://www.icarus.com/eda/verilog/
platforms        darwin

master_sites     ftp://ftp.icarus.com/pub/eda/verilog/v${branch}/
distname         verilog-${version}
checksums           md5     e3b3409f0a7aa382c0bfbb019655f647 \
                    sha1    ce622b57de80257fb70b7fda95299043ced451d4 \
                    rmd160  dbec07dc29dfbf69dbc04b9f3bb546745292b630

configure.args   mandir=\\\${prefix}/share/man
destroot.destdir prefix=${destroot}${prefix}

platform darwin 8 {
    depends_build-append    port:bison
}


test.run         yes
test.target      check

livecheck.type  regex
livecheck.url   ${master_sites}
livecheck.regex "verilog-(\\d+(?:\\.\\d+)*)${extract.suffix}"
