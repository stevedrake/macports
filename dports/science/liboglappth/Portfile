# $Id$

PortSystem          1.0

name                liboglappth
version             0.96
categories          science
platforms           darwin
maintainers         simon
description         Library for the ghemical port.
long_description    $description

homepage            http://www.bioinformatics.org/
master_sites        ${homepage}ghemical/download/current/
checksums           md5 babb1907ca0a52c6879c003239701217 \
                    sha1 bdaa47c76eee2db6cc859f135a10aabce096a45e \
                    rmd160 2b67fb748bada63c1cc70aa21cba85d1dbd642bd

depends_lib         port:glut

pre-configure {
    # If gl.h and glu.h don't exist in ${prefix}/include/GL then symlink the
    # OpenGL files there. Doesn't really fit in pre-configure but I don't know
    # where to put it.
    set gl ${prefix}/include/GL
    set opengl /System/Library/Frameworks/OpenGL.framework/Headers
    if {![file exists ${gl}/gl.h]} {
        file link -symbolic ${gl}/gl.h ${opengl}/gl.h
    }
    if {![file exists ${gl}/glu.h]} {
        file link -symbolic ${gl}/glu.h ${opengl}/glu.h
    }
}

livecheck.check     regex
livecheck.url       "${master_sites}?C=M;O=D"
livecheck.regex     "${name}-(\\d+(?:\\.\\d+)*)${extract.suffix}"
