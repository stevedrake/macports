# $Id$

# I (Jochen Küpper) got explicit permission to distribute molden as a
# MacPorts port, given that the source-code is always downloaded from
# the authors webpage and we add a banner asking users to register at
# the following web-page: http://www.cmbi.ru.nl/molden/form.html
#
# Feel free to request the full email conversation from me if you want
# to see details.

PortSystem 1.0

name                molden
version             4.6
revision            0
categories          science graphics
maintainers         openmaintainer jochen
master_sites        ftp://ftp.cmbi.ru.nl/pub/molgraph/molden
distname            molden${version}
checksums           md5 8dae0c4dfa5f9b4db84a89ddb68dd34c

description         Molecular graphics visualisation tool
long_description    Molden is a package for displaying Molecular Density from \
                    the Ab Initio packages GAMESS-UK , GAMESS-US and \
                    GAUSSIAN and the Semi-Empirical packages Mopac/Ampac, it \
                    also supports a number of other programs via the Molden Format.

depends_build       port:gcc42 port:gmake
depends_lib         lib:libX11.6:XFree86 
patchfiles          patch-makefile.diff \
                    patch-molden.f.diff
configure.cmd       true
configure.pre_args
build.target        molden
build.cmd           gmake
destroot            { cd ${workpath}/${distname}
                      system "cp molden ${destroot}${prefix}/bin"
                    }

post-destroot       { ui_info "**************************************************"
                      ui_info "In order to keep up support for Molden, proof that"
                      ui_info "it is being used outside the CMBI is required."
                      ui_info "Please register your copy of molden at:"
                      ui_info "***   http://www.cmbi.ru.nl/molden/form.html   ***"
                      ui_info "**************************************************"
                    }
