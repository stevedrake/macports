# $Id$

PortSystem 1.0

name			mpich2
version			1.0.5p3
categories		science parallel net
platforms		darwin
maintainers		nomaintainer@macports.org
description		Message Passing Interface (MPI) Library
long_description	MPICH2 is an implementation of the Message-Passing \
				Interface (MPI). The goals of MPICH2 are to provide an MPI \
				implementation for important platforms, including clusters, \
				SMPs, and massively parallel processors. It also provides a \
				vehicle for MPI implementation research and for developing new \
				and better parallel programming environments.

homepage		http://www-unix.mcs.anl.gov/mpi/mpich2/
master_sites	ftp://ftp.mcs.anl.gov/pub/mpi/
checksums		sha1 4e404b9a1a4a336ed1d8cde9159a117a190c2318 

depends_lib port:python24

configure.args	--with-thread-package=posix \
				--enable-timer-type=gettimeofday \
				--enable-cxx \
				--mandir=${prefix}/share/man \
				--with-htmldir=${prefix}/share/doc/${name}

platform darwin 8 {
	configure.env CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}

variant g95 {
	depends_lib-append port:g95
	configure.env-append F77="$prefix/bin/g95" FFLAGS="-i4" \
                       F90="$prefix/bin/g95" F90FLAGS="-i4"
	configure.args-append --enable-f77 --enable-f90
}

variant romio {
	configure.args-append --enable-romio
}

variant gforker {
	configure.args-append --enable-pm=gforker:mpd
}

variant sharedlibs {
	configure.args-append --enable-sharedlibs=osx-gcc
}
