# $Id$

PortSystem 1.0

name			botan
version			1.6.5
categories		security devel
platforms		darwin
maintainers		mww
description		cryptographic algorithms and formats library in C++
long_description	Botan is a C++ library implementing a variety of \
				cryptographic algorithms and formats. At this time, it is \
				quite stable, and is suitable for use in a wide variety of \
				programs.

homepage		http://botan.randombit.net/
master_sites	http://files.randombit.net/botan/
distfiles		Botan-${version}.tbz
checksums		sha1 90cab3c79dc33620316737e0f173c74cd3ed122d
use_bzip2		yes
patchfiles		patch-misc-config-cc-gcc.diff

configure.cmd	./configure.pl
configure.args	--docdir=share/doc
# uses CC to select the compiler suite, instead of finding the C-compiler executable
configure.cc	gcc

platform darwin 8 { build.args		CXX=/usr/bin/g++-4.0 }
platform darwin 9 { build.args		CXX=/usr/bin/g++-4.0 }

platform darwin i386 {
	post-configure {
		reinplace "s|-mcpu=i686||g" ${worksrcpath}/Makefile
	}
}

destroot.destdir	INSTALLROOT=${destroot}${prefix} \
			OWNER=`id -u` \
			GROUP=`id -g`
