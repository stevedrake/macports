# $Id: Portfile,v 1.3 2004/10/20 13:52:43 fkr Exp $
PortSystem        1.0
name              hydra
version           4.3
distname          ${name}-${version}-src
categories        security
maintainers       julien.touche@touche.fr.st 
description       parallized login hacker utility
long_description  \
		  Hydra is a parallized login hacker utility. Hydra can \
		  brute force attack on  \
		  FTP, POP3, IMAP, Telnet, HTTP Auth, NNTP, VNC, ICQ, \
		  Socks5, PCNFS and more  \
		  services within SSL support. This port is provided as \
		  a standalone program to \
		  avoid installing a full Nessus scanner system. \
		  \
		  NOTE: Hydra is included in Nessus!
homepage          http://www.thc.org/releases.php \
                  http://www.thehackerschoice.com
master_sites      http://www.thc.org/releases/
platforms         darwin
checksums         md5 e135798de515bb2f7a231625046210a9
depends_lib        \
                  lib:libssl:openssl 
# need also libdes (in base system: in libcrypto)
#set worksrcdir    ${name}-${version}
patchfiles        patch-Makefile_am

build.type        gnu
pre-destroot {
	reinplace "s|PREFIX=/opt/local|PREFIX=${destroot}${prefix}|" \
		${worksrcpath}/Makefile
	file mkdir ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/README \
		${destroot}${prefix}/share/doc/${name}
}

variant libssh {
	depends_lib-append lib:libssh:libssh
	patchfiles-append patch-configure
}

