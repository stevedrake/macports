# $Id: Portfile,v 1.4 2004/11/08 13:25:46 mww Exp $
PortSystem        1.0
name              hydra
version           4.4
distname          ${name}-${version}-src
categories        security
maintainers       julien.touche@touche.fr.st 
description       parallized login hacker utility
long_description  \
		  Hydra is a parallized login hacker utility. Hydra can \
		  brute force attack on  \
		  FTP, POP3, IMAP, Telnet, HTTP Auth, NNTP, VNC, ICQ, \
		  Socks5, PCNFS and more  \
		  services within SSL support. This port is provided as \
		  a standalone program to \
		  avoid installing a full Nessus scanner system. \
		  \
		  NOTE: Hydra is included in Nessus!
homepage          http://www.thc.org/releases.php \
                  http://www.thehackerschoice.com
master_sites      http://www.thc.org/releases/
platforms         darwin
checksums         md5 307e1434ae475088caa01e3b1aefbf43
depends_lib       lib:libssl:openssl 
# need also libdes (in base system: in libcrypto)
#set worksrcdir    ${name}-${version}
patchfiles        patch-Makefile_am
post-patch	{
	reinplace "s|/usr/local/|${prefix}/|g" ${worksrcpath}/configure
}

build.type        gnu
pre-destroot {
	reinplace "s|PREFIX=/opt/local|PREFIX=${destroot}${prefix}|" \
		${worksrcpath}/Makefile
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/README \
		${destroot}${prefix}/share/doc/${name}
}

variant libssh {
	depends_lib-append lib:libssh:libssh
}

