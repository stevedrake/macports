# $Id: Portfile,v 1.2 2004/05/24 05:40:44 blb Exp $
PortSystem        1.0
name              hydra
version           4.0
distname          ${name}-${version}-src
categories        security
maintainers       julien.touche@touche.fr.st 
description       parallized login hacker utility
long_description  \
		  Hydra is a parallized login hacker utility. Hydra can \
		  brute force attack on  \
		  FTP, POP3, IMAP, Telnet, HTTP Auth, NNTP, VNC, ICQ, \
		  Socks5, PCNFS and more  \
		  services within SSL support. This port is provided as \
		  a standalone program to \
		  avoid installing a full Nessus scanner system. \
		  \
		  NOTE: Hydra is included in Nessus!
homepage          http://www.thc.org/releases.php \
                  http://www.thehackerschoice.com
master_sites      http://www.thc.org/releases/
platforms         darwin
checksums         md5 858e0b049fed9dcf06c7c8d052579f69
depends_lib        \
                  lib:libssl:openssl 
# need also libdes (in base system: in libcrypto)
set worksrcdir    ${name}-${version}

build.type        gnu
pre-destroot {
	reinplace "s|PREFIX=/opt/local|PREFIX=${destroot}${prefix}|" \
		${worksrcpath}/Makefile
	file mkdir ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/README \
		${destroot}${prefix}/share/doc/${name}
}

#variant darwin {
#        pre-configure {
#		## error
#		#ld: Undefined symbols:
#		#_des_set_odd_parity
#		reinplace "s|LIBDES=\"\"|LIBDES=\"-ldes425 -lcrypto\"|" \
#			${worksrcpath}/configure
#        }
#}
