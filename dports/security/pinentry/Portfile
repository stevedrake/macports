# $Id: Portfile,v 1.6 2006/08/08 07:07:59 yeled Exp $

PortSystem  1.0
name        pinentry
version     0.7.1
revision    2
categories  security
maintainers yeled@macports.org
description Passphrase entry dialog utilizing the Assuan protocol
long_description \
        This is a collection of simple PIN or passphrase entry \
        dialogs which utilize the Assuan protocol as described by \
        the aegypten project.

homepage    http://www.gnupg.org/aegypten2
platforms   darwin
master_sites    ftp://ftp.freenet.de/pub/ftp.gnupg.org/gcrypt/pinentry \
                ftp://ftp.gnupg.org/gcrypt/pinentry/ 
        
checksums   md5 7861d63dea6434a5a05da84e83f209e6

configure.args  --mandir=${prefix}/share/man \
        --infodir=${prefix}/share/info

depends_lib lib:libgcrypt.11:libgcrypt lib:libksba.8:libksba \
        lib:libassuan:libassuan

#test.run   yes
#test.dir   ${worksrcpath}/checks
#test.target    check

post-destroot   {
    file delete -force ${destroot}${prefix}/share/info/dir
    system "cd ${destroot}/${prefix}/bin && ln -s pinentry-curses pinentry"
}
