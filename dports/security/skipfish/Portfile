# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                skipfish
version             1.10b
categories          security
maintainers         snc openmaintainer
description         web application security scanner
long_description    A fully automated, active web application security \
                    reconnaissance tool.

homepage            http://code.google.com/p/skipfish/
platforms           darwin
depends_lib         port:openssl port:libidn port:zlib

master_sites        googlecode
extract.suffix      .tgz
checksums           md5     1e6ba5fff7fa5133e39ad604ca480ea2 \
                    sha1    b9bc1f09a7b83cd52a923ec25227870bcb1c02e2 \
                    rmd160  f6bc04e4d9e5a0a7b17c3019aa609c56f40f12dc

worksrcdir          ${name}

patchfiles          patch-report.c.diff patch-skipfish.c.diff
post-patch {
    reinplace s|@@SHARE@@|${prefix}/share/${name}/|g ${worksrcpath}/report.c
    reinplace s|@@SHARE@@|${prefix}/share/${name}/|g ${worksrcpath}/skipfish.c
}

use_configure       no

destroot {
    file mkdir ${destroot}${prefix}/share/${name}
    file copy ${worksrcpath}/skipfish ${destroot}${prefix}/bin/skipfish
    file copy ${worksrcpath}/assets/ ${destroot}${prefix}/share/${name}
}
