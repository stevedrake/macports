# $Id: Portfile,v 1.4 2005/12/17 10:30:02 mww Exp $

PortSystem 1.0

name			xmlsec
version			1.2.9
categories		security textproc devel
platforms		darwin
maintainers		mww@opendarwin.org
description		XML Security Library is a C library based on LibXML2.
long_description	XML Security Library is a C library based on LibXML2. The \
				library supports major XML security standards. XML Signature, \
				XML Encryption, Canonical XML and Exclusive Canonical XML.

homepage		http://www.aleksey.com/xmlsec/
master_sites	${homepage}/download/ \
				ftp://ftp.xmlsoft.org/xmlsec/releases/
distname		xmlsec1-${version}
checksums		md5 b378a076708766966724aaeba09e4607
patchfiles		patch-configure

depends_lib		port:libxml2 \
				port:libxslt \
				port:openssl \
				port:libiconv \
				port:zlib

configure.args	--with-libxml=${prefix} \
				--with-libxslt=${prefix} \
				--mandir=${prefix}/share/man

test.run		yes
test.target		check

platform darwin 7 {
	build.env		MACOSX_DEPLOYMENT_TARGET=10.3
}

platform darwin 8 {
	build.env		MACOSX_DEPLOYMENT_TARGET=10.4
	configure.env	CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}

