# $Id$

PortSystem	1.0

name		osh
version		20081122
categories	shells
maintainers	v6shell.org:jan+mp
description	Ports of the Sixth Edition (V6) UNIX Thompson shell
long_description \
		The osh package contains two ports of the original /bin/sh \
		from Sixth Edition (V6) UNIX (circa 1975). Where osh is an \
		enhanced port of the shell, sh6 is an unenhanced port. \
		This package also includes the following external \
		shell utilities: glob6, if, goto, and fd2.
homepage	http://v6shell.org/
platforms	darwin
master_sites	http://v6shell.org/src/

checksums	md5 6f3bdb83037bf3fa39c81ece40fe5417 \
		sha1 e0caff3904e253aa76836eb12f36915e08298080 \
		rmd160 ca055f45178109ff8a71912451bb5697468d9fbb

use_configure	no

build.args	PREFIX=${prefix}

# NOTE: INSTALL=... can be removed after MacPorts 1.7 is released.
destroot.env	INSTALL=${configure.install}
destroot.args	PREFIX=${prefix} MANDIR=${prefix}/share/man/man1

post-destroot {
	set	docdir	${destroot}${prefix}/share/doc/${name}-${version}
	xinstall -m 0755 -d ${docdir}
	xinstall -m 0444 -W ${worksrcpath} \
		AUTHORS CHANGES CHANGES-sh_to_sh6 INSTALL \
		LICENSE NOTES README ${docdir}
}

variant universal {
	build.args-append	CFLAGS="${configure.universal_cflags}" \
				LDFLAGS="${configure.universal_ldflags}"
}
