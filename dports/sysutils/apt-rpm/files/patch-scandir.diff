--- ./tools/genpkglist.cc.orig	2007-03-18 20:09:42.000000000 +0100
+++ ./tools/genpkglist.cc	2007-06-20 14:02:05.000000000 +0200
@@ -334,7 +334,11 @@
 }
 
 
+#if defined(__APPLE__) || defined(__FREEBSD__)
+int selectDirent(struct dirent *ent)
+#else
 int selectDirent(const struct dirent *ent)
+#endif
 {
    int state = 0;
    const char *p = ent->d_name;
--- tools//gensrclist.cc.orig	2007-03-18 20:09:42.000000000 +0100
+++ tools//gensrclist.cc	2007-06-20 14:03:32.000000000 +0200
@@ -55,7 +55,11 @@
 };
 int numTags = sizeof(tags) / sizeof(int);
 
+#if defined(__APPLE__) || defined(__FREEBSD__)
+int selectDirent(struct dirent *ent)
+#else
 int selectDirent(const struct dirent *ent)
+#endif
 {
    int state = 0;
    const char *p = ent->d_name;
