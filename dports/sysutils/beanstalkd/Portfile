# $Id$

PortSystem 1.0

name			beanstalkd
version			0.9
revision		3
description		a fast, distributed, in-memory workqueue service
long_description	\
	beanstalkd is a fast, distributed, in-memory workqueue service. \
	Its interface is generic, but is intended for use in reducing the \
	latency of page views in high-volume web applications by running most \
	time-consuming tasks asynchronously.
maintainers		nick@macports.org
categories		sysutils
platforms		darwin
homepage		http://xph.us/software/beanstalkd/
master_sites		http://xph.us/software/beanstalkd/rel/
checksums		sha1 a879e70953f1ddce0910d870c175af6cdf684893

depends_lib		port:libevent \
			port:gmake

use_configure		no
patchfiles		patch-Makefile.diff patch-prot.diff
patch.pre_args		-p1
post-patch {
        reinplace "s|__PREFIX__|${prefix}|g" ${worksrcpath}/Makefile
}

build.target
destroot.cmd		install
destroot.target		beanstalkd
destroot.destdir	${destroot}${prefix}/bin
