# $Id$

PortSystem 1.0

name			beanstalkd
version			1.0
revision		0
description		a fast, distributed, in-memory workqueue service
long_description	\
	beanstalkd is a fast, distributed, in-memory workqueue service. \
	Its interface is generic, but is intended for use in reducing the \
	latency of page views in high-volume web applications by running most \
	time-consuming tasks asynchronously.
maintainers		nick@macports.org
categories		sysutils
platforms		darwin
homepage		http://xph.us/software/beanstalkd/
master_sites		http://xph.us/software/beanstalkd/rel/
checksums		md5 4549822ffec2d90da6a575a292f0e472 \
			sha1 fb3d2c0d043ad7484b0ffd185498b1e604f7bd98 \
			rmd160 a5bbd6d9b7ae9da9ad42dd7fd2880b78424a815a

depends_lib		port:libevent \
			port:gmake

use_configure		no
patchfiles		patch-Makefile.diff
patch.pre_args		-p1
post-patch {
        reinplace "s|__PREFIX__|${prefix}|g" ${worksrcpath}/Makefile
}

build.target
destroot.cmd		install
destroot.target		beanstalkd
destroot.destdir	${destroot}${prefix}/bin
