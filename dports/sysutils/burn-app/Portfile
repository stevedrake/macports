# $Id$

PortSystem 1.0
PortGroup xcode 1.0

name            burn-app
version         1.72
categories      sysutils
platforms       macosx
maintainers     raimue

description     Burn.app is a burning application for Mac OS X
long_description \
                Burn.app is an open source frontend for Apple's DiscBurning \
                Framework

homepage        http://burn-osx.sourceforge.net/
master_sites    sourceforge:burn-osx
distname        Burn[strsed ${version} {s/\.//}]src

checksums       md5     91c29c66358321f6b380b54ace6c99ec \
                sha1    340cb1edff456bfd31bcce74fded70a2c1f3a954 \
                rmd160  02aa7fde3474a522aec57a7a955046c8e0835aec

use_zip         yes

post-extract {
    ln -sf ${prefix}/lib/libiconv.2.dylib ${worksrcpath}/Frameworks/libiconv.2.dylib
}

patch {
	reinplace -E "/(MACOSX_DEPLOYMENT_TARGET|SDKROOT) =/d" \
		${worksrcpath}/Burn.xcodeproj/project.pbxproj
}

xcode.configuration     Release

variant universal {
    xcode.target        "Burn Universal"
}

platform i386 {
    if {![variant_isset universal]} {
        xcode.target        "Burn Intel"
    }
}

platform x86_64 {
    if {![variant_isset universal]} {
        xcode.target        "Burn Intel"
    }
}

platform ppc {
    if {![variant_isset universal]} {
        xcode.target        "Burn PowerPC"
    }
}

platform ppc64 {
    if {![variant_isset universal]} {
        xcode.target        "Burn PowerPC"
    }
}

livecheck.regex {<title>Burn (.*)u released.*</title>}
