# $Id$

PortSystem 1.0
name            coreutils
version         6.9
categories      sysutils
maintainers     pipping@macports.org
description     GNU File, Shell, and Text utilities
long_description \
    The GNU Core Utilities are the basic file, shell, and text          \
    manipulation utilities of the GNU operating system. These are the   \
    core utilities which are expected to exist on every operating       \
    system. Previously these utilities were offered as three individual \
    sets of GNU utilities, fileutils, shellutils, and textutils. Those  \
    three have been combined into a single set of utilities called the  \
    coreutils.

homepage        http://www.gnu.org/software/coreutils/
platforms       darwin

master_sites    gnu
# use_bzip2     yes
checksums       md5 62032af4d79cd99743e06d5c40c4989c \
                sha1 41c36653f6e9a4a1c086c78ac293ede8cf86beb1 \
                rmd160 45e860cc7f095160140d40c2f13b091445002274

configure.args  --program-prefix=g \
                --infodir=${prefix}/share/info \
                --mandir=${prefix}/share/man \
                --disable-nls

depends_lib     port:libiconv

post-destroot {
    delete ${destroot}${prefix}/share/info/dir \
      ${destroot}${prefix}/lib/charset.alias
    if {[variant_isset with_default_names]} {
        foreach d {bin share/man/man1} {
            cd ${destroot}${prefix}/$d
            foreach a [glob g*] {
                regexp g(.+) $a crap b
                file link -hard $b g$b
            }
        }
    }
}

# Set the RUN_EXPENSIVE_TESTS environmental variable to 'yes' to run more
# expensive tests.  Set the RUN_VERY_EXPENSIVE_TESTS environmental variable
# to 'yes' to run even more expensive tests.
test.run        yes
test.target     check

variant with_default_names {}
