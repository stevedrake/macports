# $Id$

PortSystem 1.0

name			createrepo
version			0.4.4
revision		2
categories		sysutils
platforms		darwin
maintainers		nomaintainer@macports.org
description		generates metadata for package repositories for yum, etc.
long_description	createrepo generates the metadata necessary for a package \
			repository. This repository format is supported by yum, up2date, \
			smart, red-carpet(xen) and YaST.

homepage		http://linux.duke.edu/metadata/
master_sites	http://linux.duke.edu/projects/metadata/generate/
checksums		sha1 bf170f376254aba33ede36bbc929d95cd90aae1d
patchfiles		patch-createrepo patch-dumpMetadata.py patch-genpkgmetadata.py

depends_run		port:python24 port:rpm port:yum

post-patch {
	reinplace "s|__PREFIX__|${prefix}|g" ${worksrcpath}/bin/createrepo
	reinplace "s|__PYTHON__|${prefix}/bin/python2.4|g" \
		${worksrcpath}/dumpMetadata.py ${worksrcpath}/genpkgmetadata.py
}

use_configure	no

build.args		prefix=${prefix}

destroot.args	prefix=${prefix} INSTALL=/usr/bin/install INSTALL_MODULES="/usr/bin/install -m 755"

