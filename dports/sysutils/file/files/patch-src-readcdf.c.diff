--- src/readcdf.c.orig	2010-01-19 17:36:55.000000000 -0800
+++ src/readcdf.c	2010-07-06 15:46:11.000000000 -0700
@@ -126,7 +126,7 @@
 					char *c, *ec;
 					cdf_timestamp_to_timespec(&ts, tp);
 					c = ctime(&ts.tv_sec);
-					if ((ec = strchr(c, '\n')) != NULL)
+					if (c != NULL && (ec = strchr(c, '\n')) != NULL)
 						*ec = '\0';
 
 					if (NOTMIME(ms) && file_printf(ms,
