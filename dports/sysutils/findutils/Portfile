# $Id$

PortSystem 1.0

name                findutils
version             4.2.30
revision            0
categories          sysutils
platforms           darwin
maintainers         mww@opendarwin.org
description         findutils contains GNU find, xargs, and locate
long_description    ${description}
homepage            http://www.gnu.org/software/findutils/
master_sites        gnu
checksums           md5 c35ff6502e0b3514c99089cb5d333c25 \
                    sha1 d9f174b67f44bcb5ea3147c8ce313e89d2a900fc \
                    rmd160 bd0079088e65b90c16897f8f3a64ad8a0d1d040f

depends_lib         port:gettext

configure.env       SORT=/usr/bin/sort
configure.args      --mandir=${prefix}/share/man \
                    --infodir=${prefix}/share/info \
                    --program-prefix=g

post-destroot {
    cd ${destroot}${prefix}/share/info
    file rename find.info gfind.info
}

test.run            yes
test.target         check

variant with_default_names {
    post-destroot {
        foreach d {bin libexec share/info share/man/man1 share/man/man5} {
            cd ${destroot}${prefix}/$d
            foreach a [glob g*] {
                regexp g(.+) $a crap b
                file link -hard $b g$b
            }
        }
    }
}
