# $Id$

PortSystem 1.0

name             freeradius
version          2.0.4
revision         2
categories       sysutils
maintainers      nomaintainer
description      Free Radius Implementation
long_description \
	The FreeRADIUS Server Project is an attempt to create a high-performance and highly-configurable \
	GPLd free RADIUS server.  The server is similar to Livingston's 2.0 server. FreeRADIUS is a variant of \
	the Cistron RADIUS server, but they don't share a lot in common any more.
homepage         http://www.freeradius.org/
platforms        darwin freebsd
use_bzip2	yes
distname	${name}-server-${version}
master_sites     ftp://ftp.freeradius.org/pub/freeradius/ \
		 ftp://ftp.freeradius.org/pub/radius/old
checksums	md5  0b63d1d75e51bd94b62c11c639fa329e \
		sha1  3408d09a990c63df6718939097650a463d654a99 \
		rmd160  66915fb5511573b502b7afdb96fd0adb807faa29

depends_lib      port:openssl port:gdbm

configure.args   --with-openssl-includes=${prefix}/include/openssl \
                 --with-openssl-libraries=${prefix}/lib \
                 --without-rlm_krb5 \
                 --mandir=${prefix}/share/man

configure.cflags-append -I${prefix}/include

destroot.env-append	R=${destroot}

variant kerberos description { Using kerberos } {
     depends_lib-append port:kerberos5
     configure.args-delete --without-rlm_krb5
}
