# $Id$

PortSystem 1.0

name                    gearmand
version                 0.12
revision                1
description             framework for distributed computation
long_description        Gearman provides a generic application framework \
                        to farm out work to other machines or processes \
                        that are better suited to do the work. It allows \
                        you to do work in parallel, to load balance \
                        processing, and to call functions between languages. \
                        It can be used in a variety of applications, from \
                        high-availability web sites to the transport of \
                        database replication events. In other words, it \
                        is the nervous system for how distributed \
                        processing communicates.
maintainers             medialize.de:rodney.rehm openmaintainer
categories              sysutils
platforms               darwin
homepage                http://gearman.org/
master_sites            https://launchpad.net/gearmand/trunk/${version}/+download/

checksums               md5  6e88a6bfb26e50d5aed37d143184e7f2

depends_lib             port:libevent

configure.args          --mandir=${prefix}/share/man \
                        --with-libevent-prefix=${prefix} \
                        --enable-threads

startupitem.create      yes
startupitem.executable  ${prefix}/sbin/gearmand -vv \
                        --port=4730 \
                        -u root \
                        --pid-file=${prefix}/var/run/gearmand.pid \
                        --log-file=${prefix}/var/log/gearmand.log

variant dtrace description (Enable DTrace probes) {
    configure.args-append    --enable-dtrace
}
