# $Id: Portfile,v 1.17 2006/08/08 07:08:01 yeled Exp $

PortSystem 1.0
name        john
version     1.6
revision    2
categories  sysutils security
maintainers yeled@opendarwin.org
description Featureful Unix password cracker
long_description    \
    John the Ripper is a UNIX password cracker, currently available for \
    UNIX (tested with Linux x86, FreeBSD x86, Solaris 2.x SPARC, OSF/1 \
    Alpha), DOS, WinNT/Win95.
homepage    http://www.openwall.com/john/
platforms   darwin
master_sites    \
    http://www.openwall.com/john/ \
    ftp://ftp.ca.openwall.com/pub/projects/john/ \
    ftp://ftp.openwall.com/pub/projects/john/ \
    ftp://ftp1.ru.openwall.com/pub/projects/john/ \
    ftp://ftp2.ru.openwall.com/pub/projects/john/ \
    ftp://ftp.pl.openwall.com/pub/projects/john/ \
    ftp://ftp.ua.openwall.com/pub/projects/john/ \
    ftp://ftp.cz.openwall.com/pub/projects/john/
checksums   md5 aae782f160041b2bdc624b0a84054e32
patchfiles  patch-Makefile
worksrcdir ${distname}/src
configure   {}
build.args  macosx-ppc-cc
build.target
destroot {
    file mkdir ${destroot}${prefix}/bin
    file copy ${workpath}/${distname}/run ${destroot}${prefix}/share/john
    system "chmod -R ugo+rx ${destroot}${prefix}/share/john"
    system "ln -s ${prefix}/share/john/john ${destroot}${prefix}/bin/john"
    file mkdir ${destroot}${prefix}/share/doc
    file copy ${workpath}/${distname}/doc ${destroot}${prefix}/share/doc/john
    system "chmod -R ugo+rx ${destroot}${prefix}/share/doc/john"
}

post-install {
        ui_msg  ""
        ui_msg  "You'll find the john files under ${prefix}/share/john/"
        ui_msg  ""
}

