# $Id$

PortSystem 1.0

name		passogva
version		1.0
categories	sysutils
platforms	darwin
maintainers	nomaintainer@macports.org
description	automated password generator
long_description	passogva is a FIPS-181 automated password generator \
			implementation. It generates random, pronounceable \
			words.

set website	https://dev.mosuki.com/passogva/
homepage	${website}index.php
master_sites	${website}src/
distfiles	passogva.c
checksums	md5 c3b188e134588efaec8acf09d3519b19

# The certificate doesn't match the host.
# fetch.ignore_sslcert	yes

pre-fetch {
    ui_msg ""
    ui_msg ""
    ui_msg "You need to be running MacPorts 1.5 in order to fetch this port. To do so, run  "
    ui_msg ""
    ui_msg "    sudo port edit $name"
    ui_msg ""
    ui_msg "and remove the \"#\" just before \"fetch.ignore_sslcert\". If you are running an"
    ui_msg "older version of Macports, you can download the tarball manually. To do so, "   
    ui_msg "execute the following commands in the given order:                              " 
    ui_msg ""
    ui_msg "(1) url=\"[lindex $master_sites 0]${distfiles}\""
    ui_msg ""
    ui_msg "(2) target=\"${prefix}/var/db/dports/distfiles/${name}\""
    ui_msg ""
    ui_msg "(3) sudo curl -gko \${target}/${distfiles} \${url}"
    ui_msg ""
    ui_msg ""
}

extract		{
	file mkdir ${worksrcpath}
	file copy ${distpath}/${distfiles} ${worksrcpath}
}

use_configure	no

build.cmd	gcc passogva.c -o passogva
build.target

destroot	{
	xinstall -m 755 -s ${worksrcpath}/passogva ${destroot}${prefix}/bin
}
