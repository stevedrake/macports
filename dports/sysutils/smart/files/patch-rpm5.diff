=== modified file 'smart/backends/rpm/header.py'
--- smart/backends/rpm/header.py	2008-08-12 07:01:07 +0000
+++ smart/backends/rpm/header.py	2008-08-12 11:41:09 +0000
@@ -164,6 +164,12 @@
     def getPathList(self):
         if self._path is None:
             paths = self._h[rpm.RPMTAG_OLDFILENAMES]
+            if not paths:
+                dirs = self._h[rpm.RPMTAG_DIRNAMES]
+                base = self._h[rpm.RPMTAG_BASENAMES]
+                paths = []
+                for i in range(0,len(dirs)):
+                    paths.append(dirs[i] + base[i])
             if type(paths) != list:
                 paths = [paths]
             modes = self._h[rpm.RPMTAG_FILEMODES]

