--- GNUmakefile.orig	2009-05-02 13:27:11.000000000 -0700
+++ GNUmakefile	2009-05-02 13:27:24.000000000 -0700
@@ -46,28 +46,26 @@
       osdep-unknown.c osdep-openbsd.c osdep-freebsd.c osdep-linux.c \
       osdep-darwin.c attributes.c
 
-CC?= gcc
-INCDIRS+= -I. -I-
-CFLAGS+= -DBUILD="\"$(VERSION) ($(DATE))\"" -DMETA="'${META}'"
+CC= __CC__
+INCDIRS+= -I.
+CFLAGS+= __CFLAGS__ -DBUILD="\"$(VERSION) ($(DATE))\"" -DMETA="'${META}'"
 ifdef FDEBUG
 CFLAGS+= -g -ggdb -DDEBUG
 LDFLAGS+= -rdynamic
 LIBS+= -ldl
 endif
-ifeq (${CC},gcc)
 CFLAGS+= -Wno-long-long -Wall -W -Wnested-externs -Wformat=2
 CFLAGS+= -Wmissing-prototypes -Wstrict-prototypes -Wmissing-declarations
 CFLAGS+= -Wwrite-strings -Wshadow -Wpointer-arith -Wcast-qual -Wsign-compare
 CFLAGS+= -Wundef -Wbad-function-cast -Winline -Wcast-align
-endif
 
-LDFLAGS+=
+LDFLAGS+= __LDFLAGS__
 LIBS+= -lncurses
 
-PREFIX?= /usr/local
+PREFIX?= __PREFIX__
 INSTALLDIR= install -d
-INSTALLBIN= install -g bin -o root -m 555
-INSTALLMAN= install -g bin -o root -m 444
+INSTALLBIN= install -m 555
+INSTALLMAN= install -m 444
 
 ifeq ($(shell uname),AIX)
 INCDIRS+= -I/usr/local/include/ncurses -Icompat
@@ -103,7 +101,6 @@
 endif
 
 ifeq ($(shell uname),Darwin)
-INCDIRS+= -Icompat
 SRCS+= compat/strtonum.c compat/bsd-poll.c compat/vis.c
 CFLAGS+= -DNO_STRTONUM -DNO_SETRESUID -DNO_SETRESGID -DNO_SETPROCTITLE \
          -DNO_QUEUE_H -DNO_TREE_H -DBROKEN_POLL
@@ -137,8 +134,8 @@
 install:
 	$(INSTALLDIR) $(DESTDIR)$(PREFIX)/bin
 	$(INSTALLBIN) $(PROG) $(DESTDIR)$(PREFIX)/bin/$(PROG)
-	$(INSTALLDIR) $(DESTDIR)$(PREFIX)/man/man1
-	$(INSTALLMAN) $(PROG).1 $(DESTDIR)$(PREFIX)/man/man1/$(PROG).1
+	$(INSTALLDIR) $(DESTDIR)$(PREFIX)/share/man/man1
+	$(INSTALLMAN) $(PROG).1 $(DESTDIR)$(PREFIX)/share/man/man1/$(PROG).1
 
 clean:
 	rm -f $(CLEANFILES)
