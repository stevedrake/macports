# $Id$

PortSystem              1.0
PortGroup               cmake 1.0

name                    cuneiform
version                 1.0.0
set branch              [join [lrange [split ${version} .] 0 1] .]
platforms               darwin
maintainers             nomaintainer
categories              textproc graphics

description             Cuneiform is an OCR system with layout analysis.
long_description        Cuneiform is an OCR system originally developed and \
                        open sourced by Cognitive technologies. \
                        In addition to text recognition it also does layout \
                        analysis and text format recognition. \
                        Cuneiform supports several languages.

homepage                https://launchpad.net/cuneiform-linux
master_sites            http://launchpad.net/cuneiform-linux/${branch}/${branch}/+download/
distname                ${name}-linux-${version}
use_bzip2               yes

checksums               md5     785232ffffad7d82446fbac08a1c3ef9 \
                        sha1    bdf8bcb3ee578f21032e1f6b6d557e9902f0af77 \
                        rmd160  22c1dc2cbdfd150892af144e0b95103fd13c8ae2

depends_lib             port:ImageMagick

post-extract {
    file mkdir ${worksrcpath}/build
}

platform darwin powerpc {
    patchfiles          patch-perc.c.diff \
                        patch-CMakeLists.txt.diff \
                        patch-config.h.in.diff
}

configure.dir           ${worksrcpath}/build
configure.args-append   ${worksrcpath}

build.dir               ${worksrcpath}/build

livecheck.type          regex
livecheck.regex         ${name}-linux-(\[0-9.\]+)${extract.suffix}
