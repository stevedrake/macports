# $Id: Portfile,v 1.6 2005/05/24 12:54:27 cjr Exp $

PortSystem 1.0
name		dumpasn1
version		20030222
categories	textproc security
maintainers	cjr@opendarwin.org
description	an ASN.1 decoder and pretty-printer
long_description	The dumpasn1 program decodes BER and DER-encoded \
			ASN.1 data, and is configured with knowledge of \
			many security-related objects.
homepage	http://www.cs.auckland.ac.nz/~pgut001/
master_sites	${homepage}
distname	
distfiles	dumpasn1.c dumpasn1.cfg
checksums	dumpasn1.c md5 faba9cbad80fcc97ae566f97c2c85272 \
		dumpasn1.cfg md5 fffe09ac2fad6161b62a69b98f51e7d1
platforms	darwin
extract {
	system "cp ${distpath}/dumpasn1.c ${worksrcpath}"
	system "cp ${distpath}/dumpasn1.cfg ${worksrcpath}"
}

configure	{}

post-configure {
	reinplace "s|/etc/dumpasn1/|$prefix/etc/|g" \
		"${worksrcpath}/dumpasn1.c"
}

build {
	system "cc -o ${worksrcpath}/dumpasn1 ${worksrcpath}/dumpasn1.c"
}

destroot {
	xinstall -c -m 0755 ${worksrcpath}/dumpasn1 \
		${destroot}${prefix}/bin/dumpasn1
	xinstall -c -m 0644 ${worksrcpath}/dumpasn1.cfg \
		${destroot}${prefix}/etc/dumpasn1.cfg
}
