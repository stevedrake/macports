# $Id: Portfile,v 1.1 2004/09/26 12:37:52 olegb Exp $

PortSystem 1.0
name	    	gpsbabel
version	    	1.2.3
categories  	textproc comms
maintainers 	thomas+darwinports@stromberg.org
description    	GPSBabel converts and or uploads GPS waypoints, tracks, and routes
long_description    	GPSBabel converts GPS waypoints, tracks, and routes from \
			one format to another, whether that format is a common \
			mapping format like Delorme, Streets and Trips, or even \
			a serial upload or download to a GPS unit such as those \
			from Garmin and Magellan. 
homepage	http://gpsbabel.sourceforge.net
platforms	darwin
master_sites	sourceforge
checksums	md5 bd818aba946f3956cad4ccef154abb47

depends_lib	lib:libexpat.0:expat
use_configure	no
build.env	EXTRA_CFLAGS="-I${prefix}/include -L${prefix}/lib"


configure {
    cd ${worksrcpath}
    reinplace "s|/usr/local|${destroot}|g" ${worksrcpath}/Makefile
}

destroot {
        xinstall -m 755 -d ${destroot}/${prefix}/bin
        xinstall -m 755 -W ${worksrcpath} gpsbabel ${destroot}/${prefix}/bin/
	xinstall -m 755 -d ${destroot}/${prefix}/share/doc/${name}
        xinstall -m 644 -W ${worksrcpath} README README.contrib README.magnav \
               README.mapconverter README.psp README.xmapwpt \
                ${destroot}/${prefix}/share/doc/${name}
}
