# $Id: Portfile,v 1.3 2006/03/30 03:41:12 takanori Exp $

PortSystem		1.0
name			hyperestraier
version			1.1.6
categories		textproc
maintainers		pelopor@nifty.com
description		Hyper Estraier is a full-text search system.
long_description	\
	Hyper Estraier is a full-text search system. You can search lots of\
	documents for some documents including specified words. If you run a web\
	site, it is useful as your own search engine for pages in your site. Also,\
	it is useful as search utilities of mail boxes and file servers.\
	\
	The characteristic of Hyper Estraier is the following.\
	\
    	* High performance of search\
    	* High scalability of target documents\
    	* Perfect recall ratio by N-gram method\
    	* Phrase search, attribute search, and similarity search\
    	* Multilingualism with Unicode\
    	* Independent of file format and repository\
    	* Simple and powerful API\
    	* Supporting P2P architecture (in the future)\
	\
	Hyper Estraier is an open-source software released under the terms of the\
	GNU Lesser General Public License.\

homepage	 	http://hyperestraier.sourceforge.net/
platforms		darwin
depends_build	bin:pkg-config:pkgconfig
depends_lib		port:qdbm port:libiconv port:zlib 
master_sites 	http://hyperestraier.sourceforge.net/
checksums		 md5 a688ebda299a033f61321f0d70adad84 \
                sha1 3c0e2e3d46b1301e6bf1dc0c5d75a6474c925e54 \
                rmd160 6812098c80463f4eb548de8e248d6c71c8030dce

configure.args	--mandir=${prefix}/share/man --datadir=${prefix}/share/doc

post-extract {
    reinplace "s|\$HOME|${prefix}|g" \
        ${worksrcpath}/configure
    reinplace "s|\$(HOME)|${prefix}|g" \
        ${worksrcpath}/Makefile.in
    reinplace "s|install_name libestraier.\$(LIBVER).dylib|install_name \$(MYLIBDIR)/libestraier.\$(LIBVER).dylib|g" \
        ${worksrcpath}/Makefile.in
}

test.run         yes
platform  macosx {
		  build.target	mac
		  test.target      check-mac
		  destroot.target	install-mac
}

variant mecab {
    depends_lib-append      port:mecab
    configure.args-append   --enable-mecab
}
