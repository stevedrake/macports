# $Id: Portfile,v 1.6 2006/02/14 22:59:56 pguyot Exp $

PortSystem			1.0
name				libebml
version				0.7.6
categories			textproc
maintainers			pguyot@kallisys.net
description			EBML (Extensible Binary Meta Language), sort of binary version of XML.
long_description	EBML (Extensible Binary Meta Language), a binary derivative of \
					XML. EBML enables the Matroska Development Team to gain \
					significant advantages in terms of future format \
					extensibility, without breaking file support in old parsers.
homepage			http://www.matroska.org/
platforms			darwin
master_sites		http://dl.matroska.org/downloads/${name}/
checksums			md5 bb054799dfdf6bfa5dd2cf95416ff021 \
					sha1 fe94f77d9f45529bce42ca16714882ce4d5ae843 \
					rmd160 d389dba159de1c8e2a783b3cee483dceff277801
use_bzip2			yes

post-extract {
	cd "${worksrcpath}/make"
	system "cp -R linux darwin"
}

configure			{}

build.dir			${worksrcpath}/make/darwin
build.args			prefix=${prefix}

# We need -p for install because ld will ask for ranlib if the modification date changes.
destroot.args		INSTALL_OPTS_LIB='-m 644 -p'
destroot.destdir	prefix=${destroot}${prefix}
