# $Id: Portfile,v 1.5 2005/08/29 08:35:36 pguyot Exp $

PortSystem			1.0
name				libebml
version				0.7.5
categories			textproc
maintainers			pguyot@kallisys.net
description			EBML (Extensible Binary Meta Language), sort of binary version of XML.
long_description	EBML (Extensible Binary Meta Language), a binary derivative of \
					XML. EBML enables the Matroska Development Team to gain \
					significant advantages in terms of future format \
					extensibility, without breaking file support in old parsers.
homepage			http://www.matroska.org/
platforms			darwin
master_sites		http://dl.matroska.org/downloads/${name}/
checksums			md5 6db55f4198a77779c983ee6c244fcf6a \
					sha1 a12a63fa6970df166cbb8087f30f9918775e1614
#					rmd160 f72efa761b80c591dbb227837b0feaee4ba24c7a
use_bzip2			yes

post-extract {
	cd "${worksrcpath}/make"
	system "cp -R linux darwin"
}

configure			{}

build.dir			${worksrcpath}/make/darwin
build.args			prefix=${prefix}

# We need -p for install because ld will ask for ranlib if the modification date changes.
destroot.args		INSTALL_OPTS_LIB='-m 644 -p'
destroot.destdir	prefix=${destroot}${prefix}
