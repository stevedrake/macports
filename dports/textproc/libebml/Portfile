# $Id: Portfile,v 1.8 2006/04/17 22:06:08 pguyot Exp $

PortSystem			1.0
name				libebml
version				0.7.7
categories			textproc
maintainers			pguyot@kallisys.net
description			EBML (Extensible Binary Meta Language), sort of binary version of XML.
long_description	EBML (Extensible Binary Meta Language), a binary derivative of \
					XML. EBML enables the Matroska Development Team to gain \
					significant advantages in terms of future format \
					extensibility, without breaking file support in old parsers.
homepage			http://www.matroska.org/
platforms			darwin
master_sites		http://dl.matroska.org/downloads/${name}/
checksums			md5 7c8456a50fd82c1c9755917d0182c49e \
					sha1 e79f98968c8566c95637616c4419697e0adbecca \
					rmd160 d42ec6606a16cc9b38cff501e14929853136fa0b
use_bzip2			yes

post-extract {
	cd "${worksrcpath}/make"
	system "cp -R linux darwin"
}

configure			{}

build.dir			${worksrcpath}/make/darwin
build.args			prefix=${prefix}

# We need -p for install because ld will ask for ranlib if the modification date changes.
destroot.args		INSTALL_OPTS_LIB='-m 644 -p'
destroot.destdir	prefix=${destroot}${prefix}

# livecheck.
livecheck.check		regex
livecheck.url		http://www.bunkus.org/videotools/mkvtoolnix/source.html
livecheck.regex		${name} (\[0-9.\]+)
