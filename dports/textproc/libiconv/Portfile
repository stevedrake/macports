# $Id: Portfile,v 1.30 2005/05/02 19:41:16 mww Exp $

PortSystem 1.0
name		libiconv
version		1.9.2
revision	1
categories	textproc
platforms	darwin freebsd

maintainers	mij@opendarwin.org
description	Character set conversion library

long_description A character-set conversion library which implements the \
		 iconv() API for dealing with unicode and other types of \
		 conversion.

homepage	http://www.gnu.org/software/libiconv/
master_sites	gnu
checksums	md5 6bc300365053c815b10b800a21e0bc7e

post-patch	{ reinplace "s|@\mandir@|$\(prefix)/share/man|g" \
		    ${worksrcpath}/Makefile.in
		  reinplace "s|@\mandir@|$\(prefix)/share/man|g" \
		    ${worksrcpath}/man/Makefile.in
		  reinplace "s|$\(datadir)/doc/${portname}|$\(prefix)/share/doc/${portname}|g" \
		    ${worksrcpath}/man/Makefile.in }

configure.args	--enable-static

pre-destroot	{ system "install -m 755 -d \
		    ${destroot}${prefix}/share/doc/${portname}" }

destroot.destdir prefix=${destroot}${prefix}

post-destroot {
	file delete -force ${destroot}${prefix}/lib/charset.alias
}
