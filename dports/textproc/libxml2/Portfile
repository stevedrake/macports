# $Id$

PortSystem      1.0

name                  libxml2
version               2.6.29
revision	      0
categories            textproc
description           gnome xml library
platforms             darwin
maintainers           cedric.luthi@gmail.com
homepage              http://xmlsoft.org/index.html
master_sites          http://xmlsoft.org/sources/ \
                      ftp://xmlsoft.org/libxml2/ \
                      http://ftp.gnome.org/pub/gnome/sources/libxml2/2.6/
checksums             md5 8b99b6e8b08e838438d9e6b639d79ebd \
                      sha1 2355f2455aa6408244b7e2c444befeb0e93e37d5 \
                      rmd160 489b394fc7dd9c23618a88ba3ddcecf71caf3874
depends_lib           port:libiconv port:zlib
post-extract {
    reinplace "s|/etc|${prefix}/etc|g" \
        ${worksrcpath}/catalog.c \
        ${worksrcpath}/runtest.c \
        ${worksrcpath}/xmlcatalog.c \
        ${worksrcpath}/xmllint.c \
        ${worksrcpath}/doc/xmlcatalog.1 \
        ${worksrcpath}/doc/xmllint.1
}
configure.env         BASE_DIR=${prefix}/share/doc
configure.args        --mandir=${prefix}/share/man --with-iconv=${prefix} \
                        --enable-static=no \
                        --without-python

test.run              yes
test.target           check

variant debug {
        configure.cflags-append -O0 -g -Wno-uninitialized
	configure.args-append --with-run-debug
}

long_description \
Libxml is the XML C library developed for the Gnome project.  \
XML itself is a metalanguage to design markup languages. \
Though the library is written in C, a variety of language bindings make it \
available in other environments. 
