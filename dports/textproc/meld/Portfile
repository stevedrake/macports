# -*- coding: utf-8; mode: tcl; tab-width: 4; truncate-lines: t; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:et:sw=4:ts=4:sts=4
# $Id$

PortSystem		1.0

name			meld
version			1.3.1
categories		textproc devel
platforms		darwin
maintainers		landonf
homepage		http://meld.sourceforge.net/
description		Visual diff and merge tool.
long_description	Meld is a visual diff and merge tool. You can compare \
			two or three files and edit them in place (diffs \
			update dynamically). You can compare two or three \
			folders and launch file comparisons. You can browse \
			and view a working copy from popular version control \
			systems such such as CVS, Subversion, Bazaar-ng and \
			Mercurial.

master_sites		http://ftp.gnome.org/pub/gnome/sources/meld/1.3/

depends_lib		port:intltool \
			port:py25-gtk \
			port:py25-gnome \
			port:rarian

#patchfiles		patch-translations \
#			patch-scrollkeeper

use_configure		no

post-patch {
	reinplace "s|/usr/local|${prefix}|g" ${worksrcpath}/INSTALL
	reinplace "s|#! /usr/bin/env python|#! ${prefix}/bin/python2.5|" ${worksrcpath}/meld

	file mkdir ${worksrcpath}/help/fr/figures
	file mkdir ${worksrcpath}/help/oc/figures

	system "cp ${worksrcpath}/help/C/figures/*.png ${worksrcpath}/help/fr/figures"
	system "cp ${worksrcpath}/help/C/figures/*.png ${worksrcpath}/help/oc/figures"
}
checksums           md5     e153f8d8675659dd0e6563008d4d7b4a \
                    sha1    fb3f611de93b63602e963c2fad7ac428d8da95f4 \
                    rmd160  c1d950d5cdfa8199e56b917ca6ae9b2c92a8e78d

