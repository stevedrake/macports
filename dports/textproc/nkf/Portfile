# $Id$

PortSystem      1.0

name            nkf
version         2.0.8b
categories      textproc japanese
maintainers     takanori
description     Network Kanji code conversion Filter
long_description \
                Nkf  is  a  yet  another kanji code converter among networks, hosts and \
                terminals.  It converts input kanji code to designated kanji code  such \
                as 7-bit JIS, MS-kanji (shifted-JIS), utf-8 or EUC.
platforms       darwin
homepage        http://sourceforge.jp/projects/nkf/
#master_sites   sourceforge_jp:${name}/26243/
set sfjpid      26243
master_sites    http://keihanna.dl.sourceforge.jp/nkf/${sfjpid}/ \
                http://osdn.dl.sourceforge.jp/nkf/${sfjpid}/ \
                http://qgpop.dl.sourceforge.jp/nkf/${sfjpid}/
checksums       md5 1851260a2719629294740783c14ca3d5 \
                sha1 9587e427173b6c0420284afef19b18b3f905fbaa \
                rmd160 952698a09f8e28b6385a7b41301e95dc237aa893

worksrcdir      ${name}-2.0.8

use_configure   no

build.target
build.args      CFLAGS="${configure.cflags}"

use_parallel_build  yes

destroot {
    xinstall -m 755 ${worksrcpath}/nkf ${destroot}${prefix}/bin
    xinstall -m 644 ${worksrcpath}/nkf.1 ${destroot}${prefix}/share/man/man1
}

post-destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 ${worksrcpath}/nkf.doc ${destroot}${prefix}/share/doc/${name}
}

variant universal {
    build.args  CFLAGS="${configure.cflags} ${configure.universal_cflags}"
}

livecheck.check regex
livecheck.url   ${homepage}files/
livecheck.regex ${name}-(\[0-9.a-z\]+)\\.tar
