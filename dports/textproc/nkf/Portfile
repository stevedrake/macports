# $Id$

PortSystem      1.0
name            nkf
version         2.0.8
categories      textproc japanese
maintainers     takanori@macports.org
description     Network Kanji code conversion Filter
long_description \
                Nkf  is  a  yet  another kanji code converter among networks, hosts and \
                terminals.  It converts input kanji code to designated kanji code  such \
                as 7-bit JIS, MS-kanji (shifted-JIS), utf-8 or EUC.
platforms       darwin
set sfjpid      26243
homepage        http://sourceforge.jp/projects/nkf/
master_sites    http://keihanna.dl.sourceforge.jp/nkf/${sfjpid}/ \
                http://osdn.dl.sourceforge.jp/nkf/${sfjpid}/ \
                http://qgpop.dl.sourceforge.jp/nkf/${sfjpid}/
checksums       md5 8584c3d8738ca4dd1c3b4559a8eb54d4 \
                sha1 f2b3d8dcf087ab0187e0296d257b71b8be7fa973 \
                rmd160 30399d00a51d362c075d8ced2c40387c6e3e7bc6

use_configure   no
build.target
build.args      CFLAGS="${configure.cflags}"

destroot {
    xinstall -m 755 ${worksrcpath}/nkf ${destroot}${prefix}/bin
    xinstall -m 644 ${worksrcpath}/nkf.1 ${destroot}${prefix}/share/man/man1
}

post-destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 ${worksrcpath}/nkf.doc ${destroot}${prefix}/share/doc/${name}
}

variant universal {
    build.args  CFLAGS="${configure.cflags} ${configure.universal_cflags}"
}

livecheck.check regex
livecheck.url   ${homepage}files/
livecheck.regex ${name}-(\[0-9.a-z\]+)\.tar
