PortSystem 1.0
name		pinfo
version		0.6.8
categories	textproc
maintainers	master@iaas.msu.ru
description	Pinfo - Ncurses based info documentation browser
long_description \
		Pinfo is a hypertext info file viewer \
		with a user interface similar to lynx. \
		It is based on curses/ncurses, \
		and can handle info pages as well as man pages. \
		It also features regexp searching and user-defined colors/keys.

platforms	darwin

homepage	http://directory.fsf.org/text/doc/pinfo.html
master_sites	http://dione.ids.pl/~pborys/software/pinfo/

checksums	md5 55feb4ebaa709b52bd00a15ed0fb52fb

pre-patch	{	
		file delete ${worksrcpath}/config.guess
		file copy ${portpath}/${filesdir}/config.guess ${worksrcpath}/
		file delete ${worksrcpath}/config.sub
		file copy ${portpath}/${filesdir}/config.sub ${worksrcpath}/
		file delete ${worksrcpath}/install-sh
		file copy ${portpath}/${filesdir}/install-sh ${worksrcpath}/
		file delete ${worksrcpath}/missing
		file copy ${portpath}/${filesdir}/missing ${worksrcpath}/
		file delete ${worksrcpath}/mkinstalldirs
		file copy ${portpath}/${filesdir}/mkinstalldirs ${worksrcpath}/
		reinplace "s#/usr/info:/usr/share/info:/usr/local/info#/usr/share/info:/usr/local/info:${prefix}/share/info#" "${worksrcpath}/src/datatypes.c"
		}

patchfiles	patch-common_includes.h patch-utils.h

configure.args	--mandir=${prefix}/share/man --infodir=${prefix}/share/info \
		--with-ncurses --with-readline=no --disable-nls
