# $Id: Portfile,v 1.1 2005/01/16 11:17:43 jmpp Exp $

PortSystem 1.0

name	   rtf2latex
version	   1.5
categories	textproc
platforms	darwin
maintainers	jmpp@opendarwin.org

# Change the following two
description	Translator program ntended to translate a LaTeX document into RTF
long_description	LaTeX2rtf is a translator program which is intended to translate a LaTeX \
			document (precisely: the text and a limited subset of LaTeX tags) into \
			the RTF format which can be imported by several textprocessors (including \
			Microsoft Word for Windows and Word for Macintosh).

homepage	http://www.ctan.org/tex-archive/support/rtf2latex
master_sites	${homepage}
distname	rtf2LaTeX
distfiles	${distname}.${version}${extract.suffix}
checksums	md5 90964f786d149d314a57511ed9ceaaee

patchfiles	patch-Makefile.2LaTeX.diff

pre-configure	{ file rename ${worksrcpath}/Makefile.2LaTeX ${worksrcpath}/Makefile }
configure	{
		cd ${worksrcpath}
		reinplace "s|-DSYSV||g" Makefile
		reinplace "s|/usr/local|${prefix}|g" Makefile
		reinplace "s|/man/man1|/share/man/man1|g" Makefile
}

build.target	{}

post-destroot	{
		xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
# Construct regular expresion to reduce the following two lines into a single one!
		xinstall -m 644 -v ${worksrcpath}/interna.tex ${destroot}${prefix}/share/doc/${name}
		xinstall -m 644 -v ${worksrcpath}/interna.rtf ${destroot}${prefix}/share/doc/${name}
}
