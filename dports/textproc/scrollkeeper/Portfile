# $Id$

PortSystem  1.0

name		scrollkeeper
version		0.3.14
revision    6
description	An Open Document Cataloging Project.
long_description	\
	ScrollKeeper is a cataloging system for documentation on open systems. \
	It manages documentation metadata (as specified by the Open Source \
	Metadata Framework (OMF) and provides a simple API to allow help \
	browsers to find, sort, and search the document catalog.  It will also \
	be able to communicate with catalog servers on the Net to search for \
	documents which are not on the local system.
maintainers	nomaintainer
categories	textproc gnome
platforms	darwin 
homepage	http://scrollkeeper.sourceforge.net/
master_sites    sourceforge \
                gnome:sources/${name}/[join [lrange [split ${version} .] 0 1] .]/

checksums       md5 161eb3f29e30e7b24f84eb93ac696155 \
                sha1 0462799a2d96f46dec76f2fd057e2dfe8d7cb94d \
                rmd160 30a4ae4b1d70cf2eef25c352308e50f921ad5270

depends_lib	\
	port:libxslt \
	port:libxml2 \
	port:gettext \
    port:libiconv

depends_run \
	port:docbook-xsl \
	port:docbook-xml

depends_build	\
	port:pkgconfig \
    port:perl5.8 \
    port:p5-xml-parser

patchfiles      patch-Makefile.in

destroot.keepdirs	\
	${destroot}${prefix}/var/log \
	${destroot}${prefix}/var/lib/scrollkeeper

configure.args	\
	--mandir=${prefix}/share/man \
    --with-omfdirs=${prefix}/share/omf \
	--with-xml-catalog=${prefix}/etc/xml/catalog

post-activate	{
    system "${prefix}/bin/scrollkeeper-update"
}

