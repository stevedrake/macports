# $Id: Portfile,v 1.4 2004/04/12 16:03:50 mww Exp $

PortSystem 1.0

name		xalanc
version		1.7.0
categories	textproc
platforms	darwin freebsd
maintainers	mww@opendarwin.org
description	XSLT processor in C++ for transforming XML
long_description	Xalan is an XSLT processor for transforming XML \
			documents into HTML, text, or other XML document \
			types.  Xalan-C++ version 1.6 is a robust \
			implementation of the W3C Recommendations for XSL \
			Transformations (XSLT) and the XML Path Language \
			(XPath).

homepage	http://xml.apache.org/xalan-c/
master_sites	apache:xml/xalan-c/
distname	Xalan-C_1_7_0-src
checksums	md5 911a952fb1cccc0d97b54ff32b9a52f7

depends_lib	lib:libxerces:xercesc

set worksrcdir	xml-xalan/c

configure.env	XALANCROOT='${workpath}/xml-xalan/c' \
		XERCESCROOT='${prefix}'
configure.cmd	./runConfigure
configure.pre_args -C --prefix=${prefix}

variant darwin	{
	configure.pre_args-append	-p macosx
}

variant freebsd	{
	configure.pre_args-append	-p freebsd
}

build.env	${configure.env}
build.type	gnu

pre-destroot	{
	reinplace "s|PREFIX = ${prefix}|PREFIX = ${destroot}${prefix}|g" \
		${configure.dir}/Makefile
}       

destroot.env	${configure.env}
