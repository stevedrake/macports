# $Id: Portfile,v 1.5 2004/09/15 20:24:10 blb Exp $

PortSystem 1.0

name		xalanc
version		1.8.0
categories	textproc
platforms	darwin freebsd
maintainers	mww@opendarwin.org
description	XSLT processor in C++ for transforming XML
long_description	Xalan is an XSLT processor for transforming XML \
			documents into HTML, text, or other XML document \
			types.  Xalan-C++ version 1.6 is a robust \
			implementation of the W3C Recommendations for XSL \
			Transformations (XSLT) and the XML Path Language \
			(XPath).

homepage	http://xml.apache.org/xalan-c/
master_sites	apache:xml/xalan-c/
distname	Xalan-C_1_8_0-src
checksums	md5 fca5101f56608311f8121591f022bc2c

depends_lib	lib:libxerces:xercesc

set worksrcdir	xml-xalan/c

configure.env	XALANCROOT='${workpath}/xml-xalan/c' \
		XERCESCROOT='${prefix}'
configure.cmd	./runConfigure
configure.pre_args -C --prefix=${prefix}

variant darwin	{
	configure.pre_args-append	-p macosx
}

variant freebsd	{
	configure.pre_args-append	-p freebsd
}

build.env	${configure.env}
build.type	gnu

pre-destroot	{
	reinplace "s|PREFIX = ${prefix}|PREFIX = ${destroot}${prefix}|g" \
		${configure.dir}/Makefile
}       

destroot.env	${configure.env}
