# $Id$

PortSystem          1.0

name                caml-cgi
version             0.6
categories          www devel ml
platforms           darwin
maintainers         mww openmaintainer

description         OCaml CGI Library
long_description    ${description}

homepage            http://www.infodrom.org/projects/cgilib/
master_sites        sourceforge:ocaml-cgi
distname            CamlGI-${version}

checksums           md5     f53aab889a265dcb9ad0e0f7110577a5 \
                    sha1    a678a50227aa0f5f982ec14481429f124f6f2716 \
                    rmd160  b16aa89b5e7336f31c947f967f96f4701948960f

depends_lib         port:ocaml port:caml-findlib

use_configure       no

destroot {
    set ocaml_site_path [exec ocamlfind printconf destdir]
    xinstall -m 755 -d ${destroot}/${ocaml_site_path} \
        ${destroot}${prefix}/share/doc/${name}
    system "cd ${worksrcpath} && make install OCAMLLIBDIR=\"${destroot}/${ocaml_site_path}\""
    xinstall -m 644 -W ${worksrcpath} LICENSE README ${destroot}${prefix}/share/doc/${name}/
}

livecheck.type      regex
livecheck.url       [lindex ${master_sites} 0]
livecheck.regex     ${name}-(\[0-9.\]+)\\.tar

