# $Id$

PortSystem 1.0
name             lynx
version          2.8.5rel.2
categories       www
maintainers      toby@opendarwin.org
description      Text-based web browser
long_description \
    lynx is a program which allows a user to access World-Wide Web servers \
    and other information servers. It uses only ascii representation so \
    that it can be used from ascii-terminals and dial-in lines.
homepage         http://lynx.isc.org/

set major_version [strsed ${version} {s/rel\.[0-9]*$//}]
set dash_version  [strsed ${major_version} {g/[.]/-/}]

distname         ${name}${major_version}
use_bzip2        yes
patchfiles       ${version}.patch.gz \
                 patch-configure

master_sites     http://lynx.isc.org/${distname}/
patch_sites      [strsed ${master_sites} g/$/patches\//]

checksums        ${distname}${extract.suffix} md5 d1e5134e5d175f913c16cb6768bc30eb \
                 ${version}.patch.gz md5 16840d095311814751684c99dc201740

worksrcdir       ${name}${dash_version}

patch.pre_args   -p1

configure.args   --mandir=${prefix}/share/man

variant ssl {
    depends_lib-append    lib:libssl.0.9:openssl
    configure.args-append --with-ssl
}
