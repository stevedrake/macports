# $Id: Portfile,v 1.3 2006/04/01 15:22:49 jberry Exp $

PortSystem 1.0

name			mod_ruby
version			1.2.5
categories		www ruby
platforms		darwin
maintainers		mww@opendarwin.org
description		apache2 module embedding the Ruby interpreter
long_description	mod_ruby embeds the Ruby interpreter into the Apache web \
					server, allowing Ruby CGI scripts to be executed natively. \
					These scripts will start up much faster than without \
					mod_ruby. You can also extend Apache by mod_ruby. mod_ruby \
					provides Apache API to Ruby.

homepage		http://modruby.net/
master_sites	${homepage}archive
checksums		md5 3c867008bd6518c1fec395d9040cd964

depends_lib		bin:ruby:ruby \
				port:apache2 \
				port:apr

configure.cmd	./configure.rb
configure.args	--with-apxs=${prefix}/apache2/bin/apxs \
				--with-apr-includes=${prefix}/include/apr-1

post-destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}/examples
	xinstall -m 644 -W ${worksrcpath} README.ja README.en ChangeLog COPYING \
		${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/examples/httpd.conf \
		${destroot}${prefix}/share/doc/${name}/examples
}
