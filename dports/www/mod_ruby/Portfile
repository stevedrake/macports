# $Id: Portfile,v 1.1 2004/08/25 19:27:27 mww Exp $

PortSystem 1.0

name			mod_ruby
version			1.2.2
categories		www ruby
platforms		darwin
maintainers		mww@opendarwin.org
description		apache2 module embedding the Ruby interpreter
long_description	mod_ruby embeds the Ruby interpreter into the Apache web \
					server, allowing Ruby CGI scripts to be executed natively. \
					These scripts will start up much faster than without \
					mod_ruby. You can also extend Apache by mod_ruby. mod_ruby \
					provides Apache API to Ruby.

homepage		http://modruby.net/
master_sites	${homepage}/archive/
checksums		md5 786d740c84ec6aba73d0450b546b4642

depends_lib		bin:ruby:ruby \
				path:${prefix}/apache2/bin/apxs:apache2

configure.cmd	./configure.rb
configure.args	--with-apxs=${prefix}/apache2/bin/apxs \
				--with-apr-includes=${prefix}/include/apr-0

post-destroot	{
	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}/examples
	xinstall -m 644 -W ${worksrcpath} README.ja README.en ChangeLog COPYING \
		${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/examples/httpd.conf \
		${destroot}${prefix}/share/doc/${name}/examples
}
