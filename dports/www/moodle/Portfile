# $Id$

PortSystem              1.0

name                    moodle
version                 1.9.5
set branch              [join [lrange [split ${version} .] 0 1] {}]
categories              www
platforms               darwin freebsd
maintainers             nomaintainer
license                 GPLv2
homepage                http://moodle.org/
master_sites            http://download.moodle.org/stable${branch}
extract.suffix          .tgz
worksrcdir              ${name}

description             Course management system based on social constructionism

long_description        Moodle is a course management system (CMS) - a free, Open Source software \
                        package designed using sound pedagogical principles, to help educators \
                        create effective online learning communities. You can use it on any \
                        computer you have handy (including webhosts), yet it can scale from a \
                        single-teacher site to a 40,000-student University.

checksums               md5     41a3258c2f09dbc7b36fec960bcf4e19 \
                        sha1    ba4df96c62c28fcd3f5b59583db60919a389037e \
                        rmd160  3553e5437ae862a7ec4cf443c396ad383a787206

depends_lib             port:php5-web \
                        port:php5-mysql

use_configure           no
build                   {}

destroot {
    file copy ${worksrcpath} ${destroot}${prefix}/www/moodle
}

livecheck.type          regex
livecheck.url           http://download.moodle.org/
livecheck.regex         ${name}-(\[0-9.\]+)\\${extract.suffix}
