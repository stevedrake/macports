# $Id:
PortSystem 1.0
name              php5-rrdtool
version           1.0
categories        www net devel
platforms         darwin
maintainers       markd@macports.org
description       PHP 5 glue for rrdtool
long_description  ${description}
	
homepage          http://oss.oetiker.ch/rrdtool/pub/contrib/php_rrdtool.txt

master_sites      http://oss.oetiker.ch/rrdtool/pub/contrib/
checksums	  md5 c86a45cfc54517b9066c480bbc589d43
distfiles	  php_rrdtool.tgz

depends_lib	  port:rrdtool port:php5 port:re2c

worksrcdir	  rrdtool

configure.env     CFLAGS=-DHAVE_RRD_12X
configure.args    --with-rrdtool=${prefix}

pre-configure {
	cd ${worksrcpath}
	system "phpize"
}

destroot.destdir INSTALL_ROOT=${destroot}

post-install {
  ui_msg "\n
To enable the rrdtool extension in php, modify the extension variables
in ${prefix}/etc/php.ini as shown:

Edit variable:

	extension_dir = \"${prefix}/lib/php/extensions/no-debug-non-zts-20060613\"

Add an extension statement:

	extension = rrdtool.so
\n"
}
