# $Id$
PortSystem		1.0

name			phpmyadmin
set my_name		phpMyAdmin
version			2.10.3
revision		1
categories		php www databases
maintainers		nomaintainer
description		A tool written in PHP intended to handle the administration \
				of MySQL over the Web.
long_description	phpMyAdmin is a tool written in PHP intended to handle \
				the administration  of MySQL over the Web. Currently it can \
				create and drop databases,  create/drop/alter tables, \
				delete/edit/add fields, execute any SQL statement, manage keys \
				on fields, manage privileges,export data into  various formats \
				and is available in 47 languages.
homepage		http://www.phpmyadmin.net
master_sites		sourceforge
distname		${my_name}-${version}-all-languages-utf-8-only
use_bzip2		yes

checksums		md5 2871f3d0c0636fc4fbb5c22de4a69959 \
				sha1 f263745cb86fd7a7222ee0cf7ca28ff866a792ab \
				rmd160 2ff9f1f659eeee5cf54c2489440defe07bffea39

platforms		darwin freebsd

set myglob [glob -directory ${prefix}/lib -nocomplain -tails mysql*]
if {[llength ${myglob}]} {
	set mysql [lindex ${myglob} end]
} else {
	set mysql mysql5
}

depends_run		path:${prefix}/lib/${mysql}:${mysql} \
				path:${prefix}/bin/php:php5

set docpath ${destroot}${prefix}/www
             
use_configure   no
build			{}

destroot {
	xinstall -d -m 0755 ${docpath}/phpmyadmin
	eval copy [glob ${worksrcpath}/*] ${docpath}/phpmyadmin
}

livecheck.distname	${my_name}
livecheck.regex		"<title>${livecheck.distname} (\\d+(?:\\.\\d+)*) .*</title>"
