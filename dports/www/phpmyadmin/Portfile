# $Id$

PortSystem		1.0

name			phpmyadmin
set my_name		phpMyAdmin
version			2.11.4
categories		www php databases
maintainers		nomaintainer
description		A tool written in PHP intended to handle the administration \
				of MySQL over the Web.
long_description	phpMyAdmin is a tool written in PHP intended to handle \
				the administration  of MySQL over the Web. Currently it can \
				create and drop databases,  create/drop/alter tables, \
				delete/edit/add fields, execute any SQL statement, manage keys \
				on fields, manage privileges,export data into  various formats \
				and is available in 47 languages.
homepage		http://www.phpmyadmin.net
master_sites		sourceforge
distname		${my_name}-${version}-all-languages-utf-8-only
use_bzip2		yes

checksums		md5 95cfe8bf8ed338249c9efe70afef3f67 \
				sha1 e8e4d2d10e34413a0004711eed17543d36e2b803 \
				rmd160 f8a722b279d194c39bfeaf57a5969504ef316a50

platforms		darwin freebsd

set myglob [glob -directory ${prefix}/lib -nocomplain -tails mysql*]
if {[llength ${myglob}]} {
	set mysql [lindex ${myglob} end]
} else {
	set mysql mysql5
}

depends_run		path:lib/${mysql}:${mysql} \
				path:bin/php:php5

set docpath ${destroot}${prefix}/www

use_configure   no
build			{}

destroot {
	xinstall -d -m 0755 ${docpath}/phpmyadmin
	eval copy [glob ${worksrcpath}/*] ${docpath}/phpmyadmin
}

livecheck.distname	${my_name}
livecheck.regex		"<title>${livecheck.distname} (\\d+(?:\\.\\d+)*) .*</title>"
