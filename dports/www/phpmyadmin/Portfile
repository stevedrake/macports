# $Id: Portfile,v 1.13 2006/03/19 00:01:34 joe Exp $
PortSystem		1.0

name			phpmyadmin
version			2.8.0.2
categories		php www databases
maintainers		joe@opendarwin.org
description		A tool written in PHP intended to handle the administration \
				of MySQL over the Web.
long_description	phpMyAdmin is a tool written in PHP intended to handle \
				the administration  of MySQL over the Web. Currently it can \
				create and drop databases,  create/drop/alter tables, \
				delete/edit/add fields, execute any SQL statement, manage keys \
				on fields, manage privileges,export data into  various formats \
				and is available in 47 languages.
homepage		http://www.phpmyadmin.net
master_sites		sourceforge
distname		phpMyAdmin-${version}
use_bzip2		yes
checksums		md5 9c948b20af568304cbb8ff58c322058b
platforms		darwin freebsd

depends_lib	port:mysql5 port:php5 port:apache2

variant apache {
	depends_lib-append	port:apache
	depends_lib-delete	port:apache2
}

variant php4 {
	depends_lib-append 	port:php4
	depends_lib-delete	port:php5
}

variant mysql3 conflicts mysql4 {
	depends_lib-append	port:mysql3
	depends_lib-delete	port:mysql5
}

variant mysql4 conflicts mysql3 {
	depends_lib-append	port:mysql4
	depends_lib-delete	port:mysql5
}

set docpath ${destroot}${prefix}/www/data
             
use_configure   no
build			{}

destroot {
	xinstall -d -m 0755 ${docpath}/phpmyadmin
	eval file copy [glob ${worksrcpath}/*] ${docpath}/phpmyadmin
#	foreach confname {config.default config.footer.inc config.header.inc} {
#		file rename ${docpath}/phpmyadmin/${confname}.php \
#			${docpath}/phpmyadmin/${confname}.php-dist
#	}
}


