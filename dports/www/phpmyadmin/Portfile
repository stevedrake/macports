# $Id: Portfile,v 1.9 2005/12/07 21:14:55 joe Exp $
PortSystem		1.0

name			phpmyadmin
version			2.7.0-pl1
categories		www
maintainers		joe@netmusician.org
description		A tool written in PHP intended to handle the administration \
				of MySQL over the Web.
long_description	phpMyAdmin is a tool written in PHP intended to handle \
				the administration  of MySQL over the Web. Currently it can \
				create and drop databases,  create/drop/alter tables, \
				delete/edit/add fields, execute any SQL statement, manage keys \
				on fields, manage privileges,export data into  various formats \
				and is available in 47 languages.
homepage		http://www.phpmyadmin.net
master_sites		sourceforge
distname		phpMyAdmin-${version}
use_bzip2		yes
checksums		md5 39bfebd35f9a2de03504812df173f27d
platforms		darwin freebsd

default_variants	+apache +mysql4 +php4

variant apache conflicts apache2 {
	depends_lib-append	port:apache
}

variant apache2 conflicts apache {
	depends_lib-append	port:apache2
}

variant php4 conflicts php5 {
	depends_lib-append 	port:php4
}

variant php5 conflicts php4 {
	depends_lib-append	port:php5
}

variant mysql conflicts mysql4 {
	depends_lib-append	port:mysql
}

variant mysql4 conflicts mysql {
	depends_lib-append	port:mysql4
}

set docpath ${destroot}${prefix}/www/data
             
use_configure   no
build			{}

destroot {
	xinstall -d -m 0755 ${docpath}/phpmyadmin
	eval file copy [glob ${worksrcpath}/*] ${docpath}/phpmyadmin
	foreach confname {config.default config.footer.inc config.header.inc} {
		file rename ${docpath}/phpmyadmin/${confname}.php \
			${docpath}/phpmyadmin/${confname}.php-dist
	}
}


