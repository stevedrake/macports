# $Id$

PortSystem 1.0

name            webarchiver
version         0.3
categories      www
platforms       darwin
maintainers     boeyms openmaintainer
description     Command-line tool to create Safari-style webarchives
long_description \
    webarchiver is a simply utility that allows you to create Safari\
    webarchives (.webarchive) from the command line.\
    webarchiver is compatible with Mac OSX 10.4 (Safari 2.0).
homepage   http://www.entropytheblog.com/blog/2008/11/webarchiver-create-safari-webarchives-from-the-command-line/
master_sites    http://github.com/paulwilliam/webarchiver/tarball/${version}/
set author      paulwilliam
set commit_sha1 14f7c37ff6016a2d200f40f1f67245be849cec35
distname        ${author}-${name}-${commit_sha1}
checksums       md5     447fa2a6894f7eb86f0e92058944eef7 \
                sha1    b5cd7f2bb017e47740f3ea61f9a123d549f12397 \
                rmd160  ad96da80da9e360239b12eadf4fa3a4d37b7516b
use_configure   no
build.cmd       xcodebuild
build.target    build
# At present, this port builds universal by default.  I will fix this once I
# figure out how to, but it's so tiny that it's not a big deal for now.
destroot {
    xinstall -m 755 \
        ${worksrcpath}/build/Release/webarchiver ${destroot}${prefix}/bin
    xinstall -d -m 755 ${destroot}${prefix}/share/doc/webarchiver
    xinstall -m 644 \
        ${worksrcpath}/README ${destroot}${prefix}/share/doc/webarchiver
#    The source doesn't currently have a man page; guess I'll have to write
#    one eventually.  The following will be added once I've done so.
#    xinstall -m 644 ${filespath}/webarchiver.1 ${prefix}/share/man/man1
}
