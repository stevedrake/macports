# $Id$

PortSystem              1.0

name                    wordpress
version                 2.8.4
categories              www
platforms               darwin freebsd
maintainers             nomaintainer
worksrcdir              ${name}

description             A state-of-the-art semantic personal publishing platform

long_description        WordPress is a state-of-the-art semantic personal publishing platform \
                        with a focus on aesthetics, web standards, and usability.

homepage                http://wordpress.org/
master_sites            ${homepage}

checksums               md5     0e8b296d4e2d4189b349f1d0f727bd98 \
                        sha1    af9a37283b25f26a3a3aa3a7c5db23222e18e0fc \
                        rmd160  ab449a9d20737d7fb032f6f1a247e16adba88fc4

depends_lib             port:php5-web \
                        port:php5-mysql

use_configure           no
build                   {}

destroot {
    file copy ${worksrcpath} ${destroot}${prefix}/www/${name}
}

notes "
If your webserver is already running with php and mysql, connect on http://localhost/wordpress/ to finish the install.
Temporarily allow the webserver write access so it can create wp-config.php (or do it yourself)
$ sudo chmod 1777 ${prefix}/www/wordpress
$ sudo chmod 755 ${prefix}/www/wordpress

If Apache is not set, set an alias to the wordpress dir and some access like
-- ${prefix}/apache2/conf/extra/wordpress.conf
Alias /wordpress/ \"${prefix}/www/wordpress/\"
<Directory \"${prefix}/www/wordpress\">
    Options Indexes FollowSymLinks
    AllowOverride None
    Order allow,deny
    Allow from all
</Directory>
--
"
