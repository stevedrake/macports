# $Id: Portfile,v 1.3 2005/01/16 05:32:39 waqar Exp $

PortSystem 1.0
name		AfterStep
version		2.00.01
maintainers	waqar@opendarwin.org
description	Window Manager based on NeXTStep interface.
long_description	\
	AfterStep is a window manager for the Unix X Window System. 	\
	Originally based on the look and feel of the NeXTStep interface,\
	it provides end users with a consistent, clean, and elegant 	\
	desktop. The goal of AfterStep development is to provide for 	\
	flexibility of desktop configuration, improving aestetics, 	\
	and efficient use of system resources. 
categories	x11-wm x11
platforms	darwin
homepage	http://www.afterstep.org
master_sites    afterstep:stable
use_bzip2	yes

checksums	md5 5111d0ea47f60b70ce5cba907479ea22		\
		sha1 9c71737ec11d51d41c51c15ae74e850bdff011fb

depends_lib	lib:libX11.6:XFree86 lib:libXext.6:XFree86 	\
		lib:libjpeg.62:jpeg lib:libpng.3:libpng		\
		lib:libfreetype:freetype lib:libtiff:tiff	\
		lib:libungif:libungif

configure.args	--mandir=${prefix}/share/man 		\
		--infodir=${prefix}/share/info		\
		--enable-i18n --with-ungif --with-x 	\
		--with-gif-includes=${prefix}/include	\
		--with-tiff-includes=${prefix}/include	\
		--with-jpeg-includes=${prefix}/include	\
		--with-png-includes=${prefix}/include	\
		--with-ttf-includes=${prefix}/include

variant	darwin	{
	configure.env 	LDFLAGS="-L${prefix}/lib -bind_at_load"
	pre-configure	{
		reinplace "s|-rdynamic|-dynamic|g" 	    \
		  ${worksrcpath}/configure		    \
		  ${worksrcpath}/libAfterBase/configure     \
		  ${worksrcpath}/libAfterBase/configure.in  \
		  ${worksrcpath}/libAfterImage/configure    \
		  ${worksrcpath}/libAfterImage/configure.in
	}
}
