# $Id: Portfile,v 1.6 2005/05/16 05:48:23 olegb Exp $
PortSystem 1.0
name		Eterm
version		0.9.3
description	Eterm is a color terminal emulator.
long_description	Eterm is a color vt102 terminal emulator intended as a \
			replacement for xterm. It is designed  with a Freedom of \
			Choice philosophy, leaving as much power, flexibility, and \
			freedom as possible in the  hands of the user. It is designed \
			to look good and work well, but takes a feature-rich approach \
			rather than  one of minimalism while still maintaining speed \
			and efficiency.
maintainers	olegb@opendarwin.org yves@gnu-darwin.org
categories	x11
platforms	darwin 
homepage	http://www.eterm.org/
master_sites    ${homepage}/download/ sourceforge
checksums	md5 dd089fa7768f945341d721dd4942c702
patchfiles	patch_command.c 
depends_lib	lib:libast:libast 
configure.env   CPPFLAGS="-L${prefix}/lib -I${prefix}/include -DDARWIN" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress" \
		LDDFLAGS="-lXmu"
configure.args  --mandir=${prefix}/share/man \
    		--enable-escreen --disable-utmp \
    		--enable-profile --enable-trans \
    		--enable-auto-encoding --enable-multi-charset

variant background {
		distfiles-append ${name}-bg-${version}${extract.suffix}
		checksums-delete md5 dd089fa7768f945341d721dd4942c702
		checksums ${distname}${extract.suffix} \
			md5 dd089fa7768f945341d721dd4942c702 \
		checksums ${name}-bg-${version}${extract.suffix} \
			 md5 e8c6567b13d7fb760bded56c1d1a181d

		post-extract {
    			cd ${workpath}
			system "mv -f bg/tile/* ${distname}/bg/tile"
			system "mv -f bg/scale/* ${distname}/bg/scale"
		 } 
}
