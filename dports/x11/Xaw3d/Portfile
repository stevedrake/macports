# $Id$

PortSystem 1.0

name            Xaw3d
version         1.6.1
revision        2
categories      x11 devel
license         X11
maintainers     jeremyhu openmaintainer
description     Athena Widgets toolkit library with 3-D styled widgets
homepage        http://www.x.org
platforms       darwin macosx
long_description ${description}
master_sites     xorg:individual/lib/

distname    libXaw3d-${version}
checksums           sha1    e8da0b904459af6e769b0fb2c9bc34a560126e86 \
                    rmd160  49a689a449bdcac07dfb261498285f3c4f909d00 \
                    sha256  9cd43caabb9e17d7d06c6e156cace9f7b7849c60662f61561dbf44c1eea10971

use_bzip2   yes
use_parallel_build      yes

depends_build   port:pkgconfig

depends_lib     port:xorg-libXext \
                port:xorg-libXmu \
                port:xpm \
                port:xorg-libXt

patch.pre_args -p1
patchfiles \
        0001-Fix-parameters-of-FloatInRange.patch \
        0002-Fix-use-after-free-in-DestroyAllIM.patch \
        0003-Correct-XtNthumbProc-usage.patch \
        0004-Avoid-integer-overflow.patch \
        0005-Add-XawTextGetSink-for-compatibility-with-libXaw.patch \
        0006-Xaw3d-1.6.1-i18n.patch.patch \
        0007-Xaw3d-1.6.1-3Dlabel.patch.patch \
        0008-Xaw3d-1.6.1-fontset.patch.patch \
        0009-Xaw3d-1.6.1-hsbar.patch.patch \

configure.args \
        --enable-internationalization

livecheck.type  regex
livecheck.url   http://xorg.freedesktop.org/archive/individual/lib/?C=M&O=D
livecheck.regex libXaw3d-(\\d+(?:\\.\\d+)*)
