# $Id$

PortSystem 1.0
name           aterm
version        1.0.0
categories     x11
maintainers    yves@opendarwin.org
description    Color vt102 terminal emu w/transparency support
long_description \
    aterm is a color vt102 terminal emulator, based on rxvt 2.4.8 with \
    additions for fast transparency. \
    \
    It was created with AfterStep users in mind, but is not tied to any \
    libraries, and can be used anywhere.
homepage       http://aterm.sourceforge.net/
platforms      darwin
master_sites   sourceforge
use_bzip2      yes
checksums      md5 ceb64c62ae243a7fc3ddb0d6f9a19faa
depends_lib    lib:libX11.6:XFree86 lib:libXpm.4:xpm \
               port:freetype port:jpeg port:libpng
               
configure.env  LDFLAGS="-L${prefix}/lib" \
               CPPFLAGS="-I${prefix}/include"
configure.args --enable-background-image --disable-backspace-key \
               --disable-delete-key --enable-fading \
               --enable-graphics --enable-half-shadow \
               --enable-menubar --enable-transparency \
               --enable-utmp --enable-wtmp

variant afterstep {
    depends_lib-append port:AfterStep
    pre-build {
        system "ranlib ${prefix}/lib/libAfterImage.a &&
                ranlib ${prefix}/lib/libAfterStep.a &&
                ranlib ${prefix}/lib/libAfterBase.a"
    }
}

variant international {
    configure.args-append   --enable-big5 --enable-greek \
                            --enable-kanji 
}

platform darwin 8 {
    configure.args-delete   --enable-utmp
}
