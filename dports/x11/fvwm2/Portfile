# $Id$

PortSystem          1.0

name                fvwm2
version             2.5.28
description         Version 2.x of FVWM, an X11 window manager.
long_description    FVWM 2.x is an extremely powerful ICCCM-compliant multiple \
                    virtual desktop window manager for the X Window system.
homepage            http://www.fvwm.org/
maintainers         nomaintainer
categories          x11 x11-wm
platforms           darwin
master_sites        ftp://ftp.fvwm.org/pub/fvwm/version-2/ \
                    ftp://ftp.hpc.uh.edu/pub/fvwm/version-2/
distname            fvwm-${version}
use_bzip2           yes

checksums           md5     8e11fa4f752c568b392973d13af993df \
                    sha1    26b83b88656faa3d21ab55544269954e534abe08 \
                    rmd160  6df61b9b6477ff35b1b9d4f915c3241ead1a4fa1

depends_lib         port:xorg-libsm \
                    port:Xft2 \
                    port:xorg-libXinerama \
                    port:xpm \
                    port:libpng \
                    port:gtk1 \
                    port:readline \
                    port:gnome-libs

configure.args      --enable-gtk \
                    --with-gnome \
                    --with-ncurses-library=yes \
                    --without-rplay-library \
                    --without-stroke-library

use_autoreconf      yes
autoreconf.args     -fv

# port:gtk1 is not universal
universal_variant   no

use_parallel_build  yes

variant without_gnome {
    configure.args-delete --with-gnome
    configure.args-append --without-gnome
    depends_lib-delete port:gnome-libs
}

livecheck.type      regexm
livecheck.url       ${homepage}
livecheck.regex     {Latest Unstable Release: &nbsp; </td>\s+.*?<a href="download" >([^<]*)</a>} 
