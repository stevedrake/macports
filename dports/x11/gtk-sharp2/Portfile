# $Id$

PortSystem      1.0

name            gtk-sharp2
set my_name     gtk-sharp
version         2.10.2
revision        1
set branch      [join [lrange [split ${version} .] 0 1] ""]
categories      x11 devel
platforms       darwin
maintainers     nox openmaintainer
description     Gtk bindings for the Mono .NET Development Framework

long_description \
    This is the Gtk# toolkit for Mono, an implementation \
	of the .NET Development Framework.

homepage        http://go-mono.com/
master_sites    ${homepage}sources/${my_name}${branch}/
distname        ${my_name}-${version}
use_bzip2       yes

checksums       md5 7d509a677c58b2e6a8c85db51d0b1451 \
                sha1 7e78d94a4cfe7b1fb3696893f2622d2c7f3c47dc \
                rmd160 78394b4ebfbf59b29d80d012227adf65f465991a

depends_lib     port:mono \
                port:glib2 \
                port:atk \
                port:pango \
                port:gtk2

post-configure {
    # TODO This shouldn't be needed, we need to fix Mono dllmap library path.
    fs-traverse {f} ${worksrcpath} {
        if {[string match *.dll.config ${f}]} {
            reinplace -E "s|(target=\")|\\1${prefix}/lib/|" ${f}
        }
    }
}
