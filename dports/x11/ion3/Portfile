# $Id$

PortSystem        1.0

name              ion3
version           3ds-20060524
categories        x11 x11-wm
maintainers       pmq@macports.org

description       A tiling window manager for keyboard users
long_description  Ion is a tiling tabbed window manager designed \
                  with keyboard users in mind. It tries to address \
                  the navigation problem by dividing the screen into \
		  mutually non-overlapping frames. As in PWM, the \
		  frames may have multiple clients attached.

homepage          http://modeemi.cs.tut.fi/~tuomov/ion/
master_sites      http://iki.fi/~tuomov/dl/
distname          ion-${version}
checksums         sha1 65b6bb55205e9c16f02438e3586876416222999e \
		  rmd160 97a86785437fce3ba91e8edfbd412e199415f545

depends_lib       lib:libX11.6:XFree86 lib:libXext.6:XFree86 \
		  port:lua port:gettext

patchfiles	  patch-ion-Makefile patch-pwm-Makefile

use_autoconf	  yes
configure.env	  CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"
configure.args	  --disable-shared --with-lua-libraries=${prefix}

build.env         INCLUDES="-I${prefix}/include" LIBS="-lintl"

destroot.destdir  VARDIR=${destroot}/var/cache/ion3 \
                  LOCALEDIR=${destroot}${prefix}/share/locale \
                  prefix=${destroot}${prefix}

post-destroot {
    foreach langdir [list cs de fi] {
        file delete -force ${destroot}/${prefix}/share/man/${langdir}
    }
}
