# $Id:

PortSystem	1.0

name			kchmviewer
version			2.7
categories		x11
maintainers		markd@macports.org
platforms		darwin

description		A CHM (Winhelp) files viewer written on Qt/KDE.
long_description	A CHM (Winhelp) files viewer written on Qt/KDE. It \
			can be build as a standalone Qt-based application, \
			or a KDE application. The main point of kchmviewer \
			is compatibility with non-English chm files, including \
			most international charsets.

homepage		http://www.kchmviewer.net/
master_sites		sourceforge
checksums		md5 f7bb9fb4b10f351f93d32a5ebca5e078

depends_lib		port:qt3 port:chmlib

configure.env		LDFLAGS=-L${prefix}/lib \
			CFLAGS=-I${prefix}/include \
			CPPFLAGS=-I${prefix}/include

configure.args		--with-qt-dir=${prefix} \
			--with-qt-includes=${prefix}/include/qt3 \
			--with-extra-includes=${prefix}/include \
			--with-extra-libs=${prefix}/lib

variant kde {
# This is untested
	depends_lib-append	port:kdebase3
	configure.args-append	--with-kde
}
