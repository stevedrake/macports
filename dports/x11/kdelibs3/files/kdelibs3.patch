diff -u -ruN -x'*~' kdelibs-3.4.1.orig/darwin/kcmartsrc kdelibs-3.4.1/darwin/kcmartsrc
--- kdelibs-3.4.1.orig/darwin/kcmartsrc	1969-12-31 16:00:00.000000000 -0800
+++ kdelibs-3.4.1/darwin/kcmartsrc	2005-08-14 10:20:36.000000000 -0700
@@ -0,0 +1,14 @@
+[Arts]
+AddOptions=
+Arguments=\s-F 10 -S 4096 -a esd -s 60 -m artsmessage -c drkonqi -l 3 -f
+AudioIO=esd
+AutoSuspend=true
+Bits=0
+DeviceName=
+FullDuplex=false
+Latency=250
+NetworkTransparent=false
+SamplingRate=0
+StartRealtime=false
+StartServer=true
+SuspendTime=60
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/darwin/kdeglobals kdelibs-3.4.1/darwin/kdeglobals
--- kdelibs-3.4.1.orig/darwin/kdeglobals	1969-12-31 16:00:00.000000000 -0800
+++ kdelibs-3.4.1/darwin/kdeglobals	2005-08-14 10:20:36.000000000 -0700
@@ -0,0 +1,129 @@
+[$Version]
+update_info=kaccel.upd:kde3.3/r1,kded.upd:kde3.0,klippershortcuts.upd:04112002,kwin.upd:kde3.2Xinerama,socks.upd:kde3.0/r1
+
+[General]
+XftHintStyle=hintmedium
+XftSubPixel=
+fixed=Monaco CY,11,-1,5,50,0,0,0,0,0
+font=Baghdad,12,-1,5,50,0,0,0,0,0
+menuFont=Baghdad,12,-1,5,50,0,0,0,0,0
+taskbarFont=Baghdad,11,-1,5,50,0,0,0,0,0
+toolBarFont=Baghdad,10,-1,5,50,0,0,0,0,0
+
+[Global Shortcuts]
+Activate Window Demanding Attention=default(Alt+Ctrl+A)
+Defaults timestamp=Mar  1 200514:10:32
+Desktop Screenshot=default(Ctrl+Print)
+Enable/Disable Clipboard Actions=default(Alt+Ctrl+X)
+Halt without Confirmation=default(Alt+Ctrl+Shift+PageDown)
+Kill Window=default(Alt+Ctrl+Escape)
+Lock Session=default(Alt+Ctrl+L)
+Log Out=default(Alt+Ctrl+Delete)
+Log Out Without Confirmation=default(Alt+Ctrl+Shift+Delete)
+Manually Invoke Action on Current Clipboard=default(Alt+Ctrl+R)
+Mouse Emulation=default(Alt+F12)
+Next Taskbar Entry=none
+Popup Launch Menu=default(Alt+F1)
+Previous Taskbar Entry=none
+Reboot without Confirmation=default(Alt+Ctrl+Shift+PageUp)
+Run Command=default(Alt+F2)
+Setup Window Shortcut=none
+Show Klipper Popup-Menu=default(Alt+Ctrl+V)
+Show Taskmanager=default(Ctrl+Escape)
+Show Window List=default(Alt+F5)
+Switch One Desktop Down=none
+Switch One Desktop Up=none
+Switch One Desktop to the Left=none
+Switch One Desktop to the Right=none
+Switch User=default(Alt+Ctrl+Insert)
+Switch to Desktop 1=default(Ctrl+F1)
+Switch to Desktop 10=default(Ctrl+F10)
+Switch to Desktop 11=default(Ctrl+F11)
+Switch to Desktop 12=default(Ctrl+F12)
+Switch to Desktop 13=default(Ctrl+Shift+F1)
+Switch to Desktop 14=default(Ctrl+Shift+F2)
+Switch to Desktop 15=default(Ctrl+Shift+F3)
+Switch to Desktop 16=default(Ctrl+Shift+F4)
+Switch to Desktop 17=default(Ctrl+Shift+F5)
+Switch to Desktop 18=default(Ctrl+Shift+F6)
+Switch to Desktop 19=default(Ctrl+Shift+F7)
+Switch to Desktop 2=default(Ctrl+F2)
+Switch to Desktop 20=default(Ctrl+Shift+F8)
+Switch to Desktop 3=default(Ctrl+F3)
+Switch to Desktop 4=default(Ctrl+F4)
+Switch to Desktop 5=default(Ctrl+F5)
+Switch to Desktop 6=default(Ctrl+F6)
+Switch to Desktop 7=default(Ctrl+F7)
+Switch to Desktop 8=default(Ctrl+F8)
+Switch to Desktop 9=default(Ctrl+F9)
+Switch to Next Desktop=none
+Switch to Next Keyboard Layout=default(Alt+Ctrl+K)
+Switch to Previous Desktop=none
+Toggle Showing Desktop=default(Alt+Ctrl+D)
+Toggle Window Raise/Lower=none
+Walk Through Desktop List=default(Ctrl+Tab)
+Walk Through Desktop List (Reverse)=default(Ctrl+Shift+Tab)
+Walk Through Desktops=none
+Walk Through Desktops (Reverse)=none
+Walk Through Windows=default(Alt+Tab)
+Walk Through Windows (Reverse)=default(Alt+Shift+Tab)
+Window Above Other Windows=none
+Window Below Other Windows=none
+Window Close=default(Alt+F4)
+Window Fullscreen=none
+Window Grow Horizontal=none
+Window Grow Vertical=none
+Window Lower=none
+Window Maximize=none
+Window Maximize Horizontal=none
+Window Maximize Vertical=none
+Window Minimize=none
+Window Move=none
+Window No Border=none
+Window On All Desktops=none
+Window One Desktop Down=none
+Window One Desktop Up=none
+Window One Desktop to the Left=none
+Window One Desktop to the Right=none
+Window Operations Menu=default(Alt+F3)
+Window Pack Down=none
+Window Pack Left=none
+Window Pack Right=none
+Window Pack Up=none
+Window Raise=none
+Window Resize=none
+Window Screenshot=default(Alt+Print)
+Window Shade=none
+Window Shrink Horizontal=none
+Window Shrink Vertical=none
+Window to Desktop 1=none
+Window to Desktop 10=none
+Window to Desktop 11=none
+Window to Desktop 12=none
+Window to Desktop 13=none
+Window to Desktop 14=none
+Window to Desktop 15=none
+Window to Desktop 16=none
+Window to Desktop 17=none
+Window to Desktop 18=none
+Window to Desktop 19=none
+Window to Desktop 2=none
+Window to Desktop 20=none
+Window to Desktop 3=none
+Window to Desktop 4=none
+Window to Desktop 5=none
+Window to Desktop 6=none
+Window to Desktop 7=none
+Window to Desktop 8=none
+Window to Desktop 9=none
+Window to Next Desktop=none
+Window to Previous Desktop=none
+
+[KDE]
+ShowDeleteCommand=false
+
+[Paths]
+Trash=$HOME/Desktop/.Trash/
+
+[WM]
+activeFont=Baghdad,12,-1,5,50,0,0,0,0,0
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/darwin/konsolerc kdelibs-3.4.1/darwin/konsolerc
--- kdelibs-3.4.1.orig/darwin/konsolerc	1969-12-31 16:00:00.000000000 -0800
+++ kdelibs-3.4.1/darwin/konsolerc	2005-08-14 10:20:36.000000000 -0700
@@ -0,0 +1,19 @@
+[Desktop Entry]
+ActiveSession=0
+AutoResizeTabs=false
+DefaultSession=shell.desktop
+DynamicTabHide=false
+Fullscreen=false
+Height 832=510
+TabViewMode=0
+Width 1280=927
+bellmode=0
+class=konsole-mainwindow#1
+defaultfont=Monaco CY,12,-1,5,50,0,0,0,0,0
+font=8
+history=1000
+historyenabled=true
+keytab=default
+schema=Linux.schema
+scrollbar=2
+tabbar=2
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/debian/kdelibs-data.install kdelibs-3.4.1/debian/kdelibs-data.install
--- kdelibs-3.4.1.orig/debian/kdelibs-data.install	2005-08-14 10:17:21.000000000 -0700
+++ kdelibs-3.4.1/debian/kdelibs-data.install	2005-08-14 10:20:37.000000000 -0700
@@ -11,7 +11,7 @@
 debian/tmp/etc/kde3/language.codes
 debian/tmp/etc/kde3/ui/kprintpreviewui.rc
 debian/tmp/etc/kde3/ui/ui_standards.rc
-debian/tmp/etc/xdg/menus/applications.menu
+debian/tmp/etc/xdg/menus/kde-applications.menu
 debian/tmp/usr/share/applications/kde/kresources.desktop
 debian/tmp/usr/share/apps/LICENSES/ARTISTIC
 debian/tmp/usr/share/apps/LICENSES/BSD
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kabc/Makefile.am kdelibs-3.4.1/kabc/Makefile.am
--- kdelibs-3.4.1.orig/kabc/Makefile.am	2005-08-14 10:17:34.000000000 -0700
+++ kdelibs-3.4.1/kabc/Makefile.am	2005-08-14 10:20:37.000000000 -0700
@@ -2,7 +2,7 @@
 
 # Make sure $(all_includes) remains last!
 INCLUDES = -I$(top_builddir)/kabc -I$(top_srcdir)/kabc -I$(top_srcdir)/kab \
-           -I$(srcdir)/vcardparser/ -I$(srcdir)/vcard/include \
+           -I$(srcdir)/vcard/include -I$(srcdir)/vcardparser/ \
            -I$(srcdir)/vcard/include/generated \
            -I$(srcdir)/vcardparser $(all_includes)
 
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdecore/Makefile.am kdelibs-3.4.1/kdecore/Makefile.am
--- kdelibs-3.4.1.orig/kdecore/Makefile.am	2005-08-14 10:18:09.000000000 -0700
+++ kdelibs-3.4.1/kdecore/Makefile.am	2005-08-14 10:20:37.000000000 -0700
@@ -24,7 +24,7 @@
 
 if include_SVGICONS
 SVGICONS=svgicons
-SVGICON_LIB=svgicons/libkdesvgicons.la
+SVGICON_LIB=svgicons/libkdesvgicons.la $(LIBZ)
 endif
 
 SUBDIRS = malloc network $(SVGICONS) . kconfig_compiler tests
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdecore/kglobalsettings.cpp kdelibs-3.4.1/kdecore/kglobalsettings.cpp
--- kdelibs-3.4.1.orig/kdecore/kglobalsettings.cpp	2005-08-14 10:18:03.000000000 -0700
+++ kdelibs-3.4.1/kdecore/kglobalsettings.cpp	2005-08-14 10:20:37.000000000 -0700
@@ -490,7 +490,7 @@
       s_desktopPath->append('/');
 
     // Trash Path - TODO remove in KDE4 (kio_trash can't use it for interoperability reasons)
-    *s_trashPath = *s_desktopPath + i18n("Trash") + "/";
+    *s_trashPath = *s_desktopPath + "." + i18n("Trash") + "/";
     *s_trashPath = g.readPathEntry( "Trash" , *s_trashPath);
     *s_trashPath = QDir::cleanDirPath( *s_trashPath );
     if ( !s_trashPath->endsWith("/") )
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdecore/ksocks.cpp kdelibs-3.4.1/kdecore/ksocks.cpp
--- kdelibs-3.4.1.orig/kdecore/ksocks.cpp	2005-08-14 10:18:06.000000000 -0700
+++ kdelibs-3.4.1/kdecore/ksocks.cpp	2005-08-14 10:20:37.000000000 -0700
@@ -475,7 +475,7 @@
                                                    ksocklen_t addrlen) {
    if (_useSocks && F_connect)
       return (*F_connect)(sockfd, serv_addr, addrlen);
-   else return ::connect(sockfd, (sockaddr*) serv_addr, (socklen_t)addrlen);
+   else return ::connect(sockfd, (sockaddr*) serv_addr, (ksocklen_t)addrlen);
 }
 
 
@@ -498,7 +498,7 @@
    if (_useSocks && F_recvfrom) {
       return (*F_recvfrom)(s, buf, len, flags, from, fromlen);
    } else {
-      socklen_t casted_len = (socklen_t) *fromlen;
+      kde_socklen_t casted_len = (kde_socklen_t) *fromlen;
       int rc = ::recvfrom(s, (char*) buf, len, flags, from, &casted_len);
       *fromlen = casted_len;
       return rc;
@@ -510,7 +510,7 @@
                              const sockaddr *to, ksocklen_t tolen) {
    if (_useSocks && F_sendto)
       return (*F_sendto)(s, msg, len, flags, to, tolen);
-   else return ::sendto(s, (char*) msg, len, flags, to, (socklen_t)tolen);
+   else return ::sendto(s, (char*) msg, len, flags, to, (ksocklen_t)tolen);
 }
 
 
@@ -532,7 +532,7 @@
    if (_useSocks && F_getsockname) {
       return (*F_getsockname)(s, name, namelen);
    } else {
-     socklen_t casted_len = *namelen;
+     kde_socklen_t casted_len = *namelen;
      int rc = ::getsockname(s, name, &casted_len);
      *namelen = casted_len;
      return rc;
@@ -544,7 +544,7 @@
    if (_useSocks && F_getpeername) {
       return (*F_getpeername)(s, name, namelen);
    } else {
-      socklen_t casted_len = *namelen;
+      kde_socklen_t casted_len = *namelen;
       int rc = ::getpeername(s, name, &casted_len);
       *namelen = casted_len;
       return rc;
@@ -556,7 +556,7 @@
    if (_useSocks && F_accept) {
      return (*F_accept)(s, addr, addrlen);
    } else {
-      socklen_t casted_len = *addrlen;
+      kde_socklen_t casted_len = *addrlen;
       int rc = ::accept(s, addr, &casted_len);
       *addrlen = casted_len;
       return rc;
@@ -582,13 +582,13 @@
 int KSocks::bind (int sockfd, const sockaddr *my_addr, ksocklen_t addrlen) {
    if (_useSocks && F_bind)
       return (*F_bind)(sockfd, my_addr, addrlen);
-   else return ::bind(sockfd, my_addr, (socklen_t)addrlen);
+   else return ::bind(sockfd, my_addr, (ksocklen_t)addrlen);
 }
 
 int KSocks::bind (int sockfd, sockaddr *my_addr, ksocklen_t addrlen) {
    if (_useSocks && F_bind)
       return (*F_bind)(sockfd, my_addr, addrlen);
-   else return ::bind(sockfd, my_addr, (socklen_t)addrlen);
+   else return ::bind(sockfd, my_addr, (ksocklen_t)addrlen);
 }
 
 
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdecore/kstandarddirs.cpp kdelibs-3.4.1/kdecore/kstandarddirs.cpp
--- kdelibs-3.4.1.orig/kdecore/kstandarddirs.cpp	2005-08-14 10:18:06.000000000 -0700
+++ kdelibs-3.4.1/kdecore/kstandarddirs.cpp	2005-08-14 10:20:37.000000000 -0700
@@ -1020,7 +1020,7 @@
     if (!strcmp(type, "data"))
 	return "share/apps/";
     if (!strcmp(type, "html"))
-	return "share/doc/HTML/";
+	return "share/doc/kde/";
     if (!strcmp(type, "icon"))
 	return "share/icons/";
     if (!strcmp(type, "config"))
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdecore/network/kresolvermanager.cpp kdelibs-3.4.1/kdecore/network/kresolvermanager.cpp
--- kdelibs-3.4.1.orig/kdecore/network/kresolvermanager.cpp	2005-08-14 10:17:58.000000000 -0700
+++ kdelibs-3.4.1/kdecore/network/kresolvermanager.cpp	2005-08-14 10:20:37.000000000 -0700
@@ -31,6 +31,7 @@
 
 #ifdef HAVE_RES_INIT
 # include <sys/stat.h>
+# include <nameser.h>
 # include <resolv.h>
 # include <time.h>
 #endif
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdecore/network/ksocketdevice.cpp kdelibs-3.4.1/kdecore/network/ksocketdevice.cpp
--- kdelibs-3.4.1.orig/kdecore/network/ksocketdevice.cpp	2005-08-14 10:17:58.000000000 -0700
+++ kdelibs-3.4.1/kdecore/network/ksocketdevice.cpp	2005-08-14 10:20:37.000000000 -0700
@@ -311,7 +311,7 @@
     }
 
   struct sockaddr sa;
-  socklen_t len = sizeof(sa);
+  kde_socklen_t len = sizeof(sa);
   int newfd = kde_accept(m_sockfd, &sa, &len);
   if (newfd == -1)
     {
@@ -385,7 +385,7 @@
 
 static int do_read_common(int sockfd, char *data, Q_ULONG maxlen, KSocketAddress* from, ssize_t &retval, bool peek = false)
 {
-  socklen_t len;
+  kde_socklen_t len;
   if (from)
     {
       from->setLength(len = 128); // arbitrary length
@@ -527,7 +527,7 @@
   if (m_sockfd == -1)
     return KSocketAddress();	// not open, empty value
 
-  socklen_t len;
+  kde_socklen_t len;
   KSocketAddress localAddress;
   localAddress.setLength(len = 32);	// arbitrary value
   if (kde_getsockname(m_sockfd, localAddress.address(), &len) == -1)
@@ -556,7 +556,7 @@
   if (m_sockfd == -1)
     return KSocketAddress();	// not open, empty value
 
-  socklen_t len;
+  kde_socklen_t len;
   KSocketAddress peerAddress;
   peerAddress.setLength(len = 32);	// arbitrary value
   if (kde_getpeername(m_sockfd, peerAddress.address(), &len) == -1)
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdecore/network/syssocket.h kdelibs-3.4.1/kdecore/network/syssocket.h
--- kdelibs-3.4.1.orig/kdecore/network/syssocket.h	2005-08-14 10:17:57.000000000 -0700
+++ kdelibs-3.4.1/kdecore/network/syssocket.h	2005-08-14 10:20:37.000000000 -0700
@@ -53,7 +53,7 @@
   }
 
   // bind
-  inline int kde_bind(int fd, const struct sockaddr* sa, socklen_t len)
+  inline int kde_bind(int fd, const struct sockaddr* sa, kde_socklen_t len)
   {
     return ::bind(fd, sa, len);
   }
@@ -65,25 +65,25 @@
   }
 
   // connect
-  inline int kde_connect(int fd, const struct sockaddr* sa, socklen_t len)
+  inline int kde_connect(int fd, const struct sockaddr* sa, kde_socklen_t len)
   {
     return ::connect(fd, (struct sockaddr*)sa, len);
   }
 
   // accept
-  inline int kde_accept(int fd, struct sockaddr* sa, socklen_t* len)
+  inline int kde_accept(int fd, struct sockaddr* sa, kde_socklen_t* len)
   {
     return ::accept(fd, sa, len);
   }
 
   // getpeername
-  inline int kde_getpeername(int fd, struct sockaddr* sa, socklen_t* len)
+  inline int kde_getpeername(int fd, struct sockaddr* sa, kde_socklen_t* len)
   {
     return ::getpeername(fd, sa, len);
   }
 
   // getsockname
-  inline int kde_getsockname(int fd, struct sockaddr* sa, socklen_t* len)
+  inline int kde_getsockname(int fd, struct sockaddr* sa, kde_socklen_t* len)
   {
     return ::getsockname(fd, sa, len);
   }
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kded/Makefile.am kdelibs-3.4.1/kded/Makefile.am
--- kdelibs-3.4.1.orig/kded/Makefile.am	2005-08-14 10:18:11.000000000 -0700
+++ kdelibs-3.4.1/kded/Makefile.am	2005-08-14 10:20:37.000000000 -0700
@@ -60,7 +60,7 @@
 servicetype_DATA = kdedmodule.desktop
 servicetypedir = $(kde_servicetypesdir)
 
-xdg_menu_DATA = applications.menu
+xdg_menu_DATA = kde-applications.menu
 
 update_DATA = kded.upd
 updatedir = $(kde_datadir)/kconf_update
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kded/Makefile.in kdelibs-3.4.1/kded/Makefile.in
--- kdelibs-3.4.1.orig/kded/Makefile.in	2005-08-14 10:18:11.000000000 -0700
+++ kdelibs-3.4.1/kded/Makefile.in	2005-08-14 10:20:37.000000000 -0700
@@ -602,7 +602,7 @@
 
 servicetype_DATA = kdedmodule.desktop
 servicetypedir = $(kde_servicetypesdir)
-xdg_menu_DATA = applications.menu
+xdg_menu_DATA = kde-applications.menu
 update_DATA = kded.upd
 updatedir = $(kde_datadir)/kconf_update
 #>- all: all-am
@@ -1142,7 +1142,7 @@
 	-rm -f  vfolder_menu.moc kded.moc kdedmodule.moc kbuildsycoca.moc
 
 #>+ 2
-KDE_DIST=DESIGN kded.upd Makefile.in HOWTO vfolder_menu.h applications.menu kded.h kdedmodule.desktop README.kded kctimefactory.h Makefile.am 
+KDE_DIST=DESIGN kded.upd Makefile.in HOWTO vfolder_menu.h kde-applications.menu kded.h kdedmodule.desktop README.kded kctimefactory.h Makefile.am 
 
 #>+ 2
 docs-am:
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kded/applications.menu kdelibs-3.4.1/kded/applications.menu
--- kdelibs-3.4.1.orig/kded/applications.menu	2005-08-14 10:18:11.000000000 -0700
+++ kdelibs-3.4.1/kded/applications.menu	1969-12-31 16:00:00.000000000 -0800
@@ -1,381 +0,0 @@
- <!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
-  "http://www.freedesktop.org/standards/menu-spec/1.0/menu.dtd">
-
-<Menu>
-	<Name>Applications</Name>
-	<Directory>kde-main.directory</Directory>
-	<!-- Search the default locations -->
-	<KDELegacyDirs/>
-	<DefaultAppDirs/>
-	<DefaultDirectoryDirs/>
-	<DefaultLayout>
-		<Merge type="menus"/>
-		<Merge type="files"/>
-		<Separator/>
-		<Menuname>More</Menuname>
-	</DefaultLayout>
-	<Layout>
-		<Merge type="menus"/>
-		<Menuname>Applications</Menuname>
-		<Merge type="files"/>
-	</Layout>
-
-	<Menu>
-		<Name>Applications</Name>
-		<Directory>kde-unknown.directory</Directory>
-		<OnlyUnallocated/>
-		<Include>
-			<Not>
-				<!-- Don't list non-KDE core applications -->
-				<And>
-					<Category>Core</Category>
-					<Not><Category>KDE</Category></Not>
-				</And>
-				<!-- Don't list SUSE's YaST in here -->
-				<Category>X-SuSE-YaST</Category>
-			</Not>
-		</Include>
-	</Menu>
-       <Menu>
-                <Name>Development</Name>
-                <Directory>kde-development.directory</Directory>
-                <Menu>
-                        <Name>X-KDE-KDevelopIDE</Name>
-                        <Directory>kde-development-kdevelop.directory</Directory>
-                        <Include>
-                                <And>
-                                <Category>Development</Category>
-                                <Category>X-KDE-KDevelopIDE</Category>
-                                </And>
-                        </Include>
-                </Menu>
-                <Include>
-                        <And>
-                        <Category>Development</Category>
-                        <Not>
-                        <Category>X-KDE-KDevelopIDE</Category>
-                        </Not>
-                        </And>
-                </Include>
-        </Menu>
-	<Menu>
-		<Name>Science</Name>
-		<Directory>kde-science.directory</Directory>
-		<Include>
-			<And><!-- Include /any/ Science app which is not an Education app -->
-				<Or>
-					<Category>Astronomy</Category>
-					<Category>Biology</Category>
-					<Category>Chemistry</Category>
-					<Category>Geology</Category>
-					<Category>MedicalSoftware</Category>
-					<Category>Physics</Category>
-					<Category>Math</Category>
-					<Category>Science</Category>
-				</Or>
-				<Not><Category>Education</Category></Not>
-			</And>
-		</Include>
-	</Menu>
-	<Menu>
-		<Name>Editors</Name>
-		<Directory>kde-editors.directory</Directory>
-		<Include>
-			<Category>TextEditor</Category>
-		</Include>
-	</Menu>
-	<Menu>
-		<Name>Edutainment</Name>
-		<Directory>kde-edutainment.directory</Directory>
-		<Menu>
-			<Name>Languages</Name>
-			<Directory>kde-edu-languages.directory</Directory>
-			<Include>
-				<And>
-				<Category>Education</Category>
-				<Or>
-				<Category>Languages</Category>
-				<Category>X-KDE-Edu-Language</Category>
-				</Or>
-				</And>
-			</Include>
-		</Menu>
-		<Menu>
-			<Name>Mathematics</Name>
-			<Directory>kde-edu-mathematics.directory</Directory>
-			<Include>
-				<And>
-				<Category>Education</Category>
-				<Category>Math</Category>
-				</And>
-			</Include>
-		</Menu>
-		<Menu>
-			<Name>Miscellaneous</Name>
-			<Directory>kde-edu-miscellaneous.directory</Directory>
-			<Include>
-				<And>
-				<Category>Education</Category>
-				<Not>
-				<Category>Languages</Category>
-				<Category>X-KDE-Edu-Language</Category>
-				<Category>Math</Category>
-				<Category>Science</Category>
-				<Category>Teaching</Category>
-				<Category>X-KDE-Edu-Teaching</Category>
-				</Not>
-				</And>
-			</Include>
-		</Menu>
-		<Menu>
-			<Name>Science</Name>
-			<Directory>kde-edu-science.directory</Directory>
-			<Include>
-				<And>
-				<Category>Education</Category>
-				<Category>Science</Category>
-				</And>
-			</Include>
-		</Menu>
-		<Menu>
-			<Name>Tools</Name>
-			<Directory>kde-edu-tools.directory</Directory>
-			<Include>
-				<And>
-				<Category>Education</Category>
-				<Or>
-				<Category>Teaching</Category>
-				<Category>X-KDE-Edu-Teaching</Category>
-				</Or>
-				</And>
-			</Include>
-		</Menu>
-	</Menu>
-	<Menu>
-		<Name>Games</Name>
-		<Directory>kde-games.directory</Directory>
-		<Menu>
-			<Name>Arcade</Name>
-			<Directory>kde-games-arcade.directory</Directory>
-			<Include>
-				<And>
-				<Category>Game</Category>
-				<Category>ArcadeGame</Category>
-				</And>
-			</Include>
-		</Menu>
-		<Menu>
-			<Name>Board</Name>
-			<Directory>kde-games-board.directory</Directory>
-			<Include>
-				<And>
-				<Category>Game</Category>
-				<Category>BoardGame</Category>
-				</And>
-			</Include>
-		</Menu>
-		<Menu>
-			<Name>Card</Name>
-			<Directory>kde-games-card.directory</Directory>
-			<Include>
-				<And>
-				<Category>Game</Category>
-				<Category>CardGame</Category>
-				</And>
-			</Include>
-		</Menu>
-		<Menu>
-			<Name>Kidsgames</Name>
-			<Directory>kde-games-kids.directory</Directory>
-			<Include>
-				<And>
-				<Category>Game</Category>
-				<Or>
-				<Category>X-KDE-KidsGame</Category>
-				<Category>KidsGame</Category>
-				</Or>
-				</And>
-			</Include>
-		</Menu>
-		<Menu>
-			<Name>TacticStrategy</Name>
-			<Directory>kde-games-strategy.directory</Directory>
-			<Include>
-				<And>
-				<Category>Game</Category>
-				<Category>StrategyGame</Category>
-				</And>
-			</Include>
-		</Menu>
-		<Include>
-			<And>
-			<Category>Game</Category>
-			<Not>
-			<Category>ArcadeGame</Category>
-			<Category>BoardGame</Category>
-			<Category>CardGame</Category>
-			<Category>X-KDE-KidsGame</Category>
-			<Category>KidsGame</Category>
-			<Category>StrategyGame</Category>
-			</Not>
-			</And>
-		</Include>
-	</Menu>
-	<Menu>
-		<Name>Graphics</Name>
-		<Directory>kde-graphics.directory</Directory>
-		<Include>
-			<And>
-			<Category>Graphics</Category>
-			<Not><Category>X-KDE-More</Category></Not>
-			</And>
-		</Include>
-		<Menu>
-			<Name>More</Name>
-			<Directory>kde-more.directory</Directory>
-			<Include>
-				<And>
-				<Category>Graphics</Category>
-				<Category>X-KDE-More</Category>
-				</And>
-			</Include>
-		</Menu>
-	</Menu>
-	<Menu>
-		<Name>Internet</Name>
-		<Directory>kde-internet.directory</Directory>
-		<Include>
-			<And>
-			<Category>Network</Category>
-			<Not><Category>X-KDE-More</Category></Not>
-			</And>
-		</Include>
-		<Menu>
-		  <Name>Terminal</Name>
-		  <Directory>kde-internet-terminal.directory</Directory>
-		</Menu>
-		<Menu>
-			<Name>More</Name>
-			<Directory>kde-more.directory</Directory>
-			<Include>
-				<And>
-				<Category>Network</Category>
-				<Category>X-KDE-More</Category>
-				</And>
-			</Include>
-		</Menu>
-	</Menu>
-	<Menu>
-		<Name>Multimedia</Name>
-		<Directory>kde-multimedia.directory</Directory>
-		<Include>
-			<And>
-			<Category>AudioVideo</Category>
-			<Not><Category>X-KDE-More</Category></Not>
-			</And>
-		</Include>
-		<Menu>
-			<Name>More</Name>
-			<Directory>kde-more.directory</Directory>
-			<Include>
-				<And>
-				<Category>AudioVideo</Category>
-				<Category>X-KDE-More</Category>
-				</And>
-			</Include>
-		</Menu>
-	</Menu>
-	<Menu>
-		<Name>Office</Name>
-		<Directory>kde-office.directory</Directory>
-		<Layout>
-			<Merge type="menus"/>
-			<Filename>kde-koshell.desktop</Filename>
-			<Filename>kde-Kontact.desktop</Filename>
-			<Separator/>
-			<Filename>kde-kword.desktop</Filename>
-			<Filename>kde-kspread.desktop</Filename>
-			<Filename>kde-kpresenter.desktop</Filename>
-			<Merge type="files"/>
-			<Separator/>
-			<Menuname>More</Menuname>
-		</Layout>
-		<Include>
-			<Category>Office</Category>
-		</Include>
-	</Menu>
-	<Menu>
-		<Name>Settingsmenu</Name>
-		<Directory>kde-settingsmenu.directory</Directory>
-		<Include>
-			<Category>Settings</Category>
-		</Include>
-	</Menu>
-	<Menu>
-		<Name>System</Name>
-		<Directory>kde-system.directory</Directory>
-		<Include>
-			<And>
-			<Category>System</Category>
-			<Not><Category>X-KDE-More</Category></Not>
-			</And>
-		</Include>
-		<Menu>
-			<Name>More</Name>
-			<Directory>kde-more.directory</Directory>
-			<Include>
-				<And>
-				<Category>System</Category>
-				<Category>X-KDE-More</Category>
-				</And>
-			</Include>
-		</Menu>
-		<Menu>
-			<Name>ScreenSavers</Name>
-			<Directory>kde-system-screensavers.directory</Directory>
-		</Menu>
-		<Menu>
-			<Name>Terminal</Name>
-			<Directory>kde-system-terminal.directory</Directory>
-		</Menu>
-	</Menu>
-	<Menu>
-		<Name>Toys</Name>
-		<Directory>kde-toys.directory</Directory>
-		<Include>
-			<Category>Amusement</Category>
-		</Include>
-	</Menu>
-	<Menu>
-		<Name>Utilities</Name>
-		<Directory>kde-utilities.directory</Directory>
-		<Include>
-			<And>
-			<Category>Utility</Category>
-			<Not><Category>X-KDE-More</Category></Not>
-			</And>
-		</Include>
-		<Menu>
-			<Name>XUtilities</Name>
-			<Directory>kde-utilities-xutils.directory</Directory>
-		</Menu>
-		<Menu>
-			<Name>More</Name>
-			<Directory>kde-more.directory</Directory>
-			<Include>
-				<And>
-				<Category>Utility</Category>
-				<Category>X-KDE-More</Category>
-				</And>
-			</Include>
-		</Menu>
-	</Menu>
-	<Include>
-		<And>
-		<Category>KDE</Category>
-		<Category>Core</Category>
-		</And>
-	</Include>
-	<DefaultMergeDirs/>
-	<MergeFile>applications-kmenuedit.menu</MergeFile>
-</Menu>
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kded/kbuildsycoca.cpp kdelibs-3.4.1/kded/kbuildsycoca.cpp
--- kdelibs-3.4.1.orig/kded/kbuildsycoca.cpp	2005-08-14 10:18:11.000000000 -0700
+++ kdelibs-3.4.1/kded/kbuildsycoca.cpp	2005-08-14 10:20:37.000000000 -0700
@@ -378,7 +378,7 @@
      connect(g_vfolder, SIGNAL(newService(const QString &, KService **)),
              this, SLOT(slotCreateEntry(const QString &, KService **)));
              
-     VFolderMenu::SubMenu *kdeMenu = g_vfolder->parseMenu("applications.menu", true);
+     VFolderMenu::SubMenu *kdeMenu = g_vfolder->parseMenu("kde-applications.menu", true);
 
      KServiceGroup *entry = g_bsgf->addNew("/", kdeMenu->directoryFile, 0, false);
      entry->setLayoutInfo(kdeMenu->layoutList);
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kded/kde-applications.menu kdelibs-3.4.1/kded/kde-applications.menu
--- kdelibs-3.4.1.orig/kded/kde-applications.menu	1969-12-31 16:00:00.000000000 -0800
+++ kdelibs-3.4.1/kded/kde-applications.menu	2005-05-23 05:17:00.000000000 -0700
@@ -0,0 +1,381 @@
+ <!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
+  "http://www.freedesktop.org/standards/menu-spec/1.0/menu.dtd">
+
+<Menu>
+	<Name>Applications</Name>
+	<Directory>kde-main.directory</Directory>
+	<!-- Search the default locations -->
+	<KDELegacyDirs/>
+	<DefaultAppDirs/>
+	<DefaultDirectoryDirs/>
+	<DefaultLayout>
+		<Merge type="menus"/>
+		<Merge type="files"/>
+		<Separator/>
+		<Menuname>More</Menuname>
+	</DefaultLayout>
+	<Layout>
+		<Merge type="menus"/>
+		<Menuname>Applications</Menuname>
+		<Merge type="files"/>
+	</Layout>
+
+	<Menu>
+		<Name>Applications</Name>
+		<Directory>kde-unknown.directory</Directory>
+		<OnlyUnallocated/>
+		<Include>
+			<Not>
+				<!-- Don't list non-KDE core applications -->
+				<And>
+					<Category>Core</Category>
+					<Not><Category>KDE</Category></Not>
+				</And>
+				<!-- Don't list SUSE's YaST in here -->
+				<Category>X-SuSE-YaST</Category>
+			</Not>
+		</Include>
+	</Menu>
+       <Menu>
+                <Name>Development</Name>
+                <Directory>kde-development.directory</Directory>
+                <Menu>
+                        <Name>X-KDE-KDevelopIDE</Name>
+                        <Directory>kde-development-kdevelop.directory</Directory>
+                        <Include>
+                                <And>
+                                <Category>Development</Category>
+                                <Category>X-KDE-KDevelopIDE</Category>
+                                </And>
+                        </Include>
+                </Menu>
+                <Include>
+                        <And>
+                        <Category>Development</Category>
+                        <Not>
+                        <Category>X-KDE-KDevelopIDE</Category>
+                        </Not>
+                        </And>
+                </Include>
+        </Menu>
+	<Menu>
+		<Name>Science</Name>
+		<Directory>kde-science.directory</Directory>
+		<Include>
+			<And><!-- Include /any/ Science app which is not an Education app -->
+				<Or>
+					<Category>Astronomy</Category>
+					<Category>Biology</Category>
+					<Category>Chemistry</Category>
+					<Category>Geology</Category>
+					<Category>MedicalSoftware</Category>
+					<Category>Physics</Category>
+					<Category>Math</Category>
+					<Category>Science</Category>
+				</Or>
+				<Not><Category>Education</Category></Not>
+			</And>
+		</Include>
+	</Menu>
+	<Menu>
+		<Name>Editors</Name>
+		<Directory>kde-editors.directory</Directory>
+		<Include>
+			<Category>TextEditor</Category>
+		</Include>
+	</Menu>
+	<Menu>
+		<Name>Edutainment</Name>
+		<Directory>kde-edutainment.directory</Directory>
+		<Menu>
+			<Name>Languages</Name>
+			<Directory>kde-edu-languages.directory</Directory>
+			<Include>
+				<And>
+				<Category>Education</Category>
+				<Or>
+				<Category>Languages</Category>
+				<Category>X-KDE-Edu-Language</Category>
+				</Or>
+				</And>
+			</Include>
+		</Menu>
+		<Menu>
+			<Name>Mathematics</Name>
+			<Directory>kde-edu-mathematics.directory</Directory>
+			<Include>
+				<And>
+				<Category>Education</Category>
+				<Category>Math</Category>
+				</And>
+			</Include>
+		</Menu>
+		<Menu>
+			<Name>Miscellaneous</Name>
+			<Directory>kde-edu-miscellaneous.directory</Directory>
+			<Include>
+				<And>
+				<Category>Education</Category>
+				<Not>
+				<Category>Languages</Category>
+				<Category>X-KDE-Edu-Language</Category>
+				<Category>Math</Category>
+				<Category>Science</Category>
+				<Category>Teaching</Category>
+				<Category>X-KDE-Edu-Teaching</Category>
+				</Not>
+				</And>
+			</Include>
+		</Menu>
+		<Menu>
+			<Name>Science</Name>
+			<Directory>kde-edu-science.directory</Directory>
+			<Include>
+				<And>
+				<Category>Education</Category>
+				<Category>Science</Category>
+				</And>
+			</Include>
+		</Menu>
+		<Menu>
+			<Name>Tools</Name>
+			<Directory>kde-edu-tools.directory</Directory>
+			<Include>
+				<And>
+				<Category>Education</Category>
+				<Or>
+				<Category>Teaching</Category>
+				<Category>X-KDE-Edu-Teaching</Category>
+				</Or>
+				</And>
+			</Include>
+		</Menu>
+	</Menu>
+	<Menu>
+		<Name>Games</Name>
+		<Directory>kde-games.directory</Directory>
+		<Menu>
+			<Name>Arcade</Name>
+			<Directory>kde-games-arcade.directory</Directory>
+			<Include>
+				<And>
+				<Category>Game</Category>
+				<Category>ArcadeGame</Category>
+				</And>
+			</Include>
+		</Menu>
+		<Menu>
+			<Name>Board</Name>
+			<Directory>kde-games-board.directory</Directory>
+			<Include>
+				<And>
+				<Category>Game</Category>
+				<Category>BoardGame</Category>
+				</And>
+			</Include>
+		</Menu>
+		<Menu>
+			<Name>Card</Name>
+			<Directory>kde-games-card.directory</Directory>
+			<Include>
+				<And>
+				<Category>Game</Category>
+				<Category>CardGame</Category>
+				</And>
+			</Include>
+		</Menu>
+		<Menu>
+			<Name>Kidsgames</Name>
+			<Directory>kde-games-kids.directory</Directory>
+			<Include>
+				<And>
+				<Category>Game</Category>
+				<Or>
+				<Category>X-KDE-KidsGame</Category>
+				<Category>KidsGame</Category>
+				</Or>
+				</And>
+			</Include>
+		</Menu>
+		<Menu>
+			<Name>TacticStrategy</Name>
+			<Directory>kde-games-strategy.directory</Directory>
+			<Include>
+				<And>
+				<Category>Game</Category>
+				<Category>StrategyGame</Category>
+				</And>
+			</Include>
+		</Menu>
+		<Include>
+			<And>
+			<Category>Game</Category>
+			<Not>
+			<Category>ArcadeGame</Category>
+			<Category>BoardGame</Category>
+			<Category>CardGame</Category>
+			<Category>X-KDE-KidsGame</Category>
+			<Category>KidsGame</Category>
+			<Category>StrategyGame</Category>
+			</Not>
+			</And>
+		</Include>
+	</Menu>
+	<Menu>
+		<Name>Graphics</Name>
+		<Directory>kde-graphics.directory</Directory>
+		<Include>
+			<And>
+			<Category>Graphics</Category>
+			<Not><Category>X-KDE-More</Category></Not>
+			</And>
+		</Include>
+		<Menu>
+			<Name>More</Name>
+			<Directory>kde-more.directory</Directory>
+			<Include>
+				<And>
+				<Category>Graphics</Category>
+				<Category>X-KDE-More</Category>
+				</And>
+			</Include>
+		</Menu>
+	</Menu>
+	<Menu>
+		<Name>Internet</Name>
+		<Directory>kde-internet.directory</Directory>
+		<Include>
+			<And>
+			<Category>Network</Category>
+			<Not><Category>X-KDE-More</Category></Not>
+			</And>
+		</Include>
+		<Menu>
+		  <Name>Terminal</Name>
+		  <Directory>kde-internet-terminal.directory</Directory>
+		</Menu>
+		<Menu>
+			<Name>More</Name>
+			<Directory>kde-more.directory</Directory>
+			<Include>
+				<And>
+				<Category>Network</Category>
+				<Category>X-KDE-More</Category>
+				</And>
+			</Include>
+		</Menu>
+	</Menu>
+	<Menu>
+		<Name>Multimedia</Name>
+		<Directory>kde-multimedia.directory</Directory>
+		<Include>
+			<And>
+			<Category>AudioVideo</Category>
+			<Not><Category>X-KDE-More</Category></Not>
+			</And>
+		</Include>
+		<Menu>
+			<Name>More</Name>
+			<Directory>kde-more.directory</Directory>
+			<Include>
+				<And>
+				<Category>AudioVideo</Category>
+				<Category>X-KDE-More</Category>
+				</And>
+			</Include>
+		</Menu>
+	</Menu>
+	<Menu>
+		<Name>Office</Name>
+		<Directory>kde-office.directory</Directory>
+		<Layout>
+			<Merge type="menus"/>
+			<Filename>kde-koshell.desktop</Filename>
+			<Filename>kde-Kontact.desktop</Filename>
+			<Separator/>
+			<Filename>kde-kword.desktop</Filename>
+			<Filename>kde-kspread.desktop</Filename>
+			<Filename>kde-kpresenter.desktop</Filename>
+			<Merge type="files"/>
+			<Separator/>
+			<Menuname>More</Menuname>
+		</Layout>
+		<Include>
+			<Category>Office</Category>
+		</Include>
+	</Menu>
+	<Menu>
+		<Name>Settingsmenu</Name>
+		<Directory>kde-settingsmenu.directory</Directory>
+		<Include>
+			<Category>Settings</Category>
+		</Include>
+	</Menu>
+	<Menu>
+		<Name>System</Name>
+		<Directory>kde-system.directory</Directory>
+		<Include>
+			<And>
+			<Category>System</Category>
+			<Not><Category>X-KDE-More</Category></Not>
+			</And>
+		</Include>
+		<Menu>
+			<Name>More</Name>
+			<Directory>kde-more.directory</Directory>
+			<Include>
+				<And>
+				<Category>System</Category>
+				<Category>X-KDE-More</Category>
+				</And>
+			</Include>
+		</Menu>
+		<Menu>
+			<Name>ScreenSavers</Name>
+			<Directory>kde-system-screensavers.directory</Directory>
+		</Menu>
+		<Menu>
+			<Name>Terminal</Name>
+			<Directory>kde-system-terminal.directory</Directory>
+		</Menu>
+	</Menu>
+	<Menu>
+		<Name>Toys</Name>
+		<Directory>kde-toys.directory</Directory>
+		<Include>
+			<Category>Amusement</Category>
+		</Include>
+	</Menu>
+	<Menu>
+		<Name>Utilities</Name>
+		<Directory>kde-utilities.directory</Directory>
+		<Include>
+			<And>
+			<Category>Utility</Category>
+			<Not><Category>X-KDE-More</Category></Not>
+			</And>
+		</Include>
+		<Menu>
+			<Name>XUtilities</Name>
+			<Directory>kde-utilities-xutils.directory</Directory>
+		</Menu>
+		<Menu>
+			<Name>More</Name>
+			<Directory>kde-more.directory</Directory>
+			<Include>
+				<And>
+				<Category>Utility</Category>
+				<Category>X-KDE-More</Category>
+				</And>
+			</Include>
+		</Menu>
+	</Menu>
+	<Include>
+		<And>
+		<Category>KDE</Category>
+		<Category>Core</Category>
+		</And>
+	</Include>
+	<DefaultMergeDirs/>
+	<MergeFile>applications-kmenuedit.menu</MergeFile>
+</Menu>
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdelibs-3.4.0/darwin/kcmartsrc kdelibs-3.4.1/kdelibs-3.4.0/darwin/kcmartsrc
--- kdelibs-3.4.1.orig/kdelibs-3.4.0/darwin/kcmartsrc	1969-12-31 16:00:00.000000000 -0800
+++ kdelibs-3.4.1/kdelibs-3.4.0/darwin/kcmartsrc	2005-08-14 10:20:37.000000000 -0700
@@ -0,0 +1,14 @@
+[Arts]
+AddOptions=
+Arguments=\s-F 10 -S 4096 -a esd -s 60 -m artsmessage -c drkonqi -l 3 -f
+AudioIO=esd
+AutoSuspend=true
+Bits=0
+DeviceName=
+FullDuplex=false
+Latency=250
+NetworkTransparent=false
+SamplingRate=0
+StartRealtime=false
+StartServer=true
+SuspendTime=60
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdelibs-3.4.0/darwin/kdeglobals kdelibs-3.4.1/kdelibs-3.4.0/darwin/kdeglobals
--- kdelibs-3.4.1.orig/kdelibs-3.4.0/darwin/kdeglobals	1969-12-31 16:00:00.000000000 -0800
+++ kdelibs-3.4.1/kdelibs-3.4.0/darwin/kdeglobals	2005-08-14 10:20:37.000000000 -0700
@@ -0,0 +1,129 @@
+[$Version]
+update_info=kaccel.upd:kde3.3/r1,kded.upd:kde3.0,klippershortcuts.upd:04112002,kwin.upd:kde3.2Xinerama,socks.upd:kde3.0/r1
+
+[General]
+XftHintStyle=hintmedium
+XftSubPixel=
+fixed=Monaco CY,11,-1,5,50,0,0,0,0,0
+font=Baghdad,12,-1,5,50,0,0,0,0,0
+menuFont=Baghdad,12,-1,5,50,0,0,0,0,0
+taskbarFont=Baghdad,11,-1,5,50,0,0,0,0,0
+toolBarFont=Baghdad,10,-1,5,50,0,0,0,0,0
+
+[Global Shortcuts]
+Activate Window Demanding Attention=default(Alt+Ctrl+A)
+Defaults timestamp=Mar  1 200514:10:32
+Desktop Screenshot=default(Ctrl+Print)
+Enable/Disable Clipboard Actions=default(Alt+Ctrl+X)
+Halt without Confirmation=default(Alt+Ctrl+Shift+PageDown)
+Kill Window=default(Alt+Ctrl+Escape)
+Lock Session=default(Alt+Ctrl+L)
+Log Out=default(Alt+Ctrl+Delete)
+Log Out Without Confirmation=default(Alt+Ctrl+Shift+Delete)
+Manually Invoke Action on Current Clipboard=default(Alt+Ctrl+R)
+Mouse Emulation=default(Alt+F12)
+Next Taskbar Entry=none
+Popup Launch Menu=default(Alt+F1)
+Previous Taskbar Entry=none
+Reboot without Confirmation=default(Alt+Ctrl+Shift+PageUp)
+Run Command=default(Alt+F2)
+Setup Window Shortcut=none
+Show Klipper Popup-Menu=default(Alt+Ctrl+V)
+Show Taskmanager=default(Ctrl+Escape)
+Show Window List=default(Alt+F5)
+Switch One Desktop Down=none
+Switch One Desktop Up=none
+Switch One Desktop to the Left=none
+Switch One Desktop to the Right=none
+Switch User=default(Alt+Ctrl+Insert)
+Switch to Desktop 1=default(Ctrl+F1)
+Switch to Desktop 10=default(Ctrl+F10)
+Switch to Desktop 11=default(Ctrl+F11)
+Switch to Desktop 12=default(Ctrl+F12)
+Switch to Desktop 13=default(Ctrl+Shift+F1)
+Switch to Desktop 14=default(Ctrl+Shift+F2)
+Switch to Desktop 15=default(Ctrl+Shift+F3)
+Switch to Desktop 16=default(Ctrl+Shift+F4)
+Switch to Desktop 17=default(Ctrl+Shift+F5)
+Switch to Desktop 18=default(Ctrl+Shift+F6)
+Switch to Desktop 19=default(Ctrl+Shift+F7)
+Switch to Desktop 2=default(Ctrl+F2)
+Switch to Desktop 20=default(Ctrl+Shift+F8)
+Switch to Desktop 3=default(Ctrl+F3)
+Switch to Desktop 4=default(Ctrl+F4)
+Switch to Desktop 5=default(Ctrl+F5)
+Switch to Desktop 6=default(Ctrl+F6)
+Switch to Desktop 7=default(Ctrl+F7)
+Switch to Desktop 8=default(Ctrl+F8)
+Switch to Desktop 9=default(Ctrl+F9)
+Switch to Next Desktop=none
+Switch to Next Keyboard Layout=default(Alt+Ctrl+K)
+Switch to Previous Desktop=none
+Toggle Showing Desktop=default(Alt+Ctrl+D)
+Toggle Window Raise/Lower=none
+Walk Through Desktop List=default(Ctrl+Tab)
+Walk Through Desktop List (Reverse)=default(Ctrl+Shift+Tab)
+Walk Through Desktops=none
+Walk Through Desktops (Reverse)=none
+Walk Through Windows=default(Alt+Tab)
+Walk Through Windows (Reverse)=default(Alt+Shift+Tab)
+Window Above Other Windows=none
+Window Below Other Windows=none
+Window Close=default(Alt+F4)
+Window Fullscreen=none
+Window Grow Horizontal=none
+Window Grow Vertical=none
+Window Lower=none
+Window Maximize=none
+Window Maximize Horizontal=none
+Window Maximize Vertical=none
+Window Minimize=none
+Window Move=none
+Window No Border=none
+Window On All Desktops=none
+Window One Desktop Down=none
+Window One Desktop Up=none
+Window One Desktop to the Left=none
+Window One Desktop to the Right=none
+Window Operations Menu=default(Alt+F3)
+Window Pack Down=none
+Window Pack Left=none
+Window Pack Right=none
+Window Pack Up=none
+Window Raise=none
+Window Resize=none
+Window Screenshot=default(Alt+Print)
+Window Shade=none
+Window Shrink Horizontal=none
+Window Shrink Vertical=none
+Window to Desktop 1=none
+Window to Desktop 10=none
+Window to Desktop 11=none
+Window to Desktop 12=none
+Window to Desktop 13=none
+Window to Desktop 14=none
+Window to Desktop 15=none
+Window to Desktop 16=none
+Window to Desktop 17=none
+Window to Desktop 18=none
+Window to Desktop 19=none
+Window to Desktop 2=none
+Window to Desktop 20=none
+Window to Desktop 3=none
+Window to Desktop 4=none
+Window to Desktop 5=none
+Window to Desktop 6=none
+Window to Desktop 7=none
+Window to Desktop 8=none
+Window to Desktop 9=none
+Window to Next Desktop=none
+Window to Previous Desktop=none
+
+[KDE]
+ShowDeleteCommand=false
+
+[Paths]
+Trash=$HOME/Desktop/.Trash/
+
+[WM]
+activeFont=Baghdad,12,-1,5,50,0,0,0,0,0
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdelibs-3.4.0/darwin/konsolerc kdelibs-3.4.1/kdelibs-3.4.0/darwin/konsolerc
--- kdelibs-3.4.1.orig/kdelibs-3.4.0/darwin/konsolerc	1969-12-31 16:00:00.000000000 -0800
+++ kdelibs-3.4.1/kdelibs-3.4.0/darwin/konsolerc	2005-08-14 10:20:37.000000000 -0700
@@ -0,0 +1,19 @@
+[Desktop Entry]
+ActiveSession=0
+AutoResizeTabs=false
+DefaultSession=shell.desktop
+DynamicTabHide=false
+Fullscreen=false
+Height 832=510
+TabViewMode=0
+Width 1280=927
+bellmode=0
+class=konsole-mainwindow#1
+defaultfont=Monaco CY,12,-1,5,50,0,0,0,0,0
+font=8
+history=1000
+historyenabled=true
+keytab=default
+schema=Linux.schema
+scrollbar=2
+tabbar=2
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdeprint/configure.in.in kdelibs-3.4.1/kdeprint/configure.in.in
--- kdelibs-3.4.1.orig/kdeprint/configure.in.in	2005-08-14 10:18:50.000000000 -0700
+++ kdelibs-3.4.1/kdeprint/configure.in.in	2005-08-14 10:20:37.000000000 -0700
@@ -80,7 +80,7 @@
 
       dnl check if CUPS is at least 1.1.20
       ac_have_new_cups="no"
-      AC_CHECK_CUPS_VERSION(1.0120)
+      AC_CHECK_CUPS_VERSION(1.0121)
       if test "$ac_have_new_cups" = "yes"; then
  	AC_DEFINE(HAVE_CUPS_NO_PWD_CACHE, 1, CUPS doesn't have password caching)
       fi
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdesu/su.cpp kdelibs-3.4.1/kdesu/su.cpp
--- kdelibs-3.4.1.orig/kdesu/su.cpp	2005-08-14 10:18:51.000000000 -0700
+++ kdelibs-3.4.1/kdesu/su.cpp	2005-08-14 10:20:37.000000000 -0700
@@ -74,13 +74,14 @@
 	setTerminal(true);
 
     QCStringList args;
+    args += "-c";
+    args += "staff";
     if ((m_Scheduler != SchedNormal) || (m_Priority > 50))
 	args += "root";
     else
 	args += m_User;
     args += "-c";
     args += QCString(__KDE_BINDIR) + "/kdesu_stub";
-    args += "-";
 
     QCString command = __PATH_SU;
     if (::access(__PATH_SU, X_OK) != 0)
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kdeui/Makefile.am kdelibs-3.4.1/kdeui/Makefile.am
--- kdelibs-3.4.1.orig/kdeui/Makefile.am	2005-08-14 10:19:04.000000000 -0700
+++ kdelibs-3.4.1/kdeui/Makefile.am	2005-08-14 10:20:37.000000000 -0700
@@ -27,10 +27,10 @@
 AM_LDFLAGS = $(LDFLAGS_AS_NEEDED) $(LDFLAGS_NEW_DTAGS)
 
 lib_LTLIBRARIES = libkdeui.la libkspell.la
-libkdeui_la_LDFLAGS = $(KDE_MT_LDFLAGS) -no-undefined -version-info 6:0:2
+libkdeui_la_LDFLAGS = $(KDE_MT_LDFLAGS) $(all_libraries) -no-undefined -version-info 6:0:2
 libkdeui_la_LIBADD = ../kdecore/libkdecore.la
 
-libkspell_la_LDFLAGS = $(KDE_MT_LDFLAGS) -version-info 6:0:2 -no-undefined
+libkspell_la_LDFLAGS = $(KDE_MT_LDFLAGS) $(all_libraries) -version-info 6:0:2 -no-undefined
 libkspell_la_LIBADD = libkdeui.la
 libkspell_la_SOURCES = dummy.cpp
 
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kimgio/Makefile.am kdelibs-3.4.1/kimgio/Makefile.am
--- kdelibs-3.4.1.orig/kimgio/Makefile.am	2005-08-14 10:17:42.000000000 -0700
+++ kdelibs-3.4.1/kimgio/Makefile.am	2005-08-14 10:20:37.000000000 -0700
@@ -21,7 +21,7 @@
              kimg_pcx.la kimg_tga.la kimg_rgb.la kimg_xcf.la kimg_dds.la $(KIMGIO_EXR_MODULES) \
 			 kimg_psd.la
 
-KIMGIO_PLUGIN = -avoid-version -export-symbols-regex 'kimgio_.*_(read|write)'
+KIMGIO_PLUGIN = -avoid-version
 
 kimg_tiff_la_SOURCES = tiffr.cpp
 kimg_tiff_la_LDFLAGS = -module $(KIMGIO_PLUGIN) -no-undefined $(all_libraries)
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kinit/Makefile.am kdelibs-3.4.1/kinit/Makefile.am
--- kdelibs-3.4.1.orig/kinit/Makefile.am	2005-08-14 10:17:41.000000000 -0700
+++ kdelibs-3.4.1/kinit/Makefile.am	2005-08-14 10:20:37.000000000 -0700
@@ -15,7 +15,7 @@
 #    the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
 #    Boston, MA 02111-1307, USA.
 
-INCLUDES = -I$(srcdir)/../libltdl/ $(all_includes) $(KDEINIT_XFT_INCLUDES)
+INCLUDES = -I$(srcdir)/../libltdl/ $(KDEINIT_XFT_INCLUDES) $(all_includes)
 
 SUBDIRS = . tests
 
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kio/kssl/kopenssl.cc kdelibs-3.4.1/kio/kssl/kopenssl.cc
--- kdelibs-3.4.1.orig/kio/kssl/kopenssl.cc	2005-08-14 10:17:24.000000000 -0700
+++ kdelibs-3.4.1/kio/kssl/kopenssl.cc	2005-08-14 10:20:37.000000000 -0700
@@ -306,6 +306,7 @@
              #elif defined(_AIX)
              << "libssl.a(libssl.so.0)"
 	     #elif defined(__APPLE__)
+	     << "libssl.0.9.7.dylib"
 	     << "libssl.dylib"
 	     << "libssl.0.9.dylib"
              #else
@@ -323,6 +324,7 @@
              #elif defined(_AIX)
              << "libcrypto.a(libcrypto.so.0)"
 	     #elif defined(__APPLE__)
+	     << "libcrypto.0.9.7.dylib"
 	     << "libcrypto.dylib"
 	     << "libcrypto.0.9.dylib"
 	     #else
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/kio/misc/kpac/Makefile.am kdelibs-3.4.1/kio/misc/kpac/Makefile.am
--- kdelibs-3.4.1.orig/kio/misc/kpac/Makefile.am	2005-08-14 10:17:23.000000000 -0700
+++ kdelibs-3.4.1/kio/misc/kpac/Makefile.am	2005-08-14 10:20:37.000000000 -0700
@@ -10,7 +10,7 @@
 kded_proxyscout_la_SOURCES = proxyscout.skel proxyscout.cpp script.cpp \
                              downloader.cpp discovery.cpp
 kded_proxyscout_la_LDFLAGS = $(all_libraries) -module -avoid-version
-kded_proxyscout_la_LIBADD = $(LIB_KIO) $(top_builddir)/kjs/libkjs.la
+kded_proxyscout_la_LIBADD = $(LIB_KIO) $(top_builddir)/kjs/libkjs.la $(LIBRESOLV)
 
 kpac_dhcp_helper_SOURCES = kpac_dhcp_helper.c
 kpac_dhcp_helper_LDADD = $(LIBSOCKET)
diff -u -ruN -x'*~' kdelibs-3.4.1.orig/libltdl/ltdl.c kdelibs-3.4.1/libltdl/ltdl.c
--- kdelibs-3.4.1.orig/libltdl/ltdl.c	2005-08-14 10:17:12.000000000 -0700
+++ kdelibs-3.4.1/libltdl/ltdl.c	2005-08-14 10:20:37.000000000 -0700
@@ -643,8 +643,20 @@
      lt_module module;
      const char *symbol;
 {
+#ifdef TIGER_DLSYM_HACK
+  lt_ptr address = NULL;
+  char* u_symbol = NULL;
+  int val=asprintf(&u_symbol,"_%s",symbol);
+  address = NSAddressOfSymbol(NSLookupSymbolInModule(module,u_symbol));
+  if (((!strcmp("__kde_do_not_unload",symbol)) && (!strcmp("__kde_do_unload",symbol)))) {
+    if ((NULL == address) && NSIsSymbolNameDefined(u_symbol)) {
+      address = dlsym (module, symbol);
+    }
+  }
+  free(u_symbol);
+#else
   lt_ptr address = dlsym (module, symbol);
-
+#endif
   if (!address)
     {
       MUTEX_SETERROR (DLERROR (SYMBOL_NOT_FOUND));
