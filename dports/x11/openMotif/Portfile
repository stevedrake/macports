# $Id: Portfile,v 1.19 2005/12/13 16:25:17 yves Exp $

PortSystem 1.0
name			openmotif
version			2.3.0beta1
categories		x11
maintainers		yves@opendarwin.org
description		The Open Motif toolkit for X11
long_description	This is The Open Group's full version of Motif based on \
				the original OSF sources.
platforms		darwin
homepage		http://www.motifzone.net/
master_sites	http://ftp.motifzone.net/om2.3/
distname		${name}-${version}-src
checksums		md5 94ad0db66c354670a7b647979d883016

depends_build	lib:libX11.6:XFree86
depends_lib		port:jpeg port:libpng port:Xft2 port:expat port:fontconfig \
				port:freetype port:libiconv port:xrender port:zlib

worksrcdir		${name}-2.3.0

post-patch {
	reinplace "s;recipient's;recipients;" ${worksrcpath}/tools/wml/motif.wml
	reinplace "s|iconv_open|libiconv_open|g" ${worksrcpath}/configure
}

configure.args	--mandir=${prefix}/share/man
configure.env	CFLAGS=-I${prefix}/include CPPFLAGS=-I${prefix}/include \
				LDFLAGS=-L${prefix}/lib

build.env	LANG=C

platform darwin 8 {
	configure.env-append CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}

