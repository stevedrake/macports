# $Id$

PortSystem          1.0

name                php5-gtk
version             2.0.0beta
categories          x11 lang php www
maintainers         anant@kix.in
homepage            http://gtk.php.net/
distname            php-gtk-${version}
platforms           darwin freebsd

description \
	PHP-GTK: Gtk+ bindings for PHP 5.

long_description \
	PHP-GTK is a Gtk+ bindings for the PHP 5 scripting \
	language, allowing you to build rich, cross-platform \
	desktop applications using PHP.

master_sites \
	http://gtk.php.net/distributions/ 

checksums \
	md5 a02568508c2fb13bfc1b20802d8e702b \
	sha1 1d0de61ee4a082aa103875a87e86c62d5c35327b

depends_lib \
	port:gtk2 \
	port:php5

configure.args \
	--mandir=${prefix}/share/man \
	--infodir=${prefix}/share/info \
	--with-php-config=${prefix}/bin/php-config \
	--without-libglade

variant extra {
	depends_lib-append \
		port:gtk2-extra
	configure.args-append \
		--with-extra
}

variant html {
	depends_lib-append \
		port:libgtkhtml3
	configure.args-append \
		--with-html
}

variant libglade {
	depends_lib-append \
		port:libglade2
	configure.args-delete \
		--without-libglade
}

variant libsexy {
	depends_lib-append \
		port:libsexy
	configure.args-append \
		--with-libsexy
}

variant sourceview {
	depends_lib-append \
		port:gtksourceview
	configure.args-append \
		--with-sourceview
}

variant spell {
	depends_lib-append \
		port:gtkspell2
	configure.args-append \
		--with-spell
}

pre-configure {
	cd ${worksrcpath}
	system "./buildconf --with-phpize=${prefix}/bin/phpize"
}

post-destroot {
	cd ${worksrcpath}
	xinstall -d ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 README ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 README.KNOWN-ISSUES ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 NEWS ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 AUTHORS ${destroot}${prefix}/share/doc/${name}
}

post-install {
	ui_msg "\nIf this is your first install, you might want to enable PHP-GTK in the"
	ui_msg "ini file. Append the line: extension=php_gtk2.so to ${prefix}/etc/php.ini\n"
}

