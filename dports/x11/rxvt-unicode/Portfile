# $Id$

PortSystem 1.0
name               rxvt-unicode
version            8.1
revision	   1
categories         x11
maintainers	   pesco@gmx.de
description        Unicode-aware rxvt clone.
long_description   rxvt-unicode is a clone of the well-known terminal \
                   emulator rxvt. Some of it's main features over rxvt are \
                   use of UCS-2 or UCS-4 to store text internally, \
                   locale-correct in- and output, stability, \
                   completely flicker-free \
                   display, support for Xft and core fonts in any \
                   combination, etc.
homepage           http://software.schmorp.de/pkg/rxvt-unicode.html

master_sites       http://dist.schmorp.de/rxvt-unicode/ \
                   http://dist.schmorp.de/rxvt-unicode/Attic/
depends_lib        lib:libX11.6:XFree86 \
                   port:expat \
                   port:fontconfig \
                   port:freetype \
                   port:ncursesw \
                   port:perl5.8 \
                   port:pkgconfig \
                   port:Xft2 \
                   port:xrender \
                   port:zlib
use_bzip2          yes
checksums          md5 35b40231ea62b9ad4340080d34781927 \
                   sha1 b7d1d5188a655bcade8fd0708903bc3fc73484a4 \
                   rmd160 2e0535449267a43222976fd6a3dfeb7fd3201c87

configure.args     --enable-everything --with-codeset=all \
                   --mandir=${prefix}/share/man

destroot.env	   TERMINFO=${destroot}${prefix}/share/terminfo
pre-destroot {
	file mkdir ${destroot}${prefix}/share/terminfo
}
post-destroot {
	file mkdir ${destroot}/usr/share/terminfo/72
	system "cd ${destroot}/usr/share/terminfo/72 && ln -sf ${prefix}/share/terminfo/r/rxvt-unicode ."

	xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}/etc
	xinstall -m 644 -W ${worksrcpath} COPYING Changes INSTALL README.FAQ README.configure ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath}/doc/etc rxvt-unicode.termcap rxvt-unicode.terminfo ${destroot}${prefix}/share/doc/${name}/etc
}

platform darwin 8 {
	configure.env CC=/usr/bin/gcc-4.0 CPP=/usr/bin/cpp-4.0 CXX=/usr/bin/g++-4.0
}

