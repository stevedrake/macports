# $Id: Portfile,v 1.17 2004/04/28 18:48:03 jkh Exp $

PortSystem		1.0
name			tk
version			8.4.6
revision		1
categories		x11
maintainers		jkh@opendarwin.org
description		Tcl Tool Kit
long_description	This is Tk version ${version}, a GUI toolkit for Tcl. \
			The best way to get started with Tcl is to read \
			``Tcl and the Tk Toolkit'' by John K. Ousterhout, \
			Addison-Wesley, ISBN 0-201-63337-X.	
platforms		darwin
master_sites		sourceforge:tcl
distname		${portname}${portversion}-src
worksrcdir		${portname}${portversion}/unix
checksums		md5 24b7774d54c1c568cabe16f3498ddccd
destroot.destdir	INSTALL_ROOT=${destroot}
configure.args		--mandir=${prefix}/share/man
# force usage of DP Tcl
depends_build		lib:libtclXXX:tcl lib:libX11.6:XFree86

# This port also needs to have tcl extracted in order to build
pre-configure		{ portexec tcl build }
configure.env		CFLAGS=-I${portpath}/../../lang/tcl/work/tcl8.4.6/generic

post-destroot {
	cd ${destroot}${prefix}/bin
	system "ln -s ${prefix}/bin/wish8.4 wish"
}
