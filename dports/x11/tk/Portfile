# $Id: Portfile,v 1.19 2004/07/30 07:58:32 jkh Exp $

PortSystem		1.0
name			tk
version			8.4.7
categories		x11
maintainers		jkh@opendarwin.org
description		Tcl Tool Kit
long_description	This is Tk version ${version}, a GUI toolkit for Tcl. \
			The best way to get started with Tcl is to read \
			``Tcl and the Tk Toolkit'' by John K. Ousterhout, \
			Addison-Wesley, ISBN 0-201-63337-X.	
platforms		darwin
master_sites		sourceforge:tcl
distname		${portname}${portversion}-src
worksrcdir		${portname}${portversion}/unix
checksums		md5 b86b0db1c28723e6d3139e88250353a6
destroot.destdir	INSTALL_ROOT=${destroot}
configure.args		--mandir=${prefix}/share/man
# force usage of DP Tcl
depends_build		lib:XXX:tcl lib:libX11.6:XFree86

# This port also needs to have tcl (which should always be in sync)
# extracted in order to build
pre-configure		{ portexec tcl build }
configure.env		CFLAGS=-I${portpath}/../../lang/tcl/work/tcl${version}/generic

post-destroot {
	cd ${destroot}${prefix}/bin
	system "ln -s ${prefix}/bin/wish8.4 wish"
	cd ${destroot}${prefix}/lib
	system "ln -s ${prefix}/lib/libtk8.4.dylib libtk.dylib"
}
