# $Id$

PortSystem      1.0

name            urw-fonts
version         1.0.7pre43
categories      x11 fonts
maintainers     takanori
description     Cyrillized free URW fonts
long_description \
                These fonts were made from the free URW fonts distributed with ghostcript. \
                There are NO changes in the latin part of them (I hope). \
                Cyrillic glyphs were added by copying suitable latin ones \
                and painting oulines of unique cyrillic glyphs in same style as the others.
platforms       darwin
homepage        ftp://ftp.gnome.ru/fonts/urw/release/
master_sites    macports:takanori \
                ftp://ftp.gnome.ru/fonts/urw/release/
use_bzip2       yes
checksums       md5 97ff7f315bcf36558d7f326878551ac3 \
                sha1 21509653fa235d181a808137753c454a7e1148a1 \
                rmd160 7913b42613998976e32da689fbe46df96067802e

depends_run     port:fontconfig

extract.dir     ${worksrcpath}
pre-extract {
    file mkdir ${worksrcpath}
}

use_configure   no

build {}

destroot {
    set fontsdir ${destroot}${prefix}/share/fonts/${name}
    xinstall -d -m 755 ${fontsdir}
    foreach f {*.afm *.pfb *.pfm fonts.*} {
        eval xinstall -m 644 [glob ${worksrcpath}/${f}] ${fontsdir}
    }
}
post-destroot {
    xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 -W ${worksrcpath} COPYING ChangeLog README README.tweaks ${destroot}${prefix}/share/doc/${name}
}
post-activate {
    #though this approach is not so scalable.
    system "${prefix}/bin/fc-cache -fv ${prefix}/share/fonts"
}

livecheck.name   urw-fonts-cyrillic
