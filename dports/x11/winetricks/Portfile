# $Id$

PortSystem              1.0

name                    winetricks
version                 20100618
categories              x11
maintainers             ryandesign
homepage                http://code.google.com/p/winezeug/
master_sites            http://www.kegel.com/wine/
platforms               darwin
distname                ${name}
dist_subdir             ${name}/${version}
extract.suffix
extract.mkdir           yes
use_configure           no
universal_variant       no
if {[info exists supported_archs]} {
    supported_archs noarch
}
use_parallel_build      no

description \
    downloads and installs various redistributable runtime libraries

long_description \
    ${name} can help you prepare your system for Windows applications \
    that mistakenly assume all users' systems have all the needed \
    redistributable runtime libraries or fonts.

checksums               md5     a31cc4938e483987a4256e41bc350ef4 \
                        sha1    d6b509d0d001692d5f5431d8f7bbcbfb4fc6ee78 \
                        rmd160  438adb39ff36b30dc2400cfc546504fb4e0e5a46

depends_run \
    path:bin/xmessage:xmessage \
    path:bin/wine:wine \
    path:bin/cabextract:cabextract \
    path:bin/openssl:openssl \
    bin:curl:curl \
    bin:unzip:unzip

extract {
    copy ${distpath}/${name} ${worksrcpath}
}

build {}

destroot {
    xinstall -m 755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/${name}
}


livecheck.type          regex
livecheck.url           [lindex ${master_sites} 0]${name}
livecheck.regex         {^VERSION=(\d+)}
