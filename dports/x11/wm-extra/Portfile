# $Id: Portfile,v 1.2 2005/08/11 12:40:23 yves Exp $

PortSystem 1.0

name			wm-extra
version			0.1
revision        1
categories		x11 x11-wm
maintainers		yves@opendarwin.org
description		Extra themes for WindowMaker
long_description	${description}
platforms		darwin

set theme_site http://download.freshmeat.net/themes/
master_sites \
    http://www.windowmaker.org/pub/source/release/:source \
    http://www.opendarwin.org/~yves/:yd \
    ${theme_site}1136/:eleven \
    ${theme_site}0ne/:One \
    ${theme_site}actekchallenge/:actek \
    ${theme_site}afeelingofrain/:rain \
    ${theme_site}alphawm/:alpha \
    ${theme_site}blueleaves/:blue \
    ${theme_site}calvinandhobbes/:calvin \
    ${theme_site}explorer/:explorer \
    ${theme_site}secretspotwm/:secret

distfiles \
    WindowMaker-extra-latest${extract.suffix}:source \
    yd_wm_extras-0.1.tar.gz:yd \
    1136-0.52.tar.gz:eleven \
    0ne-default-1.tar.gz:One \
    actekchallenge-default-0.1.tar.gz:actek \
    afeelingofrain-default-0.3.tar.gz:rain \
    alphawm-default-0.81.tar.gz:alpha \
    blueleaves-default.tar.gz:blue \
    calvinandhobbes-0.60.0.tar.gz:calvin \
    explorer-default-0.81.tar.gz:explorer \
    secretspotwm-default-0.80.tar.gz:secret

checksums \
		WindowMaker-extra-latest${extract.suffix} \
		    md5 07c7700daaaf232bc490f5abaabef085 \
		yd_wm_extras-0.1.tar.gz \
		    md5 de5d64ada8c1e80539eb8655fbec85d2 \
		0ne-default-1.tar.gz \
		    md5 aa1aed3824217b01c87f3ff58cfbf23e \
		1136-0.52.tar.gz \
		    md5 2aab35473a3b6c59aab1b2f985032ad7 \
		actekchallenge-default-0.1.tar.gz \
		    md5 c961cb68f22d52548c1572f2624e929e \
		afeelingofrain-default-0.3.tar.gz \
		    md5 588aa39261f54cab6f490e7460d8f431 \
		alphawm-default-0.81.tar.gz \
		    md5 d9eec2c1fd9a6691896609c203cb0d40 \
		blueleaves-default.tar.gz \
		    md5 38aaf05cdeec52d700264f28b78e2544 \
		calvinandhobbes-0.60.0.tar.gz \
		    md5 f8b189ef916b11041f2403eec3155ca4 \
		explorer-default-0.81.tar.gz \
		    md5 6db5e40bd4aba0e44dcecd1e6feeb8dd \
		secretspotwm-default-0.80.tar.gz \
		    md5 8ff1a55d36a7a32832cd74a1cc4d0976


worksrcdir      WindowMaker-extra-${version}
build { }

post-destroot {
    set wm_data ${destroot}${prefix}/share/WindowMaker
    cd ${workpath}
    xinstall -d -m 755 ${wm_data}/Backgrounds
    xinstall -m 644 gnustepeinstein3.png \
        ${wm_data}/Backgrounds
    xinstall -m 644 hexley_fork_96.tiff ${wm_data}/Icons
    set fl [glob *.themed]
    foreach theme $fl {
        xinstall -d -m 755 ${wm_data}/Themes/$theme
        set dl [glob ${theme}/*]
        foreach item $dl {
            xinstall -m 644 $item ${wm_data}/Themes/$theme
        }
    }
    cd ${wm_data}/Icons
    file delete -force Draw.xpm PDF.xpm xv.xpm
}
