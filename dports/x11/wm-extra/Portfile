# $Id: Portfile,v 1.1 2005/08/10 18:40:26 yves Exp $

PortSystem 1.0

name			wm-extra
version			0.1
categories		x11 x11-wm
maintainers		yves@opendarwin.org
description		Extra themes for WindowMaker
long_description	${description}
platforms		darwin

set theme_site http://download.freshmeat.net/themes/
master_sites \
    http://www.windowmaker.org/pub/source/release/:source \
    http://www.opendarwin.org/~yves/:little \
    ${theme_site}1136/:eleven \
    ${theme_site}0ne/:One \
    ${theme_site}actekchallenge/:actek \
    ${theme_site}alphawm/:alpha \
    ${theme_site}blueleaves/:blue \
    ${theme_site}bright_moon_3/:bright \
    ${theme_site}secretspotwm/:secret

distfiles \
    WindowMaker-extra-latest${extract.suffix}:source \
    little_extras.tar.gz:little \
    1136-0.52.tar.gz:eleven \
    0ne-default-1.tar.gz:One \
    actekchallenge-default-0.1.tar.gz:actek \
    alphawm-default-0.81.tar.gz:alpha \
    blueleaves-default.tar.gz:blue \
    bright_moon_3-default-3.3.2.tar.gz:bright \
    secretspotwm-default-0.80.tar.gz:secret

checksums \
		WindowMaker-extra-latest${extract.suffix} \
		    md5 07c7700daaaf232bc490f5abaabef085 \
		little_extras.tar.gz \
		    md5 a13c4eff2240778017810acb52ec0a8a \
		0ne-default-1.tar.gz \
		    md5 aa1aed3824217b01c87f3ff58cfbf23e \
		1136-0.52.tar.gz \
		    md5 2aab35473a3b6c59aab1b2f985032ad7 \
		actekchallenge-default-0.1.tar.gz \
		    md5 c961cb68f22d52548c1572f2624e929e \
		alphawm-default-0.81.tar.gz \
		    md5 d9eec2c1fd9a6691896609c203cb0d40 \
		blueleaves-default.tar.gz \
		    md5 38aaf05cdeec52d700264f28b78e2544 \
		bright_moon_3-default-3.3.2.tar.gz \
		    md5 027a21512d631e2438da0c9e2a893152 \
		secretspotwm-default-0.80.tar.gz \
		    md5 8ff1a55d36a7a32832cd74a1cc4d0976


worksrcdir      WindowMaker-extra-${version}
build { }

post-destroot {
    set wm_data ${destroot}${prefix}/share/WindowMaker
    cd ${workpath}
    xinstall -d -m 755 ${wm_data}/Backgrounds
    xinstall -m 644 Backgrounds/Clock gnustepeinstein3.png \
        ${wm_data}/Backgrounds
    xinstall -m 644 hexley_fork_96.tiff ${wm_data}/Icons
    set fl [glob *.themed]
    foreach theme $fl {
        xinstall -d -m 755 ${wm_data}/Themes/$theme
        set dl [glob ${theme}/*]
        foreach item $dl {
            xinstall -m 644 $item ${wm_data}/Themes/$theme
        }
    }
    xinstall -m 644 Bright_Moon.kth Themes/1136 ${wm_data}/Themes
    cd ${wm_data}/Icons
    file delete -force Draw.xpm PDF.xpm xv.xpm
}
