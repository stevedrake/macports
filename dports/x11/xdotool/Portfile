# $Id$

PortSystem                  1.0

name                        xdotool
version                     1.20100318.2737
categories                  x11 devel
platforms                   darwin
maintainers                 ryandesign

description                 X11 keyboard and mouse simulation utility

long_description            ${name} lets you programatically (or manually) \
                            simulate keyboard input and mouse activity\; \
                            move, resize, hide and show windows\; \
                            modify window properties like the title\; etc.

notes                       To use xdotool (and avoid the error message \
                            \"Error: XTEST extension unavailable on '(null)'\")\
                            you need to enable the XTEST extension. If you're \
                            using Apple's X11.app, the command to do so is: \
                            \n\ndefaults write org.x.X11 enable_test_extensions -boolean true \
                            \n\nIf you're using the MacPorts X11.app, use: \
                            \n\ndefaults write org.macports.X11 enable_test_extensions -boolean true \
                            \n\nThis only needs to be done once.

homepage                    http://www.semicomplete.com/projects/xdotool/
master_sites                googlecode:semicomplete

checksums                   md5     5acdbc269d87928786ee63cff9060256 \
                            sha1    f31fdcf7365b62de94e38ef490da1b195ed4f08c \
                            rmd160  afd7ad77204cc4c0e8b0b87103782360a0c1ab27

depends_build               port:pkgconfig

depends_lib                 port:xorg-libXtst

patchfiles                  patch-Makefile.diff

platform darwin {
    patchfiles-append       patch-Makefile-darwin.diff
}

use_configure               no

build.env                   PREFIX=${prefix} \
                            CC=${configure.cc} \
                            CFLAGS="${configure.cflags}" \
                            LDFLAGS="${configure.ldflags}"
destroot.env                PREFIX=${prefix}

livecheck.url               http://code.google.com/p/semicomplete/downloads/list?q=${name}
livecheck.regex             ${name}-(\\d+\\.\\d+\\.\\d+)\\.tar
