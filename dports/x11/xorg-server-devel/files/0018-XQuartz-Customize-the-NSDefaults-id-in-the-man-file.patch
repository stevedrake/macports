From f20f1d57a514fe4b767b383c5369f1f79f2b1262 Mon Sep 17 00:00:00 2001
From: Jeremy Huddleston <jeremyhu@apple.com>
Date: Fri, 9 Apr 2010 13:33:06 -0700
Subject: [PATCH 18/25] XQuartz: Customize the NSDefaults id in the man file.

Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>
Reviewed-by: Kevin Van Vechten <kvv@apple.com>
(cherry picked from commit 5600f7f001529b3afdee95546aec212a70d6a5b2)
---
 hw/xquartz/doc/Makefile.am     |    2 ++
 hw/xquartz/doc/Xquartz.man.pre |   38 +++++++++++++++++++-------------------
 2 files changed, 21 insertions(+), 19 deletions(-)

diff --git xorg-server-1.8.0/hw/xquartz/doc/Makefile.am xorg-server-1.8.0/hw/xquartz/doc/Makefile.am
index 7310de3..6c68c84 100644
--- xorg-server-1.8.0/hw/xquartz/doc/Makefile.am
+++ xorg-server-1.8.0/hw/xquartz/doc/Makefile.am
@@ -7,6 +7,8 @@ CLEANFILES = $(appman_PROCESSED) $(appman_DATA)
 
 include $(top_srcdir)/cpprules.in
 
+MANDEFS += -D__laucnd_id_prefix__=$(LAUNCHD_ID_PREFIX)
+
 .man.$(APP_MAN_SUFFIX):
 	$(AM_V_at)cp $< $@
 
diff --git xorg-server-1.8.0/hw/xquartz/doc/Xquartz.man.pre xorg-server-1.8.0/hw/xquartz/doc/Xquartz.man.pre
index e54be96..4471947 100644
--- xorg-server-1.8.0/hw/xquartz/doc/Xquartz.man.pre
+++ xorg-server-1.8.0/hw/xquartz/doc/Xquartz.man.pre
@@ -16,72 +16,72 @@ OS X handles the desktop background.
 .SH CUSTOMIZATION
 \fIXquartz\fP can be customized using the defaults(1) command. The available options are:
 .TP 8
-.B defaults write org.x.X11 enable_fake_buttons -boolean true
+.B defaults write __laucnd_id_prefix__.X11 enable_fake_buttons -boolean true
 Emulates a 3 button mouse using modifier keys. By default, the Command modifier
 is used to emulate button 2 and Option is used for button 3. Thus, clicking the
 first mouse button while holding down Command will act like clicking
 button 2. Holding down Option will simulate button 3.
 .TP 8
-.B defaults write org.x.X11 fake_button2 \fImodifiers\fP
+.B defaults write __laucnd_id_prefix__.X11 fake_button2 \fImodifiers\fP
 Change the modifier keys used to emulate the second mouse button. By default,
 Command is used to emulate the second button. Any combination of the following
 modifier names may be used: {l,r,}shift, {l,r,}option, {l,r,}control, {l,r,}command, fn
 .TP 8
-.B defaults write org.x.X11 fake_button3 \fImodifiers\fP
+.B defaults write __laucnd_id_prefix__.X11 fake_button3 \fImodifiers\fP
 Change the modifier keys used to emulate the second mouse button. By default,
 Command is used to emulate the second button. Any combination of the following
 modifier names may be used: {l,r,}shift, {l,r,}option, {l,r,}control, {l,r,}command, fn
 .TP 8
-.B defaults write org.x.X11 fullscreen_hotkeys -boolean true
+.B defaults write __laucnd_id_prefix__.X11 fullscreen_hotkeys -boolean true
 Enable OSX hotkeys while in fullscreen
 .TP 8
-.B defaults write org.x.X11 fullscreen_menu -boolean true
+.B defaults write __laucnd_id_prefix__.X11 fullscreen_menu -boolean true
 Show the OSX menu while in fullscreen
 .TP 8
-.B defaults write org.x.X11 no_quit_alert -boolean true
+.B defaults write __laucnd_id_prefix__.X11 no_quit_alert -boolean true
 Disables the alert dialog displayed when attempting to quit X11.
 .TP 8
-.B defaults write org.x.X11 no_auth -boolean true
+.B defaults write __laucnd_id_prefix__.X11 no_auth -boolean true
 Stops the X server requiring that clients authenticate themselves when
 connecting.  See Xsecurity(__miscmansuffix__).
 .TP 8
-.B defaults write org.x.X11 nolisten_tcp -boolean false
+.B defaults write __laucnd_id_prefix__.X11 nolisten_tcp -boolean false
 This will tell the server to listen and accept TCP connections.  Doing this without enabling
 xauth is a possible security concern.  See Xsecurity(__miscmansuffix__).
 .TP 8
-.B defaults write org.x.X11 enable_system_beep -boolean false
+.B defaults write __laucnd_id_prefix__.X11 enable_system_beep -boolean false
 Don't use the standard system beep effect for X11 alerts.
 .TP 8
-.B defaults write org.x.X11 enable_key_equivalents -boolean false
+.B defaults write __laucnd_id_prefix__.X11 enable_key_equivalents -boolean false
 Disable menu keyboard equivalents while X11 windows are focused.
 .TP 8
-.B defaults write org.x.X11 depth \fIdepth\fP
+.B defaults write __laucnd_id_prefix__.X11 depth \fIdepth\fP
 Specifies the color bit depth to use. Currently only 15, and 24 color
 bits per pixel are supported. If not specified, or a value of -1 is specified,
 defaults to the depth of the main display.
 .TP 8
-.B defaults write org.x.X11 sync_keymap -boolean true
+.B defaults write __laucnd_id_prefix__.X11 sync_keymap -boolean true
 Keep the X11 keymap up to date with the OSX system keymap.
 .TP 8
-.B defaults write org.x.X11 option_sends_alt -boolean true
+.B defaults write __laucnd_id_prefix__.X11 option_sends_alt -boolean true
 The Option key will send Alt_L and Alt_R instead of Mode_switch.
 .TP 8
-.B defaults write org.x.X11 sync_pasteboard -boolean true
+.B defaults write __laucnd_id_prefix__.X11 sync_pasteboard -boolean true
 Enable syncing between the OSX pasteboard and clipboard/primary selection buffers in X11.  This option needs to be true for any of the other pasteboard sync options to have an effect.
 .TP 8
-.B defaults write org.x.X11 sync_pasteboard_to_clipboard -boolean true
+.B defaults write __laucnd_id_prefix__.X11 sync_pasteboard_to_clipboard -boolean true
 Update the X11 CLIPBOARD when the OSX NSPasteboard is updated.
 .TP 8
-.B defaults write org.x.X11 sync_pasteboard_to_primary -boolean true
+.B defaults write __laucnd_id_prefix__.X11 sync_pasteboard_to_primary -boolean true
 Update the the X11 PRIMARY buffer when the OSX NSPasteboard is updated.
 .TP 8
-.B defaults write org.x.X11 sync_clipboard_to_pasteboard -boolean true
+.B defaults write __laucnd_id_prefix__.X11 sync_clipboard_to_pasteboard -boolean true
 Update the the OSX NSPasteboard when the X11 CLIPBOARD is updated.  Note that enabling this option causes the clipboard synchronization to act as a clipboard manager in X11.  This makes it impossible to use xclipboard, klipper, or any other such clipboard managers.  If you want to use any of these programs, you must disable this option.
 .TP 8
-.B defaults write org.x.X11 sync_primary_on_select -boolean true
+.B defaults write __laucnd_id_prefix__.X11 sync_primary_on_select -boolean true
 This option defaults to false and is provided only "for experts."  It updates the NSPasteboard whenever a new X11 selection is made (rather than requiring you to hit cmd-c to copy the selection to the NSPasteboard).  Since the X11 protocol does not require applications to send notification when they change selection, this might not work in all cases (if you run into this problem, try selecting text in another application first, then selecting the text you want).
 .TP 8
-.B defaults write org.x.X11 enable_test_extensions -boolean true
+.B defaults write __laucnd_id_prefix__.X11 enable_test_extensions -boolean true
 This option defaults to false and is only accessible through the command line.  Enable this option to turn on the DEC-XTRAP, RECORD, and XTEST extensions in the server.
 .SH OPTIONS
 .PP
-- 
1.7.0.4

