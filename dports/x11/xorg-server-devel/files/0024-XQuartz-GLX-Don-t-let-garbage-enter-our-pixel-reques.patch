From dbc093ec10a3b734f99e13d4c43f273e6d9b6a39 Mon Sep 17 00:00:00 2001
From: Jeremy Huddleston <jeremyhu@apple.com>
Date: Thu, 15 Apr 2010 10:55:53 -0700
Subject: [PATCH 24/25] XQuartz GLX: Don't let garbage enter our pixel request

https://bugs.freedesktop.org/show_bug.cgi?id=27654

Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>
(cherry picked from commit 5b0faf355465c9f21ad96e0ed266fbdbc29efb5b)
---
 hw/xquartz/GL/indirect.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git xorg-server-1.8.0/hw/xquartz/GL/indirect.c xorg-server-1.8.0/hw/xquartz/GL/indirect.c
index f2af3ff..70558ed 100644
--- xorg-server-1.8.0/hw/xquartz/GL/indirect.c
+++ xorg-server-1.8.0/hw/xquartz/GL/indirect.c
@@ -548,7 +548,7 @@ static CGLPixelFormatObj makeFormat(__GLXconfig *conf) {
        attr[i++] = conf->samples;
     }
      
-    attr[i + 1] = 0;
+    attr[i] = 0;
 
     error = CGLChoosePixelFormat(attr, &fobj, &formats);
     if(error) {
-- 
1.7.0.4

