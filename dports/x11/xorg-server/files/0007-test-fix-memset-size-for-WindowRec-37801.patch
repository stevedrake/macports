From fe4af41314a6537b3fcc66955ccb6895639738b1 Mon Sep 17 00:00:00 2001
From: Peter Hutterer <peter.hutterer@who-t.net>
Date: Wed, 1 Jun 2011 10:24:43 +1000
Subject: [PATCH 7/7] test: fix memset size for WindowRec (#37801)

X.Org Bug 37801 <http://bugs.freedesktop.org/show_bug.cgi?id=37801>

Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
Reviewed-by: Jeremy Huddleston <jeremyhu@apple.com>
Reviewed-by: Daniel Stone <daniel@fooishbar.org>
Reviewed-by: Cyril Brulebois <kibi@debian.org>
Signed-off-by: Keith Packard <keithp@keithp.com>
(cherry picked from commit d9bda34d0df576d155e1d682d5e2a382b8e1ffda)
---
 test/xi2/protocol-common.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git xorg-server-1.10.2/test/xi2/protocol-common.c xorg-server-1.10.2/test/xi2/protocol-common.c
index 10d82a5..cd9e81a 100644
--- xorg-server-1.10.2/test/xi2/protocol-common.c
+++ xorg-server-1.10.2/test/xi2/protocol-common.c
@@ -122,7 +122,7 @@ ClientRec init_client(int len, void *data)
 
 void init_window(WindowPtr window, WindowPtr parent, int id)
 {
-    memset(window, 0, sizeof(window));
+    memset(window, 0, sizeof(*window));
 
     window->drawable.id = id;
     if (parent)
-- 
1.7.5.2

