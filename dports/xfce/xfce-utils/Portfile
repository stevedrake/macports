# $Id$

PortSystem 1.0

name		xfce-utils
version		4.6.0
categories	xfce
platforms	darwin
maintainers	afb@macports.org
description	Utilities for the Xfce Desktop Environment
long_description ${description}
homepage	http://www.xfce.org/
master_sites	http://www.ca-us.xfce.org/archive/xfce-${version}/src/
use_bzip2	yes
checksums	md5 b192940801a7bd9bb800e570a299ecde \
		sha1 2ca9480f9a12ab4e584e27bc3d9e99ec1fab1041 \
		rmd160 2c87dde300b2f74464972b60087c3205cce83cdd

depends_lib	port:libxfce4util port:xfconf

configure.args	--disable-gdm --with-xsession-prefix=${prefix}

pre-configure {
    if { ![file exists ${prefix}/lib/pkgconfig/x11.pc] } {
        configure.cppflags-append -I${x11prefix}/include
        configure.ldflags-append "-L${x11prefix}/lib -lXft -lfontconfig -lXrender -lXext -lXinerama -lXrandr"
    }
}

variant midori {
	depends_lib-append port:midori
	configure.args-append --with-browser=midori
}

variant firefox {
	depends_lib port:firefox-x11
	configure.args-append --with-browser=firefox
}

variant seamonkey {
	depends_lib port:seamonkey
	configure.args-append --with-browser=seamonkey
}
